(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();function Pv(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Cf={exports:{}},ia={},Rf={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var om;function xv(){if(om)return Re;om=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function I(b){return b===null||typeof b!="object"?null:(b=S&&b[S]||b["@@iterator"],typeof b=="function"?b:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,z={};function L(b,G,de){this.props=b,this.context=G,this.refs=z,this.updater=de||N}L.prototype.isReactComponent={},L.prototype.setState=function(b,G){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,G,"setState")},L.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function H(){}H.prototype=L.prototype;function q(b,G,de){this.props=b,this.context=G,this.refs=z,this.updater=de||N}var Q=q.prototype=new H;Q.constructor=q,M(Q,L.prototype),Q.isPureReactComponent=!0;var te=Array.isArray,he=Object.prototype.hasOwnProperty,me={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(b,G,de){var Se,Ce={},xe=null,be=null;if(G!=null)for(Se in G.ref!==void 0&&(be=G.ref),G.key!==void 0&&(xe=""+G.key),G)he.call(G,Se)&&!k.hasOwnProperty(Se)&&(Ce[Se]=G[Se]);var Fe=arguments.length-2;if(Fe===1)Ce.children=de;else if(1<Fe){for(var $e=Array(Fe),Et=0;Et<Fe;Et++)$e[Et]=arguments[Et+2];Ce.children=$e}if(b&&b.defaultProps)for(Se in Fe=b.defaultProps,Fe)Ce[Se]===void 0&&(Ce[Se]=Fe[Se]);return{$$typeof:i,type:b,key:xe,ref:be,props:Ce,_owner:me.current}}function R(b,G){return{$$typeof:i,type:b.type,key:G,ref:b.ref,props:b.props,_owner:b._owner}}function P(b){return typeof b=="object"&&b!==null&&b.$$typeof===i}function D(b){var G={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(de){return G[de]})}var O=/\/+/g;function A(b,G){return typeof b=="object"&&b!==null&&b.key!=null?D(""+b.key):G.toString(36)}function Je(b,G,de,Se,Ce){var xe=typeof b;(xe==="undefined"||xe==="boolean")&&(b=null);var be=!1;if(b===null)be=!0;else switch(xe){case"string":case"number":be=!0;break;case"object":switch(b.$$typeof){case i:case e:be=!0}}if(be)return be=b,Ce=Ce(be),b=Se===""?"."+A(be,0):Se,te(Ce)?(de="",b!=null&&(de=b.replace(O,"$&/")+"/"),Je(Ce,G,de,"",function(Et){return Et})):Ce!=null&&(P(Ce)&&(Ce=R(Ce,de+(!Ce.key||be&&be.key===Ce.key?"":(""+Ce.key).replace(O,"$&/")+"/")+b)),G.push(Ce)),1;if(be=0,Se=Se===""?".":Se+":",te(b))for(var Fe=0;Fe<b.length;Fe++){xe=b[Fe];var $e=Se+A(xe,Fe);be+=Je(xe,G,de,$e,Ce)}else if($e=I(b),typeof $e=="function")for(b=$e.call(b),Fe=0;!(xe=b.next()).done;)xe=xe.value,$e=Se+A(xe,Fe++),be+=Je(xe,G,de,$e,Ce);else if(xe==="object")throw G=String(b),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return be}function ct(b,G,de){if(b==null)return b;var Se=[],Ce=0;return Je(b,Se,"","",function(xe){return G.call(de,xe,Ce++)}),Se}function ft(b){if(b._status===-1){var G=b._result;G=G(),G.then(function(de){(b._status===0||b._status===-1)&&(b._status=1,b._result=de)},function(de){(b._status===0||b._status===-1)&&(b._status=2,b._result=de)}),b._status===-1&&(b._status=0,b._result=G)}if(b._status===1)return b._result.default;throw b._result}var Oe={current:null},re={transition:null},ge={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:re,ReactCurrentOwner:me};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:ct,forEach:function(b,G,de){ct(b,function(){G.apply(this,arguments)},de)},count:function(b){var G=0;return ct(b,function(){G++}),G},toArray:function(b){return ct(b,function(G){return G})||[]},only:function(b){if(!P(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},Re.Component=L,Re.Fragment=n,Re.Profiler=a,Re.PureComponent=q,Re.StrictMode=s,Re.Suspense=g,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Re.act=oe,Re.cloneElement=function(b,G,de){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var Se=M({},b.props),Ce=b.key,xe=b.ref,be=b._owner;if(G!=null){if(G.ref!==void 0&&(xe=G.ref,be=me.current),G.key!==void 0&&(Ce=""+G.key),b.type&&b.type.defaultProps)var Fe=b.type.defaultProps;for($e in G)he.call(G,$e)&&!k.hasOwnProperty($e)&&(Se[$e]=G[$e]===void 0&&Fe!==void 0?Fe[$e]:G[$e])}var $e=arguments.length-2;if($e===1)Se.children=de;else if(1<$e){Fe=Array($e);for(var Et=0;Et<$e;Et++)Fe[Et]=arguments[Et+2];Se.children=Fe}return{$$typeof:i,type:b.type,key:Ce,ref:xe,props:Se,_owner:be}},Re.createContext=function(b){return b={$$typeof:f,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:u,_context:b},b.Consumer=b},Re.createElement=T,Re.createFactory=function(b){var G=T.bind(null,b);return G.type=b,G},Re.createRef=function(){return{current:null}},Re.forwardRef=function(b){return{$$typeof:d,render:b}},Re.isValidElement=P,Re.lazy=function(b){return{$$typeof:E,_payload:{_status:-1,_result:b},_init:ft}},Re.memo=function(b,G){return{$$typeof:_,type:b,compare:G===void 0?null:G}},Re.startTransition=function(b){var G=re.transition;re.transition={};try{b()}finally{re.transition=G}},Re.unstable_act=oe,Re.useCallback=function(b,G){return Oe.current.useCallback(b,G)},Re.useContext=function(b){return Oe.current.useContext(b)},Re.useDebugValue=function(){},Re.useDeferredValue=function(b){return Oe.current.useDeferredValue(b)},Re.useEffect=function(b,G){return Oe.current.useEffect(b,G)},Re.useId=function(){return Oe.current.useId()},Re.useImperativeHandle=function(b,G,de){return Oe.current.useImperativeHandle(b,G,de)},Re.useInsertionEffect=function(b,G){return Oe.current.useInsertionEffect(b,G)},Re.useLayoutEffect=function(b,G){return Oe.current.useLayoutEffect(b,G)},Re.useMemo=function(b,G){return Oe.current.useMemo(b,G)},Re.useReducer=function(b,G,de){return Oe.current.useReducer(b,G,de)},Re.useRef=function(b){return Oe.current.useRef(b)},Re.useState=function(b){return Oe.current.useState(b)},Re.useSyncExternalStore=function(b,G,de){return Oe.current.useSyncExternalStore(b,G,de)},Re.useTransition=function(){return Oe.current.useTransition()},Re.version="18.3.1",Re}var am;function hh(){return am||(am=1,Rf.exports=xv()),Rf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm;function Nv(){if(lm)return ia;lm=1;var i=hh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function f(d,g,_){var E,S={},I=null,N=null;_!==void 0&&(I=""+_),g.key!==void 0&&(I=""+g.key),g.ref!==void 0&&(N=g.ref);for(E in g)s.call(g,E)&&!u.hasOwnProperty(E)&&(S[E]=g[E]);if(d&&d.defaultProps)for(E in g=d.defaultProps,g)S[E]===void 0&&(S[E]=g[E]);return{$$typeof:e,type:d,key:I,ref:N,props:S,_owner:a.current}}return ia.Fragment=n,ia.jsx=f,ia.jsxs=f,ia}var um;function Dv(){return um||(um=1,Cf.exports=Nv()),Cf.exports}var ee=Dv(),Xl={},Af={exports:{}},Jt={},kf={exports:{}},Pf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cm;function Vv(){return cm||(cm=1,function(i){function e(re,ge){var oe=re.length;re.push(ge);e:for(;0<oe;){var b=oe-1>>>1,G=re[b];if(0<a(G,ge))re[b]=ge,re[oe]=G,oe=b;else break e}}function n(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var ge=re[0],oe=re.pop();if(oe!==ge){re[0]=oe;e:for(var b=0,G=re.length,de=G>>>1;b<de;){var Se=2*(b+1)-1,Ce=re[Se],xe=Se+1,be=re[xe];if(0>a(Ce,oe))xe<G&&0>a(be,Ce)?(re[b]=be,re[xe]=oe,b=xe):(re[b]=Ce,re[Se]=oe,b=Se);else if(xe<G&&0>a(be,oe))re[b]=be,re[xe]=oe,b=xe;else break e}}return ge}function a(re,ge){var oe=re.sortIndex-ge.sortIndex;return oe!==0?oe:re.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,d=f.now();i.unstable_now=function(){return f.now()-d}}var g=[],_=[],E=1,S=null,I=3,N=!1,M=!1,z=!1,L=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(re){for(var ge=n(_);ge!==null;){if(ge.callback===null)s(_);else if(ge.startTime<=re)s(_),ge.sortIndex=ge.expirationTime,e(g,ge);else break;ge=n(_)}}function te(re){if(z=!1,Q(re),!M)if(n(g)!==null)M=!0,ft(he);else{var ge=n(_);ge!==null&&Oe(te,ge.startTime-re)}}function he(re,ge){M=!1,z&&(z=!1,H(T),T=-1),N=!0;var oe=I;try{for(Q(ge),S=n(g);S!==null&&(!(S.expirationTime>ge)||re&&!D());){var b=S.callback;if(typeof b=="function"){S.callback=null,I=S.priorityLevel;var G=b(S.expirationTime<=ge);ge=i.unstable_now(),typeof G=="function"?S.callback=G:S===n(g)&&s(g),Q(ge)}else s(g);S=n(g)}if(S!==null)var de=!0;else{var Se=n(_);Se!==null&&Oe(te,Se.startTime-ge),de=!1}return de}finally{S=null,I=oe,N=!1}}var me=!1,k=null,T=-1,R=5,P=-1;function D(){return!(i.unstable_now()-P<R)}function O(){if(k!==null){var re=i.unstable_now();P=re;var ge=!0;try{ge=k(!0,re)}finally{ge?A():(me=!1,k=null)}}else me=!1}var A;if(typeof q=="function")A=function(){q(O)};else if(typeof MessageChannel<"u"){var Je=new MessageChannel,ct=Je.port2;Je.port1.onmessage=O,A=function(){ct.postMessage(null)}}else A=function(){L(O,0)};function ft(re){k=re,me||(me=!0,A())}function Oe(re,ge){T=L(function(){re(i.unstable_now())},ge)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(re){re.callback=null},i.unstable_continueExecution=function(){M||N||(M=!0,ft(he))},i.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<re?Math.floor(1e3/re):5},i.unstable_getCurrentPriorityLevel=function(){return I},i.unstable_getFirstCallbackNode=function(){return n(g)},i.unstable_next=function(re){switch(I){case 1:case 2:case 3:var ge=3;break;default:ge=I}var oe=I;I=ge;try{return re()}finally{I=oe}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(re,ge){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var oe=I;I=re;try{return ge()}finally{I=oe}},i.unstable_scheduleCallback=function(re,ge,oe){var b=i.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?b+oe:b):oe=b,re){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=oe+G,re={id:E++,callback:ge,priorityLevel:re,startTime:oe,expirationTime:G,sortIndex:-1},oe>b?(re.sortIndex=oe,e(_,re),n(g)===null&&re===n(_)&&(z?(H(T),T=-1):z=!0,Oe(te,oe-b))):(re.sortIndex=G,e(g,re),M||N||(M=!0,ft(he))),re},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(re){var ge=I;return function(){var oe=I;I=ge;try{return re.apply(this,arguments)}finally{I=oe}}}}(Pf)),Pf}var fm;function Lv(){return fm||(fm=1,kf.exports=Vv()),kf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm;function Ov(){if(hm)return Jt;hm=1;var i=hh(),e=Lv();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function u(t,r){f(t,r),f(t+"Capture",r)}function f(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},S={};function I(t){return g.call(S,t)?!0:g.call(E,t)?!1:_.test(t)?S[t]=!0:(E[t]=!0,!1)}function N(t,r,o,c){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function M(t,r,o,c){if(r===null||typeof r>"u"||N(t,r,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function z(t,r,o,c,h,m,v){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=m,this.removeEmptyString=v}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){L[t]=new z(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];L[r]=new z(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){L[t]=new z(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){L[t]=new z(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){L[t]=new z(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){L[t]=new z(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){L[t]=new z(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){L[t]=new z(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){L[t]=new z(t,5,!1,t.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function q(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(H,q);L[r]=new z(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(H,q);L[r]=new z(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(H,q);L[r]=new z(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){L[t]=new z(t,1,!1,t.toLowerCase(),null,!1,!1)}),L.xlinkHref=new z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){L[t]=new z(t,1,!1,t.toLowerCase(),null,!0,!0)});function Q(t,r,o,c){var h=L.hasOwnProperty(r)?L[r]:null;(h!==null?h.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(M(r,o,h,c)&&(o=null),c||h===null?I(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):h.mustUseProperty?t[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,c=h.attributeNamespace,o===null?t.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,c?t.setAttributeNS(c,r,o):t.setAttribute(r,o))))}var te=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,he=Symbol.for("react.element"),me=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),D=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),Je=Symbol.for("react.suspense_list"),ct=Symbol.for("react.memo"),ft=Symbol.for("react.lazy"),Oe=Symbol.for("react.offscreen"),re=Symbol.iterator;function ge(t){return t===null||typeof t!="object"?null:(t=re&&t[re]||t["@@iterator"],typeof t=="function"?t:null)}var oe=Object.assign,b;function G(t){if(b===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);b=r&&r[1]||""}return`
`+b+t}var de=!1;function Se(t,r){if(!t||de)return"";de=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(j){var c=j}Reflect.construct(t,[],r)}else{try{r.call()}catch(j){c=j}t.call(r.prototype)}else{try{throw Error()}catch(j){c=j}t()}}catch(j){if(j&&c&&typeof j.stack=="string"){for(var h=j.stack.split(`
`),m=c.stack.split(`
`),v=h.length-1,C=m.length-1;1<=v&&0<=C&&h[v]!==m[C];)C--;for(;1<=v&&0<=C;v--,C--)if(h[v]!==m[C]){if(v!==1||C!==1)do if(v--,C--,0>C||h[v]!==m[C]){var x=`
`+h[v].replace(" at new "," at ");return t.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",t.displayName)),x}while(1<=v&&0<=C);break}}}finally{de=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?G(t):""}function Ce(t){switch(t.tag){case 5:return G(t.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return t=Se(t.type,!1),t;case 11:return t=Se(t.type.render,!1),t;case 1:return t=Se(t.type,!0),t;default:return""}}function xe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case me:return"Portal";case R:return"Profiler";case T:return"StrictMode";case A:return"Suspense";case Je:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D:return(t.displayName||"Context")+".Consumer";case P:return(t._context.displayName||"Context")+".Provider";case O:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ct:return r=t.displayName||null,r!==null?r:xe(t.type)||"Memo";case ft:r=t._payload,t=t._init;try{return xe(t(r))}catch{}}return null}function be(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Fe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $e(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Et(t){var r=$e(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),c=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,m=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){c=""+v,m.call(this,v)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function tr(t){t._valueTracker||(t._valueTracker=Et(t))}function Gi(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return t&&(c=$e(t)?t.checked?"true":"false":t.value),t=c,t!==o?(r.setValue(t),!0):!1}function Rr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function fi(t,r){var o=r.checked;return oe({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Xi(t,r){var o=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;o=Fe(r.value!=null?r.value:o),t._wrapperState={initialChecked:c,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function uo(t,r){r=r.checked,r!=null&&Q(t,"checked",r,!1)}function co(t,r){uo(t,r);var o=Fe(r.value),c=r.type;if(o!=null)c==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Yi(t,r.type,o):r.hasOwnProperty("defaultValue")&&Yi(t,r.type,Fe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Oa(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Yi(t,r,o){(r!=="number"||Rr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var nr=Array.isArray;function rr(t,r,o,c){if(t=t.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=r.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&c&&(t[o].defaultSelected=!0)}else{for(o=""+Fe(o),r=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,c&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function fo(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return oe({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ji(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(nr(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Fe(o)}}function Zi(t,r){var o=Fe(r.value),c=Fe(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),c!=null&&(t.defaultValue=""+c)}function ho(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function ht(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?ht(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ir,po=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,c,h){MSApp.execUnsafeLocalFunction(function(){return t(r,o,c,h)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(ir=ir||document.createElement("div"),ir.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=ir.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Ar(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},di=["Webkit","ms","Moz","O"];Object.keys(hi).forEach(function(t){di.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),hi[r]=hi[t]})});function mo(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||hi.hasOwnProperty(t)&&hi[t]?(""+r).trim():r+"px"}function go(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var c=o.indexOf("--")===0,h=mo(o,r[o],c);o==="float"&&(o="cssFloat"),c?t.setProperty(o,h):t[o]=h}}var yo=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _o(t,r){if(r){if(yo[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function vo(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pi=null;function es(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ts=null,cn=null,Mn=null;function ns(t){if(t=$o(t)){if(typeof ts!="function")throw Error(n(280));var r=t.stateNode;r&&(r=fl(r),ts(t.stateNode,t.type,r))}}function bn(t){cn?Mn?Mn.push(t):Mn=[t]:cn=t}function Eo(){if(cn){var t=cn,r=Mn;if(Mn=cn=null,ns(t),r)for(t=0;t<r.length;t++)ns(r[t])}}function mi(t,r){return t(r)}function wo(){}var sr=!1;function To(t,r,o){if(sr)return t(r,o);sr=!0;try{return mi(t,r,o)}finally{sr=!1,(cn!==null||Mn!==null)&&(wo(),Eo())}}function it(t,r){var o=t.stateNode;if(o===null)return null;var c=fl(o);if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var rs=!1;if(d)try{var En={};Object.defineProperty(En,"passive",{get:function(){rs=!0}}),window.addEventListener("test",En,En),window.removeEventListener("test",En,En)}catch{rs=!1}function gi(t,r,o,c,h,m,v,C,x){var j=Array.prototype.slice.call(arguments,3);try{r.apply(o,j)}catch(Y){this.onError(Y)}}var yi=!1,is=null,wn=!1,Io=null,Ju={onError:function(t){yi=!0,is=t}};function ss(t,r,o,c,h,m,v,C,x){yi=!1,is=null,gi.apply(Ju,arguments)}function Ma(t,r,o,c,h,m,v,C,x){if(ss.apply(this,arguments),yi){if(yi){var j=is;yi=!1,is=null}else throw Error(n(198));wn||(wn=!0,Io=j)}}function Tn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function _i(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function In(t){if(Tn(t)!==t)throw Error(n(188))}function ba(t){var r=t.alternate;if(!r){if(r=Tn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,c=r;;){var h=o.return;if(h===null)break;var m=h.alternate;if(m===null){if(c=h.return,c!==null){o=c;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===o)return In(h),t;if(m===c)return In(h),r;m=m.sibling}throw Error(n(188))}if(o.return!==c.return)o=h,c=m;else{for(var v=!1,C=h.child;C;){if(C===o){v=!0,o=h,c=m;break}if(C===c){v=!0,c=h,o=m;break}C=C.sibling}if(!v){for(C=m.child;C;){if(C===o){v=!0,o=m,c=h;break}if(C===c){v=!0,c=m,o=h;break}C=C.sibling}if(!v)throw Error(n(189))}}if(o.alternate!==c)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function So(t){return t=ba(t),t!==null?os(t):null}function os(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=os(t);if(r!==null)return r;t=t.sibling}return null}var as=e.unstable_scheduleCallback,Co=e.unstable_cancelCallback,Fa=e.unstable_shouldYield,Zu=e.unstable_requestPaint,qe=e.unstable_now,Ua=e.unstable_getCurrentPriorityLevel,vi=e.unstable_ImmediatePriority,kr=e.unstable_UserBlockingPriority,fn=e.unstable_NormalPriority,Ro=e.unstable_LowPriority,za=e.unstable_IdlePriority,Ei=null,en=null;function Ba(t){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Ei,t,void 0,(t.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:$a,Ao=Math.log,ja=Math.LN2;function $a(t){return t>>>=0,t===0?32:31-(Ao(t)/ja|0)|0}var ls=64,us=4194304;function Pr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wi(t,r){var o=t.pendingLanes;if(o===0)return 0;var c=0,h=t.suspendedLanes,m=t.pingedLanes,v=o&268435455;if(v!==0){var C=v&~h;C!==0?c=Pr(C):(m&=v,m!==0&&(c=Pr(m)))}else v=o&~h,v!==0?c=Pr(v):m!==0&&(c=Pr(m));if(c===0)return 0;if(r!==0&&r!==c&&!(r&h)&&(h=c&-c,m=r&-r,h>=m||h===16&&(m&4194240)!==0))return r;if(c&4&&(c|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=c;0<r;)o=31-zt(r),h=1<<o,c|=t[o],r&=~h;return c}function ec(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function or(t,r){for(var o=t.suspendedLanes,c=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes;0<m;){var v=31-zt(m),C=1<<v,x=h[v];x===-1?(!(C&o)||C&c)&&(h[v]=ec(C,r)):x<=r&&(t.expiredLanes|=C),m&=~C}}function tn(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ti(){var t=ls;return ls<<=1,!(ls&4194240)&&(ls=64),t}function xr(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Nr(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-zt(r),t[r]=o}function je(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-zt(o),m=1<<h;r[h]=0,c[h]=-1,t[h]=-1,o&=~m}}function Dr(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var c=31-zt(o),h=1<<c;h&r|t[c]&r&&(t[c]|=r),o&=~h}}var ke=0;function Vr(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qa,cs,Ha,Wa,Qa,ko=!1,Fn=[],Rt=null,Sn=null,Cn=null,Lr=new Map,hn=new Map,Un=[],tc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ka(t,r){switch(t){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":Sn=null;break;case"mouseover":case"mouseout":Cn=null;break;case"pointerover":case"pointerout":Lr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":hn.delete(r.pointerId)}}function Ht(t,r,o,c,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:m,targetContainers:[h]},r!==null&&(r=$o(r),r!==null&&cs(r)),t):(t.eventSystemFlags|=c,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function nc(t,r,o,c,h){switch(r){case"focusin":return Rt=Ht(Rt,t,r,o,c,h),!0;case"dragenter":return Sn=Ht(Sn,t,r,o,c,h),!0;case"mouseover":return Cn=Ht(Cn,t,r,o,c,h),!0;case"pointerover":var m=h.pointerId;return Lr.set(m,Ht(Lr.get(m)||null,t,r,o,c,h)),!0;case"gotpointercapture":return m=h.pointerId,hn.set(m,Ht(hn.get(m)||null,t,r,o,c,h)),!0}return!1}function Ga(t){var r=Ai(t.target);if(r!==null){var o=Tn(r);if(o!==null){if(r=o.tag,r===13){if(r=_i(o),r!==null){t.blockedOn=r,Qa(t.priority,function(){Ha(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ar(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=fs(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var c=new o.constructor(o.type,o);pi=c,o.target.dispatchEvent(c),pi=null}else return r=$o(o),r!==null&&cs(r),t.blockedOn=o,!1;r.shift()}return!0}function Ii(t,r,o){ar(t)&&o.delete(r)}function Xa(){ko=!1,Rt!==null&&ar(Rt)&&(Rt=null),Sn!==null&&ar(Sn)&&(Sn=null),Cn!==null&&ar(Cn)&&(Cn=null),Lr.forEach(Ii),hn.forEach(Ii)}function Rn(t,r){t.blockedOn===r&&(t.blockedOn=null,ko||(ko=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Xa)))}function An(t){function r(h){return Rn(h,t)}if(0<Fn.length){Rn(Fn[0],t);for(var o=1;o<Fn.length;o++){var c=Fn[o];c.blockedOn===t&&(c.blockedOn=null)}}for(Rt!==null&&Rn(Rt,t),Sn!==null&&Rn(Sn,t),Cn!==null&&Rn(Cn,t),Lr.forEach(r),hn.forEach(r),o=0;o<Un.length;o++)c=Un[o],c.blockedOn===t&&(c.blockedOn=null);for(;0<Un.length&&(o=Un[0],o.blockedOn===null);)Ga(o),o.blockedOn===null&&Un.shift()}var lr=te.ReactCurrentBatchConfig,Or=!0;function Ge(t,r,o,c){var h=ke,m=lr.transition;lr.transition=null;try{ke=1,Po(t,r,o,c)}finally{ke=h,lr.transition=m}}function rc(t,r,o,c){var h=ke,m=lr.transition;lr.transition=null;try{ke=4,Po(t,r,o,c)}finally{ke=h,lr.transition=m}}function Po(t,r,o,c){if(Or){var h=fs(t,r,o,c);if(h===null)pc(t,r,c,Si,o),Ka(t,c);else if(nc(h,t,r,o,c))c.stopPropagation();else if(Ka(t,c),r&4&&-1<tc.indexOf(t)){for(;h!==null;){var m=$o(h);if(m!==null&&qa(m),m=fs(t,r,o,c),m===null&&pc(t,r,c,Si,o),m===h)break;h=m}h!==null&&c.stopPropagation()}else pc(t,r,c,null,o)}}var Si=null;function fs(t,r,o,c){if(Si=null,t=es(c),t=Ai(t),t!==null)if(r=Tn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=_i(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Si=t,null}function xo(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ua()){case vi:return 1;case kr:return 4;case fn:case Ro:return 16;case za:return 536870912;default:return 16}default:return 16}}var nn=null,hs=null,Wt=null;function No(){if(Wt)return Wt;var t,r=hs,o=r.length,c,h="value"in nn?nn.value:nn.textContent,m=h.length;for(t=0;t<o&&r[t]===h[t];t++);var v=o-t;for(c=1;c<=v&&r[o-c]===h[m-c];c++);return Wt=h.slice(t,1<c?1-c:void 0)}function ds(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function zn(){return!0}function Do(){return!1}function At(t){function r(o,c,h,m,v){this._reactName=o,this._targetInst=h,this.type=c,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(o=t[C],this[C]=o?o(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?zn:Do,this.isPropagationStopped=Do,this}return oe(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=zn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=zn)},persist:function(){},isPersistent:zn}),r}var kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ps=At(kn),Bn=oe({},kn,{view:0,detail:0}),ic=At(Bn),ms,ur,Mr,Ci=oe({},Bn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mr&&(Mr&&t.type==="mousemove"?(ms=t.screenX-Mr.screenX,ur=t.screenY-Mr.screenY):ur=ms=0,Mr=t),ms)},movementY:function(t){return"movementY"in t?t.movementY:ur}}),gs=At(Ci),Vo=oe({},Ci,{dataTransfer:0}),Ya=At(Vo),ys=oe({},Bn,{relatedTarget:0}),_s=At(ys),Ja=oe({},kn,{animationName:0,elapsedTime:0,pseudoElement:0}),cr=At(Ja),Za=oe({},kn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),el=At(Za),tl=oe({},kn,{data:0}),Lo=At(tl),vs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rl(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=nl[t])?!!r[t]:!1}function jn(){return rl}var l=oe({},Bn,{key:function(t){if(t.key){var r=vs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ds(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jn,charCode:function(t){return t.type==="keypress"?ds(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ds(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),p=At(l),y=oe({},Ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=At(y),F=oe({},Bn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jn}),W=At(F),ie=oe({},kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Be=At(ie),pt=oe({},Ci,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ne=At(pt),wt=[9,13,27,32],at=d&&"CompositionEvent"in window,dn=null;d&&"documentMode"in document&&(dn=document.documentMode);var rn=d&&"TextEvent"in window&&!dn,Ri=d&&(!at||dn&&8<dn&&11>=dn),Es=" ",ed=!1;function td(t,r){switch(t){case"keyup":return wt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ws=!1;function A_(t,r){switch(t){case"compositionend":return nd(r);case"keypress":return r.which!==32?null:(ed=!0,Es);case"textInput":return t=r.data,t===Es&&ed?null:t;default:return null}}function k_(t,r){if(ws)return t==="compositionend"||!at&&td(t,r)?(t=No(),Wt=hs=nn=null,ws=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ri&&r.locale!=="ko"?null:r.data;default:return null}}var P_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!P_[t.type]:r==="textarea"}function id(t,r,o,c){bn(c),r=ll(r,"onChange"),0<r.length&&(o=new ps("onChange","change",null,o,c),t.push({event:o,listeners:r}))}var Oo=null,Mo=null;function x_(t){Td(t,0)}function il(t){var r=Rs(t);if(Gi(r))return t}function N_(t,r){if(t==="change")return r}var sd=!1;if(d){var sc;if(d){var oc="oninput"in document;if(!oc){var od=document.createElement("div");od.setAttribute("oninput","return;"),oc=typeof od.oninput=="function"}sc=oc}else sc=!1;sd=sc&&(!document.documentMode||9<document.documentMode)}function ad(){Oo&&(Oo.detachEvent("onpropertychange",ld),Mo=Oo=null)}function ld(t){if(t.propertyName==="value"&&il(Mo)){var r=[];id(r,Mo,t,es(t)),To(x_,r)}}function D_(t,r,o){t==="focusin"?(ad(),Oo=r,Mo=o,Oo.attachEvent("onpropertychange",ld)):t==="focusout"&&ad()}function V_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return il(Mo)}function L_(t,r){if(t==="click")return il(r)}function O_(t,r){if(t==="input"||t==="change")return il(r)}function M_(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Pn=typeof Object.is=="function"?Object.is:M_;function bo(t,r){if(Pn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var h=o[c];if(!g.call(r,h)||!Pn(t[h],r[h]))return!1}return!0}function ud(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cd(t,r){var o=ud(t);t=0;for(var c;o;){if(o.nodeType===3){if(c=t+o.textContent.length,t<=r&&c>=r)return{node:o,offset:r-t};t=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=ud(o)}}function fd(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?fd(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function hd(){for(var t=window,r=Rr();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Rr(t.document)}return r}function ac(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function b_(t){var r=hd(),o=t.focusedElem,c=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&fd(o.ownerDocument.documentElement,o)){if(c!==null&&ac(o)){if(r=c.start,t=c.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=o.textContent.length,m=Math.min(c.start,h);c=c.end===void 0?m:Math.min(c.end,h),!t.extend&&m>c&&(h=c,c=m,m=h),h=cd(o,m);var v=cd(o,c);h&&v&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==v.node||t.focusOffset!==v.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),m>c?(t.addRange(r),t.extend(v.node,v.offset)):(r.setEnd(v.node,v.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var F_=d&&"documentMode"in document&&11>=document.documentMode,Ts=null,lc=null,Fo=null,uc=!1;function dd(t,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;uc||Ts==null||Ts!==Rr(c)||(c=Ts,"selectionStart"in c&&ac(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Fo&&bo(Fo,c)||(Fo=c,c=ll(lc,"onSelect"),0<c.length&&(r=new ps("onSelect","select",null,r,o),t.push({event:r,listeners:c}),r.target=Ts)))}function sl(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var Is={animationend:sl("Animation","AnimationEnd"),animationiteration:sl("Animation","AnimationIteration"),animationstart:sl("Animation","AnimationStart"),transitionend:sl("Transition","TransitionEnd")},cc={},pd={};d&&(pd=document.createElement("div").style,"AnimationEvent"in window||(delete Is.animationend.animation,delete Is.animationiteration.animation,delete Is.animationstart.animation),"TransitionEvent"in window||delete Is.transitionend.transition);function ol(t){if(cc[t])return cc[t];if(!Is[t])return t;var r=Is[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in pd)return cc[t]=r[o];return t}var md=ol("animationend"),gd=ol("animationiteration"),yd=ol("animationstart"),_d=ol("transitionend"),vd=new Map,Ed="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function br(t,r){vd.set(t,r),u(r,[t])}for(var fc=0;fc<Ed.length;fc++){var hc=Ed[fc],U_=hc.toLowerCase(),z_=hc[0].toUpperCase()+hc.slice(1);br(U_,"on"+z_)}br(md,"onAnimationEnd"),br(gd,"onAnimationIteration"),br(yd,"onAnimationStart"),br("dblclick","onDoubleClick"),br("focusin","onFocus"),br("focusout","onBlur"),br(_d,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uo));function wd(t,r,o){var c=t.type||"unknown-event";t.currentTarget=o,Ma(c,r,void 0,t),t.currentTarget=null}function Td(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var c=t[o],h=c.event;c=c.listeners;e:{var m=void 0;if(r)for(var v=c.length-1;0<=v;v--){var C=c[v],x=C.instance,j=C.currentTarget;if(C=C.listener,x!==m&&h.isPropagationStopped())break e;wd(h,C,j),m=x}else for(v=0;v<c.length;v++){if(C=c[v],x=C.instance,j=C.currentTarget,C=C.listener,x!==m&&h.isPropagationStopped())break e;wd(h,C,j),m=x}}}if(wn)throw t=Io,wn=!1,Io=null,t}function We(t,r){var o=r[Ec];o===void 0&&(o=r[Ec]=new Set);var c=t+"__bubble";o.has(c)||(Id(r,t,2,!1),o.add(c))}function dc(t,r,o){var c=0;r&&(c|=4),Id(o,t,c,r)}var al="_reactListening"+Math.random().toString(36).slice(2);function zo(t){if(!t[al]){t[al]=!0,s.forEach(function(o){o!=="selectionchange"&&(B_.has(o)||dc(o,!1,t),dc(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[al]||(r[al]=!0,dc("selectionchange",!1,r))}}function Id(t,r,o,c){switch(xo(r)){case 1:var h=Ge;break;case 4:h=rc;break;default:h=Po}o=h.bind(null,r,o,t),h=void 0,!rs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),c?h!==void 0?t.addEventListener(r,o,{capture:!0,passive:h}):t.addEventListener(r,o,!0):h!==void 0?t.addEventListener(r,o,{passive:h}):t.addEventListener(r,o,!1)}function pc(t,r,o,c,h){var m=c;if(!(r&1)&&!(r&2)&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var C=c.stateNode.containerInfo;if(C===h||C.nodeType===8&&C.parentNode===h)break;if(v===4)for(v=c.return;v!==null;){var x=v.tag;if((x===3||x===4)&&(x=v.stateNode.containerInfo,x===h||x.nodeType===8&&x.parentNode===h))return;v=v.return}for(;C!==null;){if(v=Ai(C),v===null)return;if(x=v.tag,x===5||x===6){c=m=v;continue e}C=C.parentNode}}c=c.return}To(function(){var j=m,Y=es(o),Z=[];e:{var X=vd.get(t);if(X!==void 0){var se=ps,ue=t;switch(t){case"keypress":if(ds(o)===0)break e;case"keydown":case"keyup":se=p;break;case"focusin":ue="focus",se=_s;break;case"focusout":ue="blur",se=_s;break;case"beforeblur":case"afterblur":se=_s;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=gs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Ya;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=W;break;case md:case gd:case yd:se=cr;break;case _d:se=Be;break;case"scroll":se=ic;break;case"wheel":se=Ne;break;case"copy":case"cut":case"paste":se=el;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=w}var ce=(r&4)!==0,st=!ce&&t==="scroll",U=ce?X!==null?X+"Capture":null:X;ce=[];for(var V=j,B;V!==null;){B=V;var ne=B.stateNode;if(B.tag===5&&ne!==null&&(B=ne,U!==null&&(ne=it(V,U),ne!=null&&ce.push(Bo(V,ne,B)))),st)break;V=V.return}0<ce.length&&(X=new se(X,ue,null,o,Y),Z.push({event:X,listeners:ce}))}}if(!(r&7)){e:{if(X=t==="mouseover"||t==="pointerover",se=t==="mouseout"||t==="pointerout",X&&o!==pi&&(ue=o.relatedTarget||o.fromElement)&&(Ai(ue)||ue[fr]))break e;if((se||X)&&(X=Y.window===Y?Y:(X=Y.ownerDocument)?X.defaultView||X.parentWindow:window,se?(ue=o.relatedTarget||o.toElement,se=j,ue=ue?Ai(ue):null,ue!==null&&(st=Tn(ue),ue!==st||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(se=null,ue=j),se!==ue)){if(ce=gs,ne="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ce=w,ne="onPointerLeave",U="onPointerEnter",V="pointer"),st=se==null?X:Rs(se),B=ue==null?X:Rs(ue),X=new ce(ne,V+"leave",se,o,Y),X.target=st,X.relatedTarget=B,ne=null,Ai(Y)===j&&(ce=new ce(U,V+"enter",ue,o,Y),ce.target=B,ce.relatedTarget=st,ne=ce),st=ne,se&&ue)t:{for(ce=se,U=ue,V=0,B=ce;B;B=Ss(B))V++;for(B=0,ne=U;ne;ne=Ss(ne))B++;for(;0<V-B;)ce=Ss(ce),V--;for(;0<B-V;)U=Ss(U),B--;for(;V--;){if(ce===U||U!==null&&ce===U.alternate)break t;ce=Ss(ce),U=Ss(U)}ce=null}else ce=null;se!==null&&Sd(Z,X,se,ce,!1),ue!==null&&st!==null&&Sd(Z,st,ue,ce,!0)}}e:{if(X=j?Rs(j):window,se=X.nodeName&&X.nodeName.toLowerCase(),se==="select"||se==="input"&&X.type==="file")var fe=N_;else if(rd(X))if(sd)fe=O_;else{fe=V_;var ye=D_}else(se=X.nodeName)&&se.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(fe=L_);if(fe&&(fe=fe(t,j))){id(Z,fe,o,Y);break e}ye&&ye(t,X,j),t==="focusout"&&(ye=X._wrapperState)&&ye.controlled&&X.type==="number"&&Yi(X,"number",X.value)}switch(ye=j?Rs(j):window,t){case"focusin":(rd(ye)||ye.contentEditable==="true")&&(Ts=ye,lc=j,Fo=null);break;case"focusout":Fo=lc=Ts=null;break;case"mousedown":uc=!0;break;case"contextmenu":case"mouseup":case"dragend":uc=!1,dd(Z,o,Y);break;case"selectionchange":if(F_)break;case"keydown":case"keyup":dd(Z,o,Y)}var _e;if(at)e:{switch(t){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else ws?td(t,o)&&(Ee="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(Ee="onCompositionStart");Ee&&(Ri&&o.locale!=="ko"&&(ws||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&ws&&(_e=No()):(nn=Y,hs="value"in nn?nn.value:nn.textContent,ws=!0)),ye=ll(j,Ee),0<ye.length&&(Ee=new Lo(Ee,t,null,o,Y),Z.push({event:Ee,listeners:ye}),_e?Ee.data=_e:(_e=nd(o),_e!==null&&(Ee.data=_e)))),(_e=rn?A_(t,o):k_(t,o))&&(j=ll(j,"onBeforeInput"),0<j.length&&(Y=new Lo("onBeforeInput","beforeinput",null,o,Y),Z.push({event:Y,listeners:j}),Y.data=_e))}Td(Z,r)})}function Bo(t,r,o){return{instance:t,listener:r,currentTarget:o}}function ll(t,r){for(var o=r+"Capture",c=[];t!==null;){var h=t,m=h.stateNode;h.tag===5&&m!==null&&(h=m,m=it(t,o),m!=null&&c.unshift(Bo(t,m,h)),m=it(t,r),m!=null&&c.push(Bo(t,m,h))),t=t.return}return c}function Ss(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Sd(t,r,o,c,h){for(var m=r._reactName,v=[];o!==null&&o!==c;){var C=o,x=C.alternate,j=C.stateNode;if(x!==null&&x===c)break;C.tag===5&&j!==null&&(C=j,h?(x=it(o,m),x!=null&&v.unshift(Bo(o,x,C))):h||(x=it(o,m),x!=null&&v.push(Bo(o,x,C)))),o=o.return}v.length!==0&&t.push({event:r,listeners:v})}var j_=/\r\n?/g,$_=/\u0000|\uFFFD/g;function Cd(t){return(typeof t=="string"?t:""+t).replace(j_,`
`).replace($_,"")}function ul(t,r,o){if(r=Cd(r),Cd(t)!==r&&o)throw Error(n(425))}function cl(){}var mc=null,gc=null;function yc(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var _c=typeof setTimeout=="function"?setTimeout:void 0,q_=typeof clearTimeout=="function"?clearTimeout:void 0,Rd=typeof Promise=="function"?Promise:void 0,H_=typeof queueMicrotask=="function"?queueMicrotask:typeof Rd<"u"?function(t){return Rd.resolve(null).then(t).catch(W_)}:_c;function W_(t){setTimeout(function(){throw t})}function vc(t,r){var o=r,c=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(c===0){t.removeChild(h),An(r);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=h}while(o);An(r)}function Fr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Ad(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var Cs=Math.random().toString(36).slice(2),$n="__reactFiber$"+Cs,jo="__reactProps$"+Cs,fr="__reactContainer$"+Cs,Ec="__reactEvents$"+Cs,Q_="__reactListeners$"+Cs,K_="__reactHandles$"+Cs;function Ai(t){var r=t[$n];if(r)return r;for(var o=t.parentNode;o;){if(r=o[fr]||o[$n]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Ad(t);t!==null;){if(o=t[$n])return o;t=Ad(t)}return r}t=o,o=t.parentNode}return null}function $o(t){return t=t[$n]||t[fr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Rs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function fl(t){return t[jo]||null}var wc=[],As=-1;function Ur(t){return{current:t}}function Qe(t){0>As||(t.current=wc[As],wc[As]=null,As--)}function He(t,r){As++,wc[As]=t.current,t.current=r}var zr={},Vt=Ur(zr),Qt=Ur(!1),ki=zr;function ks(t,r){var o=t.type.contextTypes;if(!o)return zr;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var h={},m;for(m in o)h[m]=r[m];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function Kt(t){return t=t.childContextTypes,t!=null}function hl(){Qe(Qt),Qe(Vt)}function kd(t,r,o){if(Vt.current!==zr)throw Error(n(168));He(Vt,r),He(Qt,o)}function Pd(t,r,o){var c=t.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var h in c)if(!(h in r))throw Error(n(108,be(t)||"Unknown",h));return oe({},o,c)}function dl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zr,ki=Vt.current,He(Vt,t),He(Qt,Qt.current),!0}function xd(t,r,o){var c=t.stateNode;if(!c)throw Error(n(169));o?(t=Pd(t,r,ki),c.__reactInternalMemoizedMergedChildContext=t,Qe(Qt),Qe(Vt),He(Vt,t)):Qe(Qt),He(Qt,o)}var hr=null,pl=!1,Tc=!1;function Nd(t){hr===null?hr=[t]:hr.push(t)}function G_(t){pl=!0,Nd(t)}function Br(){if(!Tc&&hr!==null){Tc=!0;var t=0,r=ke;try{var o=hr;for(ke=1;t<o.length;t++){var c=o[t];do c=c(!0);while(c!==null)}hr=null,pl=!1}catch(h){throw hr!==null&&(hr=hr.slice(t+1)),as(vi,Br),h}finally{ke=r,Tc=!1}}return null}var Ps=[],xs=0,ml=null,gl=0,pn=[],mn=0,Pi=null,dr=1,pr="";function xi(t,r){Ps[xs++]=gl,Ps[xs++]=ml,ml=t,gl=r}function Dd(t,r,o){pn[mn++]=dr,pn[mn++]=pr,pn[mn++]=Pi,Pi=t;var c=dr;t=pr;var h=32-zt(c)-1;c&=~(1<<h),o+=1;var m=32-zt(r)+h;if(30<m){var v=h-h%5;m=(c&(1<<v)-1).toString(32),c>>=v,h-=v,dr=1<<32-zt(r)+h|o<<h|c,pr=m+t}else dr=1<<m|o<<h|c,pr=t}function Ic(t){t.return!==null&&(xi(t,1),Dd(t,1,0))}function Sc(t){for(;t===ml;)ml=Ps[--xs],Ps[xs]=null,gl=Ps[--xs],Ps[xs]=null;for(;t===Pi;)Pi=pn[--mn],pn[mn]=null,pr=pn[--mn],pn[mn]=null,dr=pn[--mn],pn[mn]=null}var sn=null,on=null,Xe=!1,xn=null;function Vd(t,r){var o=vn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function Ld(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,sn=t,on=Fr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,sn=t,on=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Pi!==null?{id:dr,overflow:pr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=vn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,sn=t,on=null,!0):!1;default:return!1}}function Cc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Rc(t){if(Xe){var r=on;if(r){var o=r;if(!Ld(t,r)){if(Cc(t))throw Error(n(418));r=Fr(o.nextSibling);var c=sn;r&&Ld(t,r)?Vd(c,o):(t.flags=t.flags&-4097|2,Xe=!1,sn=t)}}else{if(Cc(t))throw Error(n(418));t.flags=t.flags&-4097|2,Xe=!1,sn=t}}}function Od(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;sn=t}function yl(t){if(t!==sn)return!1;if(!Xe)return Od(t),Xe=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!yc(t.type,t.memoizedProps)),r&&(r=on)){if(Cc(t))throw Md(),Error(n(418));for(;r;)Vd(t,r),r=Fr(r.nextSibling)}if(Od(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){on=Fr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}on=null}}else on=sn?Fr(t.stateNode.nextSibling):null;return!0}function Md(){for(var t=on;t;)t=Fr(t.nextSibling)}function Ns(){on=sn=null,Xe=!1}function Ac(t){xn===null?xn=[t]:xn.push(t)}var X_=te.ReactCurrentBatchConfig;function qo(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var c=o.stateNode}if(!c)throw Error(n(147,t));var h=c,m=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===m?r.ref:(r=function(v){var C=h.refs;v===null?delete C[m]:C[m]=v},r._stringRef=m,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function _l(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function bd(t){var r=t._init;return r(t._payload)}function Fd(t){function r(U,V){if(t){var B=U.deletions;B===null?(U.deletions=[V],U.flags|=16):B.push(V)}}function o(U,V){if(!t)return null;for(;V!==null;)r(U,V),V=V.sibling;return null}function c(U,V){for(U=new Map;V!==null;)V.key!==null?U.set(V.key,V):U.set(V.index,V),V=V.sibling;return U}function h(U,V){return U=Gr(U,V),U.index=0,U.sibling=null,U}function m(U,V,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<V?(U.flags|=2,V):B):(U.flags|=2,V)):(U.flags|=1048576,V)}function v(U){return t&&U.alternate===null&&(U.flags|=2),U}function C(U,V,B,ne){return V===null||V.tag!==6?(V=vf(B,U.mode,ne),V.return=U,V):(V=h(V,B),V.return=U,V)}function x(U,V,B,ne){var fe=B.type;return fe===k?Y(U,V,B.props.children,ne,B.key):V!==null&&(V.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===ft&&bd(fe)===V.type)?(ne=h(V,B.props),ne.ref=qo(U,V,B),ne.return=U,ne):(ne=jl(B.type,B.key,B.props,null,U.mode,ne),ne.ref=qo(U,V,B),ne.return=U,ne)}function j(U,V,B,ne){return V===null||V.tag!==4||V.stateNode.containerInfo!==B.containerInfo||V.stateNode.implementation!==B.implementation?(V=Ef(B,U.mode,ne),V.return=U,V):(V=h(V,B.children||[]),V.return=U,V)}function Y(U,V,B,ne,fe){return V===null||V.tag!==7?(V=Fi(B,U.mode,ne,fe),V.return=U,V):(V=h(V,B),V.return=U,V)}function Z(U,V,B){if(typeof V=="string"&&V!==""||typeof V=="number")return V=vf(""+V,U.mode,B),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case he:return B=jl(V.type,V.key,V.props,null,U.mode,B),B.ref=qo(U,null,V),B.return=U,B;case me:return V=Ef(V,U.mode,B),V.return=U,V;case ft:var ne=V._init;return Z(U,ne(V._payload),B)}if(nr(V)||ge(V))return V=Fi(V,U.mode,B,null),V.return=U,V;_l(U,V)}return null}function X(U,V,B,ne){var fe=V!==null?V.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return fe!==null?null:C(U,V,""+B,ne);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case he:return B.key===fe?x(U,V,B,ne):null;case me:return B.key===fe?j(U,V,B,ne):null;case ft:return fe=B._init,X(U,V,fe(B._payload),ne)}if(nr(B)||ge(B))return fe!==null?null:Y(U,V,B,ne,null);_l(U,B)}return null}function se(U,V,B,ne,fe){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return U=U.get(B)||null,C(V,U,""+ne,fe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case he:return U=U.get(ne.key===null?B:ne.key)||null,x(V,U,ne,fe);case me:return U=U.get(ne.key===null?B:ne.key)||null,j(V,U,ne,fe);case ft:var ye=ne._init;return se(U,V,B,ye(ne._payload),fe)}if(nr(ne)||ge(ne))return U=U.get(B)||null,Y(V,U,ne,fe,null);_l(V,ne)}return null}function ue(U,V,B,ne){for(var fe=null,ye=null,_e=V,Ee=V=0,St=null;_e!==null&&Ee<B.length;Ee++){_e.index>Ee?(St=_e,_e=null):St=_e.sibling;var Me=X(U,_e,B[Ee],ne);if(Me===null){_e===null&&(_e=St);break}t&&_e&&Me.alternate===null&&r(U,_e),V=m(Me,V,Ee),ye===null?fe=Me:ye.sibling=Me,ye=Me,_e=St}if(Ee===B.length)return o(U,_e),Xe&&xi(U,Ee),fe;if(_e===null){for(;Ee<B.length;Ee++)_e=Z(U,B[Ee],ne),_e!==null&&(V=m(_e,V,Ee),ye===null?fe=_e:ye.sibling=_e,ye=_e);return Xe&&xi(U,Ee),fe}for(_e=c(U,_e);Ee<B.length;Ee++)St=se(_e,U,Ee,B[Ee],ne),St!==null&&(t&&St.alternate!==null&&_e.delete(St.key===null?Ee:St.key),V=m(St,V,Ee),ye===null?fe=St:ye.sibling=St,ye=St);return t&&_e.forEach(function(Xr){return r(U,Xr)}),Xe&&xi(U,Ee),fe}function ce(U,V,B,ne){var fe=ge(B);if(typeof fe!="function")throw Error(n(150));if(B=fe.call(B),B==null)throw Error(n(151));for(var ye=fe=null,_e=V,Ee=V=0,St=null,Me=B.next();_e!==null&&!Me.done;Ee++,Me=B.next()){_e.index>Ee?(St=_e,_e=null):St=_e.sibling;var Xr=X(U,_e,Me.value,ne);if(Xr===null){_e===null&&(_e=St);break}t&&_e&&Xr.alternate===null&&r(U,_e),V=m(Xr,V,Ee),ye===null?fe=Xr:ye.sibling=Xr,ye=Xr,_e=St}if(Me.done)return o(U,_e),Xe&&xi(U,Ee),fe;if(_e===null){for(;!Me.done;Ee++,Me=B.next())Me=Z(U,Me.value,ne),Me!==null&&(V=m(Me,V,Ee),ye===null?fe=Me:ye.sibling=Me,ye=Me);return Xe&&xi(U,Ee),fe}for(_e=c(U,_e);!Me.done;Ee++,Me=B.next())Me=se(_e,U,Ee,Me.value,ne),Me!==null&&(t&&Me.alternate!==null&&_e.delete(Me.key===null?Ee:Me.key),V=m(Me,V,Ee),ye===null?fe=Me:ye.sibling=Me,ye=Me);return t&&_e.forEach(function(kv){return r(U,kv)}),Xe&&xi(U,Ee),fe}function st(U,V,B,ne){if(typeof B=="object"&&B!==null&&B.type===k&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case he:e:{for(var fe=B.key,ye=V;ye!==null;){if(ye.key===fe){if(fe=B.type,fe===k){if(ye.tag===7){o(U,ye.sibling),V=h(ye,B.props.children),V.return=U,U=V;break e}}else if(ye.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===ft&&bd(fe)===ye.type){o(U,ye.sibling),V=h(ye,B.props),V.ref=qo(U,ye,B),V.return=U,U=V;break e}o(U,ye);break}else r(U,ye);ye=ye.sibling}B.type===k?(V=Fi(B.props.children,U.mode,ne,B.key),V.return=U,U=V):(ne=jl(B.type,B.key,B.props,null,U.mode,ne),ne.ref=qo(U,V,B),ne.return=U,U=ne)}return v(U);case me:e:{for(ye=B.key;V!==null;){if(V.key===ye)if(V.tag===4&&V.stateNode.containerInfo===B.containerInfo&&V.stateNode.implementation===B.implementation){o(U,V.sibling),V=h(V,B.children||[]),V.return=U,U=V;break e}else{o(U,V);break}else r(U,V);V=V.sibling}V=Ef(B,U.mode,ne),V.return=U,U=V}return v(U);case ft:return ye=B._init,st(U,V,ye(B._payload),ne)}if(nr(B))return ue(U,V,B,ne);if(ge(B))return ce(U,V,B,ne);_l(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,V!==null&&V.tag===6?(o(U,V.sibling),V=h(V,B),V.return=U,U=V):(o(U,V),V=vf(B,U.mode,ne),V.return=U,U=V),v(U)):o(U,V)}return st}var Ds=Fd(!0),Ud=Fd(!1),vl=Ur(null),El=null,Vs=null,kc=null;function Pc(){kc=Vs=El=null}function xc(t){var r=vl.current;Qe(vl),t._currentValue=r}function Nc(t,r,o){for(;t!==null;){var c=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),t===o)break;t=t.return}}function Ls(t,r){El=t,kc=Vs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(Gt=!0),t.firstContext=null)}function gn(t){var r=t._currentValue;if(kc!==t)if(t={context:t,memoizedValue:r,next:null},Vs===null){if(El===null)throw Error(n(308));Vs=t,El.dependencies={lanes:0,firstContext:t}}else Vs=Vs.next=t;return r}var Ni=null;function Dc(t){Ni===null?Ni=[t]:Ni.push(t)}function zd(t,r,o,c){var h=r.interleaved;return h===null?(o.next=o,Dc(r)):(o.next=h.next,h.next=o),r.interleaved=o,mr(t,c)}function mr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var jr=!1;function Vc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function $r(t,r,o){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,Le&2){var h=c.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),c.pending=r,mr(t,o)}return h=c.interleaved,h===null?(r.next=r,Dc(c)):(r.next=h.next,h.next=r),c.interleaved=r,mr(t,o)}function wl(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var c=r.lanes;c&=t.pendingLanes,o|=c,r.lanes=o,Dr(t,o)}}function jd(t,r){var o=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var h=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var v={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};m===null?h=m=v:m=m.next=v,o=o.next}while(o!==null);m===null?h=m=r:m=m.next=r}else h=m=r;o={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:c.shared,effects:c.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function Tl(t,r,o,c){var h=t.updateQueue;jr=!1;var m=h.firstBaseUpdate,v=h.lastBaseUpdate,C=h.shared.pending;if(C!==null){h.shared.pending=null;var x=C,j=x.next;x.next=null,v===null?m=j:v.next=j,v=x;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,C=Y.lastBaseUpdate,C!==v&&(C===null?Y.firstBaseUpdate=j:C.next=j,Y.lastBaseUpdate=x))}if(m!==null){var Z=h.baseState;v=0,Y=j=x=null,C=m;do{var X=C.lane,se=C.eventTime;if((c&X)===X){Y!==null&&(Y=Y.next={eventTime:se,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var ue=t,ce=C;switch(X=r,se=o,ce.tag){case 1:if(ue=ce.payload,typeof ue=="function"){Z=ue.call(se,Z,X);break e}Z=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ce.payload,X=typeof ue=="function"?ue.call(se,Z,X):ue,X==null)break e;Z=oe({},Z,X);break e;case 2:jr=!0}}C.callback!==null&&C.lane!==0&&(t.flags|=64,X=h.effects,X===null?h.effects=[C]:X.push(C))}else se={eventTime:se,lane:X,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Y===null?(j=Y=se,x=Z):Y=Y.next=se,v|=X;if(C=C.next,C===null){if(C=h.shared.pending,C===null)break;X=C,C=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);if(Y===null&&(x=Z),h.baseState=x,h.firstBaseUpdate=j,h.lastBaseUpdate=Y,r=h.shared.interleaved,r!==null){h=r;do v|=h.lane,h=h.next;while(h!==r)}else m===null&&(h.shared.lanes=0);Li|=v,t.lanes=v,t.memoizedState=Z}}function $d(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var c=t[r],h=c.callback;if(h!==null){if(c.callback=null,c=o,typeof h!="function")throw Error(n(191,h));h.call(c)}}}var Ho={},qn=Ur(Ho),Wo=Ur(Ho),Qo=Ur(Ho);function Di(t){if(t===Ho)throw Error(n(174));return t}function Lc(t,r){switch(He(Qo,r),He(Wo,t),He(qn,Ho),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:dt(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=dt(r,t)}Qe(qn),He(qn,r)}function Os(){Qe(qn),Qe(Wo),Qe(Qo)}function qd(t){Di(Qo.current);var r=Di(qn.current),o=dt(r,t.type);r!==o&&(He(Wo,t),He(qn,o))}function Oc(t){Wo.current===t&&(Qe(qn),Qe(Wo))}var Ze=Ur(0);function Il(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Mc=[];function bc(){for(var t=0;t<Mc.length;t++)Mc[t]._workInProgressVersionPrimary=null;Mc.length=0}var Sl=te.ReactCurrentDispatcher,Fc=te.ReactCurrentBatchConfig,Vi=0,et=null,mt=null,Tt=null,Cl=!1,Ko=!1,Go=0,Y_=0;function Lt(){throw Error(n(321))}function Uc(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Pn(t[o],r[o]))return!1;return!0}function zc(t,r,o,c,h,m){if(Vi=m,et=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Sl.current=t===null||t.memoizedState===null?tv:nv,t=o(c,h),Ko){m=0;do{if(Ko=!1,Go=0,25<=m)throw Error(n(301));m+=1,Tt=mt=null,r.updateQueue=null,Sl.current=rv,t=o(c,h)}while(Ko)}if(Sl.current=kl,r=mt!==null&&mt.next!==null,Vi=0,Tt=mt=et=null,Cl=!1,r)throw Error(n(300));return t}function Bc(){var t=Go!==0;return Go=0,t}function Hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?et.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function yn(){if(mt===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var r=Tt===null?et.memoizedState:Tt.next;if(r!==null)Tt=r,mt=t;else{if(t===null)throw Error(n(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Tt===null?et.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function Xo(t,r){return typeof r=="function"?r(t):r}function jc(t){var r=yn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var c=mt,h=c.baseQueue,m=o.pending;if(m!==null){if(h!==null){var v=h.next;h.next=m.next,m.next=v}c.baseQueue=h=m,o.pending=null}if(h!==null){m=h.next,c=c.baseState;var C=v=null,x=null,j=m;do{var Y=j.lane;if((Vi&Y)===Y)x!==null&&(x=x.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),c=j.hasEagerState?j.eagerState:t(c,j.action);else{var Z={lane:Y,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};x===null?(C=x=Z,v=c):x=x.next=Z,et.lanes|=Y,Li|=Y}j=j.next}while(j!==null&&j!==m);x===null?v=c:x.next=C,Pn(c,r.memoizedState)||(Gt=!0),r.memoizedState=c,r.baseState=v,r.baseQueue=x,o.lastRenderedState=c}if(t=o.interleaved,t!==null){h=t;do m=h.lane,et.lanes|=m,Li|=m,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function $c(t){var r=yn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var c=o.dispatch,h=o.pending,m=r.memoizedState;if(h!==null){o.pending=null;var v=h=h.next;do m=t(m,v.action),v=v.next;while(v!==h);Pn(m,r.memoizedState)||(Gt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),o.lastRenderedState=m}return[m,c]}function Hd(){}function Wd(t,r){var o=et,c=yn(),h=r(),m=!Pn(c.memoizedState,h);if(m&&(c.memoizedState=h,Gt=!0),c=c.queue,qc(Gd.bind(null,o,c,t),[t]),c.getSnapshot!==r||m||Tt!==null&&Tt.memoizedState.tag&1){if(o.flags|=2048,Yo(9,Kd.bind(null,o,c,h,r),void 0,null),It===null)throw Error(n(349));Vi&30||Qd(o,r,h)}return h}function Qd(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=et.updateQueue,r===null?(r={lastEffect:null,stores:null},et.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Kd(t,r,o,c){r.value=o,r.getSnapshot=c,Xd(r)&&Yd(t)}function Gd(t,r,o){return o(function(){Xd(r)&&Yd(t)})}function Xd(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Pn(t,o)}catch{return!0}}function Yd(t){var r=mr(t,1);r!==null&&Ln(r,t,1,-1)}function Jd(t){var r=Hn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:t},r.queue=t,t=t.dispatch=ev.bind(null,et,t),[r.memoizedState,t]}function Yo(t,r,o,c){return t={tag:t,create:r,destroy:o,deps:c,next:null},r=et.updateQueue,r===null?(r={lastEffect:null,stores:null},et.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(c=o.next,o.next=t,t.next=c,r.lastEffect=t)),t}function Zd(){return yn().memoizedState}function Rl(t,r,o,c){var h=Hn();et.flags|=t,h.memoizedState=Yo(1|r,o,void 0,c===void 0?null:c)}function Al(t,r,o,c){var h=yn();c=c===void 0?null:c;var m=void 0;if(mt!==null){var v=mt.memoizedState;if(m=v.destroy,c!==null&&Uc(c,v.deps)){h.memoizedState=Yo(r,o,m,c);return}}et.flags|=t,h.memoizedState=Yo(1|r,o,m,c)}function ep(t,r){return Rl(8390656,8,t,r)}function qc(t,r){return Al(2048,8,t,r)}function tp(t,r){return Al(4,2,t,r)}function np(t,r){return Al(4,4,t,r)}function rp(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function ip(t,r,o){return o=o!=null?o.concat([t]):null,Al(4,4,rp.bind(null,r,t),o)}function Hc(){}function sp(t,r){var o=yn();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&Uc(r,c[1])?c[0]:(o.memoizedState=[t,r],t)}function op(t,r){var o=yn();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&Uc(r,c[1])?c[0]:(t=t(),o.memoizedState=[t,r],t)}function ap(t,r,o){return Vi&21?(Pn(o,r)||(o=Ti(),et.lanes|=o,Li|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,Gt=!0),t.memoizedState=o)}function J_(t,r){var o=ke;ke=o!==0&&4>o?o:4,t(!0);var c=Fc.transition;Fc.transition={};try{t(!1),r()}finally{ke=o,Fc.transition=c}}function lp(){return yn().memoizedState}function Z_(t,r,o){var c=Qr(t);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},up(t))cp(r,o);else if(o=zd(t,r,o,c),o!==null){var h=$t();Ln(o,t,c,h),fp(o,r,c)}}function ev(t,r,o){var c=Qr(t),h={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(up(t))cp(r,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var v=r.lastRenderedState,C=m(v,o);if(h.hasEagerState=!0,h.eagerState=C,Pn(C,v)){var x=r.interleaved;x===null?(h.next=h,Dc(r)):(h.next=x.next,x.next=h),r.interleaved=h;return}}catch{}finally{}o=zd(t,r,h,c),o!==null&&(h=$t(),Ln(o,t,c,h),fp(o,r,c))}}function up(t){var r=t.alternate;return t===et||r!==null&&r===et}function cp(t,r){Ko=Cl=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function fp(t,r,o){if(o&4194240){var c=r.lanes;c&=t.pendingLanes,o|=c,r.lanes=o,Dr(t,o)}}var kl={readContext:gn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},tv={readContext:gn,useCallback:function(t,r){return Hn().memoizedState=[t,r===void 0?null:r],t},useContext:gn,useEffect:ep,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,Rl(4194308,4,rp.bind(null,r,t),o)},useLayoutEffect:function(t,r){return Rl(4194308,4,t,r)},useInsertionEffect:function(t,r){return Rl(4,2,t,r)},useMemo:function(t,r){var o=Hn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var c=Hn();return r=o!==void 0?o(r):r,c.memoizedState=c.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},c.queue=t,t=t.dispatch=Z_.bind(null,et,t),[c.memoizedState,t]},useRef:function(t){var r=Hn();return t={current:t},r.memoizedState=t},useState:Jd,useDebugValue:Hc,useDeferredValue:function(t){return Hn().memoizedState=t},useTransition:function(){var t=Jd(!1),r=t[0];return t=J_.bind(null,t[1]),Hn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var c=et,h=Hn();if(Xe){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),It===null)throw Error(n(349));Vi&30||Qd(c,r,o)}h.memoizedState=o;var m={value:o,getSnapshot:r};return h.queue=m,ep(Gd.bind(null,c,m,t),[t]),c.flags|=2048,Yo(9,Kd.bind(null,c,m,o,r),void 0,null),o},useId:function(){var t=Hn(),r=It.identifierPrefix;if(Xe){var o=pr,c=dr;o=(c&~(1<<32-zt(c)-1)).toString(32)+o,r=":"+r+"R"+o,o=Go++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=Y_++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},nv={readContext:gn,useCallback:sp,useContext:gn,useEffect:qc,useImperativeHandle:ip,useInsertionEffect:tp,useLayoutEffect:np,useMemo:op,useReducer:jc,useRef:Zd,useState:function(){return jc(Xo)},useDebugValue:Hc,useDeferredValue:function(t){var r=yn();return ap(r,mt.memoizedState,t)},useTransition:function(){var t=jc(Xo)[0],r=yn().memoizedState;return[t,r]},useMutableSource:Hd,useSyncExternalStore:Wd,useId:lp,unstable_isNewReconciler:!1},rv={readContext:gn,useCallback:sp,useContext:gn,useEffect:qc,useImperativeHandle:ip,useInsertionEffect:tp,useLayoutEffect:np,useMemo:op,useReducer:$c,useRef:Zd,useState:function(){return $c(Xo)},useDebugValue:Hc,useDeferredValue:function(t){var r=yn();return mt===null?r.memoizedState=t:ap(r,mt.memoizedState,t)},useTransition:function(){var t=$c(Xo)[0],r=yn().memoizedState;return[t,r]},useMutableSource:Hd,useSyncExternalStore:Wd,useId:lp,unstable_isNewReconciler:!1};function Nn(t,r){if(t&&t.defaultProps){r=oe({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function Wc(t,r,o,c){r=t.memoizedState,o=o(c,r),o=o==null?r:oe({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Pl={isMounted:function(t){return(t=t._reactInternals)?Tn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var c=$t(),h=Qr(t),m=gr(c,h);m.payload=r,o!=null&&(m.callback=o),r=$r(t,m,h),r!==null&&(Ln(r,t,h,c),wl(r,t,h))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var c=$t(),h=Qr(t),m=gr(c,h);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=$r(t,m,h),r!==null&&(Ln(r,t,h,c),wl(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=$t(),c=Qr(t),h=gr(o,c);h.tag=2,r!=null&&(h.callback=r),r=$r(t,h,c),r!==null&&(Ln(r,t,c,o),wl(r,t,c))}};function hp(t,r,o,c,h,m,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,m,v):r.prototype&&r.prototype.isPureReactComponent?!bo(o,c)||!bo(h,m):!0}function dp(t,r,o){var c=!1,h=zr,m=r.contextType;return typeof m=="object"&&m!==null?m=gn(m):(h=Kt(r)?ki:Vt.current,c=r.contextTypes,m=(c=c!=null)?ks(t,h):zr),r=new r(o,m),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Pl,t.stateNode=r,r._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=m),r}function pp(t,r,o,c){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==t&&Pl.enqueueReplaceState(r,r.state,null)}function Qc(t,r,o,c){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs={},Vc(t);var m=r.contextType;typeof m=="object"&&m!==null?h.context=gn(m):(m=Kt(r)?ki:Vt.current,h.context=ks(t,m)),h.state=t.memoizedState,m=r.getDerivedStateFromProps,typeof m=="function"&&(Wc(t,r,m,o),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&Pl.enqueueReplaceState(h,h.state,null),Tl(t,o,h,c),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function Ms(t,r){try{var o="",c=r;do o+=Ce(c),c=c.return;while(c);var h=o}catch(m){h=`
Error generating stack: `+m.message+`
`+m.stack}return{value:t,source:r,stack:h,digest:null}}function Kc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function Gc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var iv=typeof WeakMap=="function"?WeakMap:Map;function mp(t,r,o){o=gr(-1,o),o.tag=3,o.payload={element:null};var c=r.value;return o.callback=function(){Ml||(Ml=!0,ff=c),Gc(t,r)},o}function gp(t,r,o){o=gr(-1,o),o.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var h=r.value;o.payload=function(){return c(h)},o.callback=function(){Gc(t,r)}}var m=t.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(o.callback=function(){Gc(t,r),typeof c!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})}),o}function yp(t,r,o){var c=t.pingCache;if(c===null){c=t.pingCache=new iv;var h=new Set;c.set(r,h)}else h=c.get(r),h===void 0&&(h=new Set,c.set(r,h));h.has(o)||(h.add(o),t=_v.bind(null,t,r,o),r.then(t,t))}function _p(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function vp(t,r,o,c,h){return t.mode&1?(t.flags|=65536,t.lanes=h,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=gr(-1,1),r.tag=2,$r(o,r,1))),o.lanes|=1),t)}var sv=te.ReactCurrentOwner,Gt=!1;function jt(t,r,o,c){r.child=t===null?Ud(r,null,o,c):Ds(r,t.child,o,c)}function Ep(t,r,o,c,h){o=o.render;var m=r.ref;return Ls(r,h),c=zc(t,r,o,c,m,h),o=Bc(),t!==null&&!Gt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,yr(t,r,h)):(Xe&&o&&Ic(r),r.flags|=1,jt(t,r,c,h),r.child)}function wp(t,r,o,c,h){if(t===null){var m=o.type;return typeof m=="function"&&!_f(m)&&m.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=m,Tp(t,r,m,c,h)):(t=jl(o.type,null,c,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,!(t.lanes&h)){var v=m.memoizedProps;if(o=o.compare,o=o!==null?o:bo,o(v,c)&&t.ref===r.ref)return yr(t,r,h)}return r.flags|=1,t=Gr(m,c),t.ref=r.ref,t.return=r,r.child=t}function Tp(t,r,o,c,h){if(t!==null){var m=t.memoizedProps;if(bo(m,c)&&t.ref===r.ref)if(Gt=!1,r.pendingProps=c=m,(t.lanes&h)!==0)t.flags&131072&&(Gt=!0);else return r.lanes=t.lanes,yr(t,r,h)}return Xc(t,r,o,c,h)}function Ip(t,r,o){var c=r.pendingProps,h=c.children,m=t!==null?t.memoizedState:null;if(c.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Fs,an),an|=o;else{if(!(o&1073741824))return t=m!==null?m.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,He(Fs,an),an|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:o,He(Fs,an),an|=c}else m!==null?(c=m.baseLanes|o,r.memoizedState=null):c=o,He(Fs,an),an|=c;return jt(t,r,h,o),r.child}function Sp(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function Xc(t,r,o,c,h){var m=Kt(o)?ki:Vt.current;return m=ks(r,m),Ls(r,h),o=zc(t,r,o,c,m,h),c=Bc(),t!==null&&!Gt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,yr(t,r,h)):(Xe&&c&&Ic(r),r.flags|=1,jt(t,r,o,h),r.child)}function Cp(t,r,o,c,h){if(Kt(o)){var m=!0;dl(r)}else m=!1;if(Ls(r,h),r.stateNode===null)Nl(t,r),dp(r,o,c),Qc(r,o,c,h),c=!0;else if(t===null){var v=r.stateNode,C=r.memoizedProps;v.props=C;var x=v.context,j=o.contextType;typeof j=="object"&&j!==null?j=gn(j):(j=Kt(o)?ki:Vt.current,j=ks(r,j));var Y=o.getDerivedStateFromProps,Z=typeof Y=="function"||typeof v.getSnapshotBeforeUpdate=="function";Z||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==c||x!==j)&&pp(r,v,c,j),jr=!1;var X=r.memoizedState;v.state=X,Tl(r,c,v,h),x=r.memoizedState,C!==c||X!==x||Qt.current||jr?(typeof Y=="function"&&(Wc(r,o,Y,c),x=r.memoizedState),(C=jr||hp(r,o,C,c,X,x,j))?(Z||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=x),v.props=c,v.state=x,v.context=j,c=C):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{v=r.stateNode,Bd(t,r),C=r.memoizedProps,j=r.type===r.elementType?C:Nn(r.type,C),v.props=j,Z=r.pendingProps,X=v.context,x=o.contextType,typeof x=="object"&&x!==null?x=gn(x):(x=Kt(o)?ki:Vt.current,x=ks(r,x));var se=o.getDerivedStateFromProps;(Y=typeof se=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==Z||X!==x)&&pp(r,v,c,x),jr=!1,X=r.memoizedState,v.state=X,Tl(r,c,v,h);var ue=r.memoizedState;C!==Z||X!==ue||Qt.current||jr?(typeof se=="function"&&(Wc(r,o,se,c),ue=r.memoizedState),(j=jr||hp(r,o,j,c,X,ue,x)||!1)?(Y||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,ue,x),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,ue,x)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||C===t.memoizedProps&&X===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&X===t.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=ue),v.props=c,v.state=ue,v.context=x,c=j):(typeof v.componentDidUpdate!="function"||C===t.memoizedProps&&X===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&X===t.memoizedState||(r.flags|=1024),c=!1)}return Yc(t,r,o,c,m,h)}function Yc(t,r,o,c,h,m){Sp(t,r);var v=(r.flags&128)!==0;if(!c&&!v)return h&&xd(r,o,!1),yr(t,r,m);c=r.stateNode,sv.current=r;var C=v&&typeof o.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,t!==null&&v?(r.child=Ds(r,t.child,null,m),r.child=Ds(r,null,C,m)):jt(t,r,C,m),r.memoizedState=c.state,h&&xd(r,o,!0),r.child}function Rp(t){var r=t.stateNode;r.pendingContext?kd(t,r.pendingContext,r.pendingContext!==r.context):r.context&&kd(t,r.context,!1),Lc(t,r.containerInfo)}function Ap(t,r,o,c,h){return Ns(),Ac(h),r.flags|=256,jt(t,r,o,c),r.child}var Jc={dehydrated:null,treeContext:null,retryLane:0};function Zc(t){return{baseLanes:t,cachePool:null,transitions:null}}function kp(t,r,o){var c=r.pendingProps,h=Ze.current,m=!1,v=(r.flags&128)!==0,C;if((C=v)||(C=t!==null&&t.memoizedState===null?!1:(h&2)!==0),C?(m=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),He(Ze,h&1),t===null)return Rc(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(v=c.children,t=c.fallback,m?(c=r.mode,m=r.child,v={mode:"hidden",children:v},!(c&1)&&m!==null?(m.childLanes=0,m.pendingProps=v):m=$l(v,c,0,null),t=Fi(t,c,o,null),m.return=r,t.return=r,m.sibling=t,r.child=m,r.child.memoizedState=Zc(o),r.memoizedState=Jc,t):ef(r,v));if(h=t.memoizedState,h!==null&&(C=h.dehydrated,C!==null))return ov(t,r,v,c,C,h,o);if(m){m=c.fallback,v=r.mode,h=t.child,C=h.sibling;var x={mode:"hidden",children:c.children};return!(v&1)&&r.child!==h?(c=r.child,c.childLanes=0,c.pendingProps=x,r.deletions=null):(c=Gr(h,x),c.subtreeFlags=h.subtreeFlags&14680064),C!==null?m=Gr(C,m):(m=Fi(m,v,o,null),m.flags|=2),m.return=r,c.return=r,c.sibling=m,r.child=c,c=m,m=r.child,v=t.child.memoizedState,v=v===null?Zc(o):{baseLanes:v.baseLanes|o,cachePool:null,transitions:v.transitions},m.memoizedState=v,m.childLanes=t.childLanes&~o,r.memoizedState=Jc,c}return m=t.child,t=m.sibling,c=Gr(m,{mode:"visible",children:c.children}),!(r.mode&1)&&(c.lanes=o),c.return=r,c.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=c,r.memoizedState=null,c}function ef(t,r){return r=$l({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function xl(t,r,o,c){return c!==null&&Ac(c),Ds(r,t.child,null,o),t=ef(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function ov(t,r,o,c,h,m,v){if(o)return r.flags&256?(r.flags&=-257,c=Kc(Error(n(422))),xl(t,r,v,c)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(m=c.fallback,h=r.mode,c=$l({mode:"visible",children:c.children},h,0,null),m=Fi(m,h,v,null),m.flags|=2,c.return=r,m.return=r,c.sibling=m,r.child=c,r.mode&1&&Ds(r,t.child,null,v),r.child.memoizedState=Zc(v),r.memoizedState=Jc,m);if(!(r.mode&1))return xl(t,r,v,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var C=c.dgst;return c=C,m=Error(n(419)),c=Kc(m,c,void 0),xl(t,r,v,c)}if(C=(v&t.childLanes)!==0,Gt||C){if(c=It,c!==null){switch(v&-v){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(c.suspendedLanes|v)?0:h,h!==0&&h!==m.retryLane&&(m.retryLane=h,mr(t,h),Ln(c,t,h,-1))}return yf(),c=Kc(Error(n(421))),xl(t,r,v,c)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=vv.bind(null,t),h._reactRetry=r,null):(t=m.treeContext,on=Fr(h.nextSibling),sn=r,Xe=!0,xn=null,t!==null&&(pn[mn++]=dr,pn[mn++]=pr,pn[mn++]=Pi,dr=t.id,pr=t.overflow,Pi=r),r=ef(r,c.children),r.flags|=4096,r)}function Pp(t,r,o){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r),Nc(t.return,r,o)}function tf(t,r,o,c,h){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:h}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=o,m.tailMode=h)}function xp(t,r,o){var c=r.pendingProps,h=c.revealOrder,m=c.tail;if(jt(t,r,c.children,o),c=Ze.current,c&2)c=c&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pp(t,o,r);else if(t.tag===19)Pp(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(He(Ze,c),!(r.mode&1))r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)t=o.alternate,t!==null&&Il(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),tf(r,!1,h,o,m);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Il(t)===null){r.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}tf(r,!0,o,null,m);break;case"together":tf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Nl(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function yr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Li|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Gr(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Gr(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function av(t,r,o){switch(r.tag){case 3:Rp(r),Ns();break;case 5:qd(r);break;case 1:Kt(r.type)&&dl(r);break;case 4:Lc(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,h=r.memoizedProps.value;He(vl,c._currentValue),c._currentValue=h;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(He(Ze,Ze.current&1),r.flags|=128,null):o&r.child.childLanes?kp(t,r,o):(He(Ze,Ze.current&1),t=yr(t,r,o),t!==null?t.sibling:null);He(Ze,Ze.current&1);break;case 19:if(c=(o&r.childLanes)!==0,t.flags&128){if(c)return xp(t,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),He(Ze,Ze.current),c)break;return null;case 22:case 23:return r.lanes=0,Ip(t,r,o)}return yr(t,r,o)}var Np,nf,Dp,Vp;Np=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},nf=function(){},Dp=function(t,r,o,c){var h=t.memoizedProps;if(h!==c){t=r.stateNode,Di(qn.current);var m=null;switch(o){case"input":h=fi(t,h),c=fi(t,c),m=[];break;case"select":h=oe({},h,{value:void 0}),c=oe({},c,{value:void 0}),m=[];break;case"textarea":h=fo(t,h),c=fo(t,c),m=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=cl)}_o(o,c);var v;o=null;for(j in h)if(!c.hasOwnProperty(j)&&h.hasOwnProperty(j)&&h[j]!=null)if(j==="style"){var C=h[j];for(v in C)C.hasOwnProperty(v)&&(o||(o={}),o[v]="")}else j!=="dangerouslySetInnerHTML"&&j!=="children"&&j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(a.hasOwnProperty(j)?m||(m=[]):(m=m||[]).push(j,null));for(j in c){var x=c[j];if(C=h!=null?h[j]:void 0,c.hasOwnProperty(j)&&x!==C&&(x!=null||C!=null))if(j==="style")if(C){for(v in C)!C.hasOwnProperty(v)||x&&x.hasOwnProperty(v)||(o||(o={}),o[v]="");for(v in x)x.hasOwnProperty(v)&&C[v]!==x[v]&&(o||(o={}),o[v]=x[v])}else o||(m||(m=[]),m.push(j,o)),o=x;else j==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,C=C?C.__html:void 0,x!=null&&C!==x&&(m=m||[]).push(j,x)):j==="children"?typeof x!="string"&&typeof x!="number"||(m=m||[]).push(j,""+x):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&(a.hasOwnProperty(j)?(x!=null&&j==="onScroll"&&We("scroll",t),m||C===x||(m=[])):(m=m||[]).push(j,x))}o&&(m=m||[]).push("style",o);var j=m;(r.updateQueue=j)&&(r.flags|=4)}},Vp=function(t,r,o,c){o!==c&&(r.flags|=4)};function Jo(t,r){if(!Xe)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Ot(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,c=0;if(r)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=c,t.childLanes=o,r}function lv(t,r,o){var c=r.pendingProps;switch(Sc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(r),null;case 1:return Kt(r.type)&&hl(),Ot(r),null;case 3:return c=r.stateNode,Os(),Qe(Qt),Qe(Vt),bc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(yl(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,xn!==null&&(pf(xn),xn=null))),nf(t,r),Ot(r),null;case 5:Oc(r);var h=Di(Qo.current);if(o=r.type,t!==null&&r.stateNode!=null)Dp(t,r,o,c,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(n(166));return Ot(r),null}if(t=Di(qn.current),yl(r)){c=r.stateNode,o=r.type;var m=r.memoizedProps;switch(c[$n]=r,c[jo]=m,t=(r.mode&1)!==0,o){case"dialog":We("cancel",c),We("close",c);break;case"iframe":case"object":case"embed":We("load",c);break;case"video":case"audio":for(h=0;h<Uo.length;h++)We(Uo[h],c);break;case"source":We("error",c);break;case"img":case"image":case"link":We("error",c),We("load",c);break;case"details":We("toggle",c);break;case"input":Xi(c,m),We("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},We("invalid",c);break;case"textarea":Ji(c,m),We("invalid",c)}_o(o,m),h=null;for(var v in m)if(m.hasOwnProperty(v)){var C=m[v];v==="children"?typeof C=="string"?c.textContent!==C&&(m.suppressHydrationWarning!==!0&&ul(c.textContent,C,t),h=["children",C]):typeof C=="number"&&c.textContent!==""+C&&(m.suppressHydrationWarning!==!0&&ul(c.textContent,C,t),h=["children",""+C]):a.hasOwnProperty(v)&&C!=null&&v==="onScroll"&&We("scroll",c)}switch(o){case"input":tr(c),Oa(c,m,!0);break;case"textarea":tr(c),ho(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=cl)}c=h,r.updateQueue=c,c!==null&&(r.flags|=4)}else{v=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ht(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=v.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=v.createElement(o,{is:c.is}):(t=v.createElement(o),o==="select"&&(v=t,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):t=v.createElementNS(t,o),t[$n]=r,t[jo]=c,Np(t,r,!1,!1),r.stateNode=t;e:{switch(v=vo(o,c),o){case"dialog":We("cancel",t),We("close",t),h=c;break;case"iframe":case"object":case"embed":We("load",t),h=c;break;case"video":case"audio":for(h=0;h<Uo.length;h++)We(Uo[h],t);h=c;break;case"source":We("error",t),h=c;break;case"img":case"image":case"link":We("error",t),We("load",t),h=c;break;case"details":We("toggle",t),h=c;break;case"input":Xi(t,c),h=fi(t,c),We("invalid",t);break;case"option":h=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},h=oe({},c,{value:void 0}),We("invalid",t);break;case"textarea":Ji(t,c),h=fo(t,c),We("invalid",t);break;default:h=c}_o(o,h),C=h;for(m in C)if(C.hasOwnProperty(m)){var x=C[m];m==="style"?go(t,x):m==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&po(t,x)):m==="children"?typeof x=="string"?(o!=="textarea"||x!=="")&&Ar(t,x):typeof x=="number"&&Ar(t,""+x):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(a.hasOwnProperty(m)?x!=null&&m==="onScroll"&&We("scroll",t):x!=null&&Q(t,m,x,v))}switch(o){case"input":tr(t),Oa(t,c,!1);break;case"textarea":tr(t),ho(t);break;case"option":c.value!=null&&t.setAttribute("value",""+Fe(c.value));break;case"select":t.multiple=!!c.multiple,m=c.value,m!=null?rr(t,!!c.multiple,m,!1):c.defaultValue!=null&&rr(t,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=cl)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Ot(r),null;case 6:if(t&&r.stateNode!=null)Vp(t,r,t.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(n(166));if(o=Di(Qo.current),Di(qn.current),yl(r)){if(c=r.stateNode,o=r.memoizedProps,c[$n]=r,(m=c.nodeValue!==o)&&(t=sn,t!==null))switch(t.tag){case 3:ul(c.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ul(c.nodeValue,o,(t.mode&1)!==0)}m&&(r.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[$n]=r,r.stateNode=c}return Ot(r),null;case 13:if(Qe(Ze),c=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xe&&on!==null&&r.mode&1&&!(r.flags&128))Md(),Ns(),r.flags|=98560,m=!1;else if(m=yl(r),c!==null&&c.dehydrated!==null){if(t===null){if(!m)throw Error(n(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[$n]=r}else Ns(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Ot(r),m=!1}else xn!==null&&(pf(xn),xn=null),m=!0;if(!m)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(r.child.flags|=8192,r.mode&1&&(t===null||Ze.current&1?gt===0&&(gt=3):yf())),r.updateQueue!==null&&(r.flags|=4),Ot(r),null);case 4:return Os(),nf(t,r),t===null&&zo(r.stateNode.containerInfo),Ot(r),null;case 10:return xc(r.type._context),Ot(r),null;case 17:return Kt(r.type)&&hl(),Ot(r),null;case 19:if(Qe(Ze),m=r.memoizedState,m===null)return Ot(r),null;if(c=(r.flags&128)!==0,v=m.rendering,v===null)if(c)Jo(m,!1);else{if(gt!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(v=Il(t),v!==null){for(r.flags|=128,Jo(m,!1),c=v.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=o,o=r.child;o!==null;)m=o,t=c,m.flags&=14680066,v=m.alternate,v===null?(m.childLanes=0,m.lanes=t,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=v.childLanes,m.lanes=v.lanes,m.child=v.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=v.memoizedProps,m.memoizedState=v.memoizedState,m.updateQueue=v.updateQueue,m.type=v.type,t=v.dependencies,m.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return He(Ze,Ze.current&1|2),r.child}t=t.sibling}m.tail!==null&&qe()>Us&&(r.flags|=128,c=!0,Jo(m,!1),r.lanes=4194304)}else{if(!c)if(t=Il(v),t!==null){if(r.flags|=128,c=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Jo(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!Xe)return Ot(r),null}else 2*qe()-m.renderingStartTime>Us&&o!==1073741824&&(r.flags|=128,c=!0,Jo(m,!1),r.lanes=4194304);m.isBackwards?(v.sibling=r.child,r.child=v):(o=m.last,o!==null?o.sibling=v:r.child=v,m.last=v)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=qe(),r.sibling=null,o=Ze.current,He(Ze,c?o&1|2:o&1),r):(Ot(r),null);case 22:case 23:return gf(),c=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(r.flags|=8192),c&&r.mode&1?an&1073741824&&(Ot(r),r.subtreeFlags&6&&(r.flags|=8192)):Ot(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function uv(t,r){switch(Sc(r),r.tag){case 1:return Kt(r.type)&&hl(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Os(),Qe(Qt),Qe(Vt),bc(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return Oc(r),null;case 13:if(Qe(Ze),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Ns()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Qe(Ze),null;case 4:return Os(),null;case 10:return xc(r.type._context),null;case 22:case 23:return gf(),null;case 24:return null;default:return null}}var Dl=!1,Mt=!1,cv=typeof WeakSet=="function"?WeakSet:Set,le=null;function bs(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){rt(t,r,c)}else o.current=null}function rf(t,r,o){try{o()}catch(c){rt(t,r,c)}}var Lp=!1;function fv(t,r){if(mc=Or,t=hd(),ac(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var h=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var v=0,C=-1,x=-1,j=0,Y=0,Z=t,X=null;t:for(;;){for(var se;Z!==o||h!==0&&Z.nodeType!==3||(C=v+h),Z!==m||c!==0&&Z.nodeType!==3||(x=v+c),Z.nodeType===3&&(v+=Z.nodeValue.length),(se=Z.firstChild)!==null;)X=Z,Z=se;for(;;){if(Z===t)break t;if(X===o&&++j===h&&(C=v),X===m&&++Y===c&&(x=v),(se=Z.nextSibling)!==null)break;Z=X,X=Z.parentNode}Z=se}o=C===-1||x===-1?null:{start:C,end:x}}else o=null}o=o||{start:0,end:0}}else o=null;for(gc={focusedElem:t,selectionRange:o},Or=!1,le=r;le!==null;)if(r=le,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,le=t;else for(;le!==null;){r=le;try{var ue=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var ce=ue.memoizedProps,st=ue.memoizedState,U=r.stateNode,V=U.getSnapshotBeforeUpdate(r.elementType===r.type?ce:Nn(r.type,ce),st);U.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var B=r.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ne){rt(r,r.return,ne)}if(t=r.sibling,t!==null){t.return=r.return,le=t;break}le=r.return}return ue=Lp,Lp=!1,ue}function Zo(t,r,o){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&t)===t){var m=h.destroy;h.destroy=void 0,m!==void 0&&rf(r,o,m)}h=h.next}while(h!==c)}}function Vl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var c=o.create;o.destroy=c()}o=o.next}while(o!==r)}}function sf(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function Op(t){var r=t.alternate;r!==null&&(t.alternate=null,Op(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[$n],delete r[jo],delete r[Ec],delete r[Q_],delete r[K_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Mp(t){return t.tag===5||t.tag===3||t.tag===4}function bp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Mp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function of(t,r,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=cl));else if(c!==4&&(t=t.child,t!==null))for(of(t,r,o),t=t.sibling;t!==null;)of(t,r,o),t=t.sibling}function af(t,r,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(af(t,r,o),t=t.sibling;t!==null;)af(t,r,o),t=t.sibling}var kt=null,Dn=!1;function qr(t,r,o){for(o=o.child;o!==null;)Fp(t,r,o),o=o.sibling}function Fp(t,r,o){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Ei,o)}catch{}switch(o.tag){case 5:Mt||bs(o,r);case 6:var c=kt,h=Dn;kt=null,qr(t,r,o),kt=c,Dn=h,kt!==null&&(Dn?(t=kt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):kt.removeChild(o.stateNode));break;case 18:kt!==null&&(Dn?(t=kt,o=o.stateNode,t.nodeType===8?vc(t.parentNode,o):t.nodeType===1&&vc(t,o),An(t)):vc(kt,o.stateNode));break;case 4:c=kt,h=Dn,kt=o.stateNode.containerInfo,Dn=!0,qr(t,r,o),kt=c,Dn=h;break;case 0:case 11:case 14:case 15:if(!Mt&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var m=h,v=m.destroy;m=m.tag,v!==void 0&&(m&2||m&4)&&rf(o,r,v),h=h.next}while(h!==c)}qr(t,r,o);break;case 1:if(!Mt&&(bs(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(C){rt(o,r,C)}qr(t,r,o);break;case 21:qr(t,r,o);break;case 22:o.mode&1?(Mt=(c=Mt)||o.memoizedState!==null,qr(t,r,o),Mt=c):qr(t,r,o);break;default:qr(t,r,o)}}function Up(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new cv),r.forEach(function(c){var h=Ev.bind(null,t,c);o.has(c)||(o.add(c),c.then(h,h))})}}function Vn(t,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];try{var m=t,v=r,C=v;e:for(;C!==null;){switch(C.tag){case 5:kt=C.stateNode,Dn=!1;break e;case 3:kt=C.stateNode.containerInfo,Dn=!0;break e;case 4:kt=C.stateNode.containerInfo,Dn=!0;break e}C=C.return}if(kt===null)throw Error(n(160));Fp(m,v,h),kt=null,Dn=!1;var x=h.alternate;x!==null&&(x.return=null),h.return=null}catch(j){rt(h,r,j)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)zp(r,t),r=r.sibling}function zp(t,r){var o=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vn(r,t),Wn(t),c&4){try{Zo(3,t,t.return),Vl(3,t)}catch(ce){rt(t,t.return,ce)}try{Zo(5,t,t.return)}catch(ce){rt(t,t.return,ce)}}break;case 1:Vn(r,t),Wn(t),c&512&&o!==null&&bs(o,o.return);break;case 5:if(Vn(r,t),Wn(t),c&512&&o!==null&&bs(o,o.return),t.flags&32){var h=t.stateNode;try{Ar(h,"")}catch(ce){rt(t,t.return,ce)}}if(c&4&&(h=t.stateNode,h!=null)){var m=t.memoizedProps,v=o!==null?o.memoizedProps:m,C=t.type,x=t.updateQueue;if(t.updateQueue=null,x!==null)try{C==="input"&&m.type==="radio"&&m.name!=null&&uo(h,m),vo(C,v);var j=vo(C,m);for(v=0;v<x.length;v+=2){var Y=x[v],Z=x[v+1];Y==="style"?go(h,Z):Y==="dangerouslySetInnerHTML"?po(h,Z):Y==="children"?Ar(h,Z):Q(h,Y,Z,j)}switch(C){case"input":co(h,m);break;case"textarea":Zi(h,m);break;case"select":var X=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!m.multiple;var se=m.value;se!=null?rr(h,!!m.multiple,se,!1):X!==!!m.multiple&&(m.defaultValue!=null?rr(h,!!m.multiple,m.defaultValue,!0):rr(h,!!m.multiple,m.multiple?[]:"",!1))}h[jo]=m}catch(ce){rt(t,t.return,ce)}}break;case 6:if(Vn(r,t),Wn(t),c&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,m=t.memoizedProps;try{h.nodeValue=m}catch(ce){rt(t,t.return,ce)}}break;case 3:if(Vn(r,t),Wn(t),c&4&&o!==null&&o.memoizedState.isDehydrated)try{An(r.containerInfo)}catch(ce){rt(t,t.return,ce)}break;case 4:Vn(r,t),Wn(t);break;case 13:Vn(r,t),Wn(t),h=t.child,h.flags&8192&&(m=h.memoizedState!==null,h.stateNode.isHidden=m,!m||h.alternate!==null&&h.alternate.memoizedState!==null||(cf=qe())),c&4&&Up(t);break;case 22:if(Y=o!==null&&o.memoizedState!==null,t.mode&1?(Mt=(j=Mt)||Y,Vn(r,t),Mt=j):Vn(r,t),Wn(t),c&8192){if(j=t.memoizedState!==null,(t.stateNode.isHidden=j)&&!Y&&t.mode&1)for(le=t,Y=t.child;Y!==null;){for(Z=le=Y;le!==null;){switch(X=le,se=X.child,X.tag){case 0:case 11:case 14:case 15:Zo(4,X,X.return);break;case 1:bs(X,X.return);var ue=X.stateNode;if(typeof ue.componentWillUnmount=="function"){c=X,o=X.return;try{r=c,ue.props=r.memoizedProps,ue.state=r.memoizedState,ue.componentWillUnmount()}catch(ce){rt(c,o,ce)}}break;case 5:bs(X,X.return);break;case 22:if(X.memoizedState!==null){$p(Z);continue}}se!==null?(se.return=X,le=se):$p(Z)}Y=Y.sibling}e:for(Y=null,Z=t;;){if(Z.tag===5){if(Y===null){Y=Z;try{h=Z.stateNode,j?(m=h.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(C=Z.stateNode,x=Z.memoizedProps.style,v=x!=null&&x.hasOwnProperty("display")?x.display:null,C.style.display=mo("display",v))}catch(ce){rt(t,t.return,ce)}}}else if(Z.tag===6){if(Y===null)try{Z.stateNode.nodeValue=j?"":Z.memoizedProps}catch(ce){rt(t,t.return,ce)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===t)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===t)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===t)break e;Y===Z&&(Y=null),Z=Z.return}Y===Z&&(Y=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Vn(r,t),Wn(t),c&4&&Up(t);break;case 21:break;default:Vn(r,t),Wn(t)}}function Wn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(Mp(o)){var c=o;break e}o=o.return}throw Error(n(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(Ar(h,""),c.flags&=-33);var m=bp(t);af(t,m,h);break;case 3:case 4:var v=c.stateNode.containerInfo,C=bp(t);of(t,C,v);break;default:throw Error(n(161))}}catch(x){rt(t,t.return,x)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function hv(t,r,o){le=t,Bp(t)}function Bp(t,r,o){for(var c=(t.mode&1)!==0;le!==null;){var h=le,m=h.child;if(h.tag===22&&c){var v=h.memoizedState!==null||Dl;if(!v){var C=h.alternate,x=C!==null&&C.memoizedState!==null||Mt;C=Dl;var j=Mt;if(Dl=v,(Mt=x)&&!j)for(le=h;le!==null;)v=le,x=v.child,v.tag===22&&v.memoizedState!==null?qp(h):x!==null?(x.return=v,le=x):qp(h);for(;m!==null;)le=m,Bp(m),m=m.sibling;le=h,Dl=C,Mt=j}jp(t)}else h.subtreeFlags&8772&&m!==null?(m.return=h,le=m):jp(t)}}function jp(t){for(;le!==null;){var r=le;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Mt||Vl(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!Mt)if(o===null)c.componentDidMount();else{var h=r.elementType===r.type?o.memoizedProps:Nn(r.type,o.memoizedProps);c.componentDidUpdate(h,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=r.updateQueue;m!==null&&$d(r,m,c);break;case 3:var v=r.updateQueue;if(v!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}$d(r,v,o)}break;case 5:var C=r.stateNode;if(o===null&&r.flags&4){o=C;var x=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&o.focus();break;case"img":x.src&&(o.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var j=r.alternate;if(j!==null){var Y=j.memoizedState;if(Y!==null){var Z=Y.dehydrated;Z!==null&&An(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Mt||r.flags&512&&sf(r)}catch(X){rt(r,r.return,X)}}if(r===t){le=null;break}if(o=r.sibling,o!==null){o.return=r.return,le=o;break}le=r.return}}function $p(t){for(;le!==null;){var r=le;if(r===t){le=null;break}var o=r.sibling;if(o!==null){o.return=r.return,le=o;break}le=r.return}}function qp(t){for(;le!==null;){var r=le;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{Vl(4,r)}catch(x){rt(r,o,x)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var h=r.return;try{c.componentDidMount()}catch(x){rt(r,h,x)}}var m=r.return;try{sf(r)}catch(x){rt(r,m,x)}break;case 5:var v=r.return;try{sf(r)}catch(x){rt(r,v,x)}}}catch(x){rt(r,r.return,x)}if(r===t){le=null;break}var C=r.sibling;if(C!==null){C.return=r.return,le=C;break}le=r.return}}var dv=Math.ceil,Ll=te.ReactCurrentDispatcher,lf=te.ReactCurrentOwner,_n=te.ReactCurrentBatchConfig,Le=0,It=null,lt=null,Pt=0,an=0,Fs=Ur(0),gt=0,ea=null,Li=0,Ol=0,uf=0,ta=null,Xt=null,cf=0,Us=1/0,_r=null,Ml=!1,ff=null,Hr=null,bl=!1,Wr=null,Fl=0,na=0,hf=null,Ul=-1,zl=0;function $t(){return Le&6?qe():Ul!==-1?Ul:Ul=qe()}function Qr(t){return t.mode&1?Le&2&&Pt!==0?Pt&-Pt:X_.transition!==null?(zl===0&&(zl=Ti()),zl):(t=ke,t!==0||(t=window.event,t=t===void 0?16:xo(t.type)),t):1}function Ln(t,r,o,c){if(50<na)throw na=0,hf=null,Error(n(185));Nr(t,o,c),(!(Le&2)||t!==It)&&(t===It&&(!(Le&2)&&(Ol|=o),gt===4&&Kr(t,Pt)),Yt(t,c),o===1&&Le===0&&!(r.mode&1)&&(Us=qe()+500,pl&&Br()))}function Yt(t,r){var o=t.callbackNode;or(t,r);var c=wi(t,t===It?Pt:0);if(c===0)o!==null&&Co(o),t.callbackNode=null,t.callbackPriority=0;else if(r=c&-c,t.callbackPriority!==r){if(o!=null&&Co(o),r===1)t.tag===0?G_(Wp.bind(null,t)):Nd(Wp.bind(null,t)),H_(function(){!(Le&6)&&Br()}),o=null;else{switch(Vr(c)){case 1:o=vi;break;case 4:o=kr;break;case 16:o=fn;break;case 536870912:o=za;break;default:o=fn}o=em(o,Hp.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function Hp(t,r){if(Ul=-1,zl=0,Le&6)throw Error(n(327));var o=t.callbackNode;if(zs()&&t.callbackNode!==o)return null;var c=wi(t,t===It?Pt:0);if(c===0)return null;if(c&30||c&t.expiredLanes||r)r=Bl(t,c);else{r=c;var h=Le;Le|=2;var m=Kp();(It!==t||Pt!==r)&&(_r=null,Us=qe()+500,Mi(t,r));do try{gv();break}catch(C){Qp(t,C)}while(!0);Pc(),Ll.current=m,Le=h,lt!==null?r=0:(It=null,Pt=0,r=gt)}if(r!==0){if(r===2&&(h=tn(t),h!==0&&(c=h,r=df(t,h))),r===1)throw o=ea,Mi(t,0),Kr(t,c),Yt(t,qe()),o;if(r===6)Kr(t,c);else{if(h=t.current.alternate,!(c&30)&&!pv(h)&&(r=Bl(t,c),r===2&&(m=tn(t),m!==0&&(c=m,r=df(t,m))),r===1))throw o=ea,Mi(t,0),Kr(t,c),Yt(t,qe()),o;switch(t.finishedWork=h,t.finishedLanes=c,r){case 0:case 1:throw Error(n(345));case 2:bi(t,Xt,_r);break;case 3:if(Kr(t,c),(c&130023424)===c&&(r=cf+500-qe(),10<r)){if(wi(t,0)!==0)break;if(h=t.suspendedLanes,(h&c)!==c){$t(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=_c(bi.bind(null,t,Xt,_r),r);break}bi(t,Xt,_r);break;case 4:if(Kr(t,c),(c&4194240)===c)break;for(r=t.eventTimes,h=-1;0<c;){var v=31-zt(c);m=1<<v,v=r[v],v>h&&(h=v),c&=~m}if(c=h,c=qe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*dv(c/1960))-c,10<c){t.timeoutHandle=_c(bi.bind(null,t,Xt,_r),c);break}bi(t,Xt,_r);break;case 5:bi(t,Xt,_r);break;default:throw Error(n(329))}}}return Yt(t,qe()),t.callbackNode===o?Hp.bind(null,t):null}function df(t,r){var o=ta;return t.current.memoizedState.isDehydrated&&(Mi(t,r).flags|=256),t=Bl(t,r),t!==2&&(r=Xt,Xt=o,r!==null&&pf(r)),t}function pf(t){Xt===null?Xt=t:Xt.push.apply(Xt,t)}function pv(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var h=o[c],m=h.getSnapshot;h=h.value;try{if(!Pn(m(),h))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Kr(t,r){for(r&=~uf,r&=~Ol,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-zt(r),c=1<<o;t[o]=-1,r&=~c}}function Wp(t){if(Le&6)throw Error(n(327));zs();var r=wi(t,0);if(!(r&1))return Yt(t,qe()),null;var o=Bl(t,r);if(t.tag!==0&&o===2){var c=tn(t);c!==0&&(r=c,o=df(t,c))}if(o===1)throw o=ea,Mi(t,0),Kr(t,r),Yt(t,qe()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,bi(t,Xt,_r),Yt(t,qe()),null}function mf(t,r){var o=Le;Le|=1;try{return t(r)}finally{Le=o,Le===0&&(Us=qe()+500,pl&&Br())}}function Oi(t){Wr!==null&&Wr.tag===0&&!(Le&6)&&zs();var r=Le;Le|=1;var o=_n.transition,c=ke;try{if(_n.transition=null,ke=1,t)return t()}finally{ke=c,_n.transition=o,Le=r,!(Le&6)&&Br()}}function gf(){an=Fs.current,Qe(Fs)}function Mi(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,q_(o)),lt!==null)for(o=lt.return;o!==null;){var c=o;switch(Sc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&hl();break;case 3:Os(),Qe(Qt),Qe(Vt),bc();break;case 5:Oc(c);break;case 4:Os();break;case 13:Qe(Ze);break;case 19:Qe(Ze);break;case 10:xc(c.type._context);break;case 22:case 23:gf()}o=o.return}if(It=t,lt=t=Gr(t.current,null),Pt=an=r,gt=0,ea=null,uf=Ol=Li=0,Xt=ta=null,Ni!==null){for(r=0;r<Ni.length;r++)if(o=Ni[r],c=o.interleaved,c!==null){o.interleaved=null;var h=c.next,m=o.pending;if(m!==null){var v=m.next;m.next=h,c.next=v}o.pending=c}Ni=null}return t}function Qp(t,r){do{var o=lt;try{if(Pc(),Sl.current=kl,Cl){for(var c=et.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}Cl=!1}if(Vi=0,Tt=mt=et=null,Ko=!1,Go=0,lf.current=null,o===null||o.return===null){gt=1,ea=r,lt=null;break}e:{var m=t,v=o.return,C=o,x=r;if(r=Pt,C.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var j=x,Y=C,Z=Y.tag;if(!(Y.mode&1)&&(Z===0||Z===11||Z===15)){var X=Y.alternate;X?(Y.updateQueue=X.updateQueue,Y.memoizedState=X.memoizedState,Y.lanes=X.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var se=_p(v);if(se!==null){se.flags&=-257,vp(se,v,C,m,r),se.mode&1&&yp(m,j,r),r=se,x=j;var ue=r.updateQueue;if(ue===null){var ce=new Set;ce.add(x),r.updateQueue=ce}else ue.add(x);break e}else{if(!(r&1)){yp(m,j,r),yf();break e}x=Error(n(426))}}else if(Xe&&C.mode&1){var st=_p(v);if(st!==null){!(st.flags&65536)&&(st.flags|=256),vp(st,v,C,m,r),Ac(Ms(x,C));break e}}m=x=Ms(x,C),gt!==4&&(gt=2),ta===null?ta=[m]:ta.push(m),m=v;do{switch(m.tag){case 3:m.flags|=65536,r&=-r,m.lanes|=r;var U=mp(m,x,r);jd(m,U);break e;case 1:C=x;var V=m.type,B=m.stateNode;if(!(m.flags&128)&&(typeof V.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(Hr===null||!Hr.has(B)))){m.flags|=65536,r&=-r,m.lanes|=r;var ne=gp(m,C,r);jd(m,ne);break e}}m=m.return}while(m!==null)}Xp(o)}catch(fe){r=fe,lt===o&&o!==null&&(lt=o=o.return);continue}break}while(!0)}function Kp(){var t=Ll.current;return Ll.current=kl,t===null?kl:t}function yf(){(gt===0||gt===3||gt===2)&&(gt=4),It===null||!(Li&268435455)&&!(Ol&268435455)||Kr(It,Pt)}function Bl(t,r){var o=Le;Le|=2;var c=Kp();(It!==t||Pt!==r)&&(_r=null,Mi(t,r));do try{mv();break}catch(h){Qp(t,h)}while(!0);if(Pc(),Le=o,Ll.current=c,lt!==null)throw Error(n(261));return It=null,Pt=0,gt}function mv(){for(;lt!==null;)Gp(lt)}function gv(){for(;lt!==null&&!Fa();)Gp(lt)}function Gp(t){var r=Zp(t.alternate,t,an);t.memoizedProps=t.pendingProps,r===null?Xp(t):lt=r,lf.current=null}function Xp(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=uv(o,r),o!==null){o.flags&=32767,lt=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gt=6,lt=null;return}}else if(o=lv(o,r,an),o!==null){lt=o;return}if(r=r.sibling,r!==null){lt=r;return}lt=r=t}while(r!==null);gt===0&&(gt=5)}function bi(t,r,o){var c=ke,h=_n.transition;try{_n.transition=null,ke=1,yv(t,r,o,c)}finally{_n.transition=h,ke=c}return null}function yv(t,r,o,c){do zs();while(Wr!==null);if(Le&6)throw Error(n(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var m=o.lanes|o.childLanes;if(je(t,m),t===It&&(lt=It=null,Pt=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||bl||(bl=!0,em(fn,function(){return zs(),null})),m=(o.flags&15990)!==0,o.subtreeFlags&15990||m){m=_n.transition,_n.transition=null;var v=ke;ke=1;var C=Le;Le|=4,lf.current=null,fv(t,o),zp(o,t),b_(gc),Or=!!mc,gc=mc=null,t.current=o,hv(o),Zu(),Le=C,ke=v,_n.transition=m}else t.current=o;if(bl&&(bl=!1,Wr=t,Fl=h),m=t.pendingLanes,m===0&&(Hr=null),Ba(o.stateNode),Yt(t,qe()),r!==null)for(c=t.onRecoverableError,o=0;o<r.length;o++)h=r[o],c(h.value,{componentStack:h.stack,digest:h.digest});if(Ml)throw Ml=!1,t=ff,ff=null,t;return Fl&1&&t.tag!==0&&zs(),m=t.pendingLanes,m&1?t===hf?na++:(na=0,hf=t):na=0,Br(),null}function zs(){if(Wr!==null){var t=Vr(Fl),r=_n.transition,o=ke;try{if(_n.transition=null,ke=16>t?16:t,Wr===null)var c=!1;else{if(t=Wr,Wr=null,Fl=0,Le&6)throw Error(n(331));var h=Le;for(Le|=4,le=t.current;le!==null;){var m=le,v=m.child;if(le.flags&16){var C=m.deletions;if(C!==null){for(var x=0;x<C.length;x++){var j=C[x];for(le=j;le!==null;){var Y=le;switch(Y.tag){case 0:case 11:case 15:Zo(8,Y,m)}var Z=Y.child;if(Z!==null)Z.return=Y,le=Z;else for(;le!==null;){Y=le;var X=Y.sibling,se=Y.return;if(Op(Y),Y===j){le=null;break}if(X!==null){X.return=se,le=X;break}le=se}}}var ue=m.alternate;if(ue!==null){var ce=ue.child;if(ce!==null){ue.child=null;do{var st=ce.sibling;ce.sibling=null,ce=st}while(ce!==null)}}le=m}}if(m.subtreeFlags&2064&&v!==null)v.return=m,le=v;else e:for(;le!==null;){if(m=le,m.flags&2048)switch(m.tag){case 0:case 11:case 15:Zo(9,m,m.return)}var U=m.sibling;if(U!==null){U.return=m.return,le=U;break e}le=m.return}}var V=t.current;for(le=V;le!==null;){v=le;var B=v.child;if(v.subtreeFlags&2064&&B!==null)B.return=v,le=B;else e:for(v=V;le!==null;){if(C=le,C.flags&2048)try{switch(C.tag){case 0:case 11:case 15:Vl(9,C)}}catch(fe){rt(C,C.return,fe)}if(C===v){le=null;break e}var ne=C.sibling;if(ne!==null){ne.return=C.return,le=ne;break e}le=C.return}}if(Le=h,Br(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Ei,t)}catch{}c=!0}return c}finally{ke=o,_n.transition=r}}return!1}function Yp(t,r,o){r=Ms(o,r),r=mp(t,r,1),t=$r(t,r,1),r=$t(),t!==null&&(Nr(t,1,r),Yt(t,r))}function rt(t,r,o){if(t.tag===3)Yp(t,t,o);else for(;r!==null;){if(r.tag===3){Yp(r,t,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Hr===null||!Hr.has(c))){t=Ms(o,t),t=gp(r,t,1),r=$r(r,t,1),t=$t(),r!==null&&(Nr(r,1,t),Yt(r,t));break}}r=r.return}}function _v(t,r,o){var c=t.pingCache;c!==null&&c.delete(r),r=$t(),t.pingedLanes|=t.suspendedLanes&o,It===t&&(Pt&o)===o&&(gt===4||gt===3&&(Pt&130023424)===Pt&&500>qe()-cf?Mi(t,0):uf|=o),Yt(t,r)}function Jp(t,r){r===0&&(t.mode&1?(r=us,us<<=1,!(us&130023424)&&(us=4194304)):r=1);var o=$t();t=mr(t,r),t!==null&&(Nr(t,r,o),Yt(t,o))}function vv(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Jp(t,o)}function Ev(t,r){var o=0;switch(t.tag){case 13:var c=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(r),Jp(t,o)}var Zp;Zp=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||Qt.current)Gt=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return Gt=!1,av(t,r,o);Gt=!!(t.flags&131072)}else Gt=!1,Xe&&r.flags&1048576&&Dd(r,gl,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;Nl(t,r),t=r.pendingProps;var h=ks(r,Vt.current);Ls(r,o),h=zc(null,r,c,t,h,o);var m=Bc();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Kt(c)?(m=!0,dl(r)):m=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Vc(r),h.updater=Pl,r.stateNode=h,h._reactInternals=r,Qc(r,c,t,o),r=Yc(null,r,c,!0,m,o)):(r.tag=0,Xe&&m&&Ic(r),jt(null,r,h,o),r=r.child),r;case 16:c=r.elementType;e:{switch(Nl(t,r),t=r.pendingProps,h=c._init,c=h(c._payload),r.type=c,h=r.tag=Tv(c),t=Nn(c,t),h){case 0:r=Xc(null,r,c,t,o);break e;case 1:r=Cp(null,r,c,t,o);break e;case 11:r=Ep(null,r,c,t,o);break e;case 14:r=wp(null,r,c,Nn(c.type,t),o);break e}throw Error(n(306,c,""))}return r;case 0:return c=r.type,h=r.pendingProps,h=r.elementType===c?h:Nn(c,h),Xc(t,r,c,h,o);case 1:return c=r.type,h=r.pendingProps,h=r.elementType===c?h:Nn(c,h),Cp(t,r,c,h,o);case 3:e:{if(Rp(r),t===null)throw Error(n(387));c=r.pendingProps,m=r.memoizedState,h=m.element,Bd(t,r),Tl(r,c,null,o);var v=r.memoizedState;if(c=v.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){h=Ms(Error(n(423)),r),r=Ap(t,r,c,o,h);break e}else if(c!==h){h=Ms(Error(n(424)),r),r=Ap(t,r,c,o,h);break e}else for(on=Fr(r.stateNode.containerInfo.firstChild),sn=r,Xe=!0,xn=null,o=Ud(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ns(),c===h){r=yr(t,r,o);break e}jt(t,r,c,o)}r=r.child}return r;case 5:return qd(r),t===null&&Rc(r),c=r.type,h=r.pendingProps,m=t!==null?t.memoizedProps:null,v=h.children,yc(c,h)?v=null:m!==null&&yc(c,m)&&(r.flags|=32),Sp(t,r),jt(t,r,v,o),r.child;case 6:return t===null&&Rc(r),null;case 13:return kp(t,r,o);case 4:return Lc(r,r.stateNode.containerInfo),c=r.pendingProps,t===null?r.child=Ds(r,null,c,o):jt(t,r,c,o),r.child;case 11:return c=r.type,h=r.pendingProps,h=r.elementType===c?h:Nn(c,h),Ep(t,r,c,h,o);case 7:return jt(t,r,r.pendingProps,o),r.child;case 8:return jt(t,r,r.pendingProps.children,o),r.child;case 12:return jt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(c=r.type._context,h=r.pendingProps,m=r.memoizedProps,v=h.value,He(vl,c._currentValue),c._currentValue=v,m!==null)if(Pn(m.value,v)){if(m.children===h.children&&!Qt.current){r=yr(t,r,o);break e}}else for(m=r.child,m!==null&&(m.return=r);m!==null;){var C=m.dependencies;if(C!==null){v=m.child;for(var x=C.firstContext;x!==null;){if(x.context===c){if(m.tag===1){x=gr(-1,o&-o),x.tag=2;var j=m.updateQueue;if(j!==null){j=j.shared;var Y=j.pending;Y===null?x.next=x:(x.next=Y.next,Y.next=x),j.pending=x}}m.lanes|=o,x=m.alternate,x!==null&&(x.lanes|=o),Nc(m.return,o,r),C.lanes|=o;break}x=x.next}}else if(m.tag===10)v=m.type===r.type?null:m.child;else if(m.tag===18){if(v=m.return,v===null)throw Error(n(341));v.lanes|=o,C=v.alternate,C!==null&&(C.lanes|=o),Nc(v,o,r),v=m.sibling}else v=m.child;if(v!==null)v.return=m;else for(v=m;v!==null;){if(v===r){v=null;break}if(m=v.sibling,m!==null){m.return=v.return,v=m;break}v=v.return}m=v}jt(t,r,h.children,o),r=r.child}return r;case 9:return h=r.type,c=r.pendingProps.children,Ls(r,o),h=gn(h),c=c(h),r.flags|=1,jt(t,r,c,o),r.child;case 14:return c=r.type,h=Nn(c,r.pendingProps),h=Nn(c.type,h),wp(t,r,c,h,o);case 15:return Tp(t,r,r.type,r.pendingProps,o);case 17:return c=r.type,h=r.pendingProps,h=r.elementType===c?h:Nn(c,h),Nl(t,r),r.tag=1,Kt(c)?(t=!0,dl(r)):t=!1,Ls(r,o),dp(r,c,h),Qc(r,c,h,o),Yc(null,r,c,!0,t,o);case 19:return xp(t,r,o);case 22:return Ip(t,r,o)}throw Error(n(156,r.tag))};function em(t,r){return as(t,r)}function wv(t,r,o,c){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,r,o,c){return new wv(t,r,o,c)}function _f(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Tv(t){if(typeof t=="function")return _f(t)?1:0;if(t!=null){if(t=t.$$typeof,t===O)return 11;if(t===ct)return 14}return 2}function Gr(t,r){var o=t.alternate;return o===null?(o=vn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function jl(t,r,o,c,h,m){var v=2;if(c=t,typeof t=="function")_f(t)&&(v=1);else if(typeof t=="string")v=5;else e:switch(t){case k:return Fi(o.children,h,m,r);case T:v=8,h|=8;break;case R:return t=vn(12,o,r,h|2),t.elementType=R,t.lanes=m,t;case A:return t=vn(13,o,r,h),t.elementType=A,t.lanes=m,t;case Je:return t=vn(19,o,r,h),t.elementType=Je,t.lanes=m,t;case Oe:return $l(o,h,m,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P:v=10;break e;case D:v=9;break e;case O:v=11;break e;case ct:v=14;break e;case ft:v=16,c=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=vn(v,o,r,h),r.elementType=t,r.type=c,r.lanes=m,r}function Fi(t,r,o,c){return t=vn(7,t,c,r),t.lanes=o,t}function $l(t,r,o,c){return t=vn(22,t,c,r),t.elementType=Oe,t.lanes=o,t.stateNode={isHidden:!1},t}function vf(t,r,o){return t=vn(6,t,null,r),t.lanes=o,t}function Ef(t,r,o){return r=vn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Iv(t,r,o,c,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xr(0),this.expirationTimes=xr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xr(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function wf(t,r,o,c,h,m,v,C,x){return t=new Iv(t,r,o,C,x),r===1?(r=1,m===!0&&(r|=8)):r=0,m=vn(3,null,null,r),t.current=m,m.stateNode=t,m.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vc(m),t}function Sv(t,r,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:me,key:c==null?null:""+c,children:t,containerInfo:r,implementation:o}}function tm(t){if(!t)return zr;t=t._reactInternals;e:{if(Tn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Kt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(Kt(o))return Pd(t,o,r)}return r}function nm(t,r,o,c,h,m,v,C,x){return t=wf(o,c,!0,t,h,m,v,C,x),t.context=tm(null),o=t.current,c=$t(),h=Qr(o),m=gr(c,h),m.callback=r??null,$r(o,m,h),t.current.lanes=h,Nr(t,h,c),Yt(t,c),t}function ql(t,r,o,c){var h=r.current,m=$t(),v=Qr(h);return o=tm(o),r.context===null?r.context=o:r.pendingContext=o,r=gr(m,v),r.payload={element:t},c=c===void 0?null:c,c!==null&&(r.callback=c),t=$r(h,r,v),t!==null&&(Ln(t,h,v,m),wl(t,h,v)),v}function Hl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function rm(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Tf(t,r){rm(t,r),(t=t.alternate)&&rm(t,r)}var im=typeof reportError=="function"?reportError:function(t){console.error(t)};function If(t){this._internalRoot=t}Wl.prototype.render=If.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));ql(t,r,null,null)},Wl.prototype.unmount=If.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Oi(function(){ql(null,t,null,null)}),r[fr]=null}};function Wl(t){this._internalRoot=t}Wl.prototype.unstable_scheduleHydration=function(t){if(t){var r=Wa();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Un.length&&r!==0&&r<Un[o].priority;o++);Un.splice(o,0,t),o===0&&Ga(t)}};function Sf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ql(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sm(){}function Cv(t,r,o,c,h){if(h){if(typeof c=="function"){var m=c;c=function(){var j=Hl(v);m.call(j)}}var v=nm(r,c,t,0,null,!1,!1,"",sm);return t._reactRootContainer=v,t[fr]=v.current,zo(t.nodeType===8?t.parentNode:t),Oi(),v}for(;h=t.lastChild;)t.removeChild(h);if(typeof c=="function"){var C=c;c=function(){var j=Hl(x);C.call(j)}}var x=wf(t,0,!1,null,null,!1,!1,"",sm);return t._reactRootContainer=x,t[fr]=x.current,zo(t.nodeType===8?t.parentNode:t),Oi(function(){ql(r,x,o,c)}),x}function Kl(t,r,o,c,h){var m=o._reactRootContainer;if(m){var v=m;if(typeof h=="function"){var C=h;h=function(){var x=Hl(v);C.call(x)}}ql(r,v,t,h)}else v=Cv(o,r,t,h,c);return Hl(v)}qa=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=Pr(r.pendingLanes);o!==0&&(Dr(r,o|1),Yt(r,qe()),!(Le&6)&&(Us=qe()+500,Br()))}break;case 13:Oi(function(){var c=mr(t,1);if(c!==null){var h=$t();Ln(c,t,1,h)}}),Tf(t,1)}},cs=function(t){if(t.tag===13){var r=mr(t,134217728);if(r!==null){var o=$t();Ln(r,t,134217728,o)}Tf(t,134217728)}},Ha=function(t){if(t.tag===13){var r=Qr(t),o=mr(t,r);if(o!==null){var c=$t();Ln(o,t,r,c)}Tf(t,r)}},Wa=function(){return ke},Qa=function(t,r){var o=ke;try{return ke=t,r()}finally{ke=o}},ts=function(t,r,o){switch(r){case"input":if(co(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==t&&c.form===t.form){var h=fl(c);if(!h)throw Error(n(90));Gi(c),co(c,h)}}}break;case"textarea":Zi(t,o);break;case"select":r=o.value,r!=null&&rr(t,!!o.multiple,r,!1)}},mi=mf,wo=Oi;var Rv={usingClientEntryPoint:!1,Events:[$o,Rs,fl,bn,Eo,mf]},ra={findFiberByHostInstance:Ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Av={bundleType:ra.bundleType,version:ra.version,rendererPackageName:ra.rendererPackageName,rendererConfig:ra.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:te.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=So(t),t===null?null:t.stateNode},findFiberByHostInstance:ra.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gl.isDisabled&&Gl.supportsFiber)try{Ei=Gl.inject(Av),en=Gl}catch{}}return Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rv,Jt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sf(r))throw Error(n(200));return Sv(t,r,null,o)},Jt.createRoot=function(t,r){if(!Sf(t))throw Error(n(299));var o=!1,c="",h=im;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=wf(t,1,!1,null,null,o,!1,c,h),t[fr]=r.current,zo(t.nodeType===8?t.parentNode:t),new If(r)},Jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=So(r),t=t===null?null:t.stateNode,t},Jt.flushSync=function(t){return Oi(t)},Jt.hydrate=function(t,r,o){if(!Ql(r))throw Error(n(200));return Kl(null,t,r,!0,o)},Jt.hydrateRoot=function(t,r,o){if(!Sf(t))throw Error(n(405));var c=o!=null&&o.hydratedSources||null,h=!1,m="",v=im;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),r=nm(r,null,t,1,o??null,h,!1,m,v),t[fr]=r.current,zo(t),c)for(t=0;t<c.length;t++)o=c[t],h=o._getVersion,h=h(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,h]:r.mutableSourceEagerHydrationData.push(o,h);return new Wl(r)},Jt.render=function(t,r,o){if(!Ql(r))throw Error(n(200));return Kl(null,t,r,!1,o)},Jt.unmountComponentAtNode=function(t){if(!Ql(t))throw Error(n(40));return t._reactRootContainer?(Oi(function(){Kl(null,null,t,!1,function(){t._reactRootContainer=null,t[fr]=null})}),!0):!1},Jt.unstable_batchedUpdates=mf,Jt.unstable_renderSubtreeIntoContainer=function(t,r,o,c){if(!Ql(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Kl(t,r,o,!1,c)},Jt.version="18.3.1-next-f1338f8080-20240426",Jt}var dm;function Mv(){if(dm)return Af.exports;dm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Af.exports=Ov(),Af.exports}var pm;function bv(){if(pm)return Xl;pm=1;var i=Mv();return Xl.createRoot=i.createRoot,Xl.hydrateRoot=i.hydrateRoot,Xl}var Fv=bv(),$=hh();const Ke=Pv($);var sa={},mm;function Uv(){if(mm)return sa;mm=1,Object.defineProperty(sa,"__esModule",{value:!0}),sa.parse=f,sa.serialize=_;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,u=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function f(I,N){const M=new u,z=I.length;if(z<2)return M;const L=(N==null?void 0:N.decode)||E;let H=0;do{const q=I.indexOf("=",H);if(q===-1)break;const Q=I.indexOf(";",H),te=Q===-1?z:Q;if(q>te){H=I.lastIndexOf(";",q-1)+1;continue}const he=d(I,H,q),me=g(I,q,he),k=I.slice(he,me);if(M[k]===void 0){let T=d(I,q+1,te),R=g(I,te,T);const P=L(I.slice(T,R));M[k]=P}H=te+1}while(H<z);return M}function d(I,N,M){do{const z=I.charCodeAt(N);if(z!==32&&z!==9)return N}while(++N<M);return M}function g(I,N,M){for(;N>M;){const z=I.charCodeAt(--N);if(z!==32&&z!==9)return N+1}return M}function _(I,N,M){const z=(M==null?void 0:M.encode)||encodeURIComponent;if(!i.test(I))throw new TypeError(`argument name is invalid: ${I}`);const L=z(N);if(!e.test(L))throw new TypeError(`argument val is invalid: ${N}`);let H=I+"="+L;if(!M)return H;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);H+="; Max-Age="+M.maxAge}if(M.domain){if(!n.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);H+="; Domain="+M.domain}if(M.path){if(!s.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);H+="; Path="+M.path}if(M.expires){if(!S(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);H+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(H+="; HttpOnly"),M.secure&&(H+="; Secure"),M.partitioned&&(H+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return H}function E(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function S(I){return a.call(I)==="[object Date]"}return sa}Uv();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var gm="popstate";function zv(i={}){function e(s,a){let{pathname:u,search:f,hash:d}=s.location;return zf("",{pathname:u,search:f,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:_a(a)}return jv(e,n,null,i)}function tt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Xn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Bv(){return Math.random().toString(36).substring(2,10)}function ym(i,e){return{usr:i.state,key:i.key,idx:e}}function zf(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?no(e):e,state:n,key:e&&e.key||s||Bv()}}function _a({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function no(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function jv(i,e,n,s={}){let{window:a=document.defaultView,v5Compat:u=!1}=s,f=a.history,d="POP",g=null,_=E();_==null&&(_=0,f.replaceState({...f.state,idx:_},""));function E(){return(f.state||{idx:null}).idx}function S(){d="POP";let L=E(),H=L==null?null:L-_;_=L,g&&g({action:d,location:z.location,delta:H})}function I(L,H){d="PUSH";let q=zf(z.location,L,H);_=E()+1;let Q=ym(q,_),te=z.createHref(q);try{f.pushState(Q,"",te)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;a.location.assign(te)}u&&g&&g({action:d,location:z.location,delta:1})}function N(L,H){d="REPLACE";let q=zf(z.location,L,H);_=E();let Q=ym(q,_),te=z.createHref(q);f.replaceState(Q,"",te),u&&g&&g({action:d,location:z.location,delta:0})}function M(L){let H=a.location.origin!=="null"?a.location.origin:a.location.href,q=typeof L=="string"?L:_a(L);return q=q.replace(/ $/,"%20"),tt(H,`No window.location.(origin|href) available to create URL for href: ${q}`),new URL(q,H)}let z={get action(){return d},get location(){return i(a,f)},listen(L){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(gm,S),g=L,()=>{a.removeEventListener(gm,S),g=null}},createHref(L){return e(a,L)},createURL:M,encodeLocation(L){let H=M(L);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:I,replace:N,go(L){return f.go(L)}};return z}function Eg(i,e,n="/"){return $v(i,e,n,!1)}function $v(i,e,n,s){let a=typeof e=="string"?no(e):e,u=ri(a.pathname||"/",n);if(u==null)return null;let f=wg(i);qv(f);let d=null;for(let g=0;d==null&&g<f.length;++g){let _=tE(u);d=Zv(f[g],_,s)}return d}function wg(i,e=[],n=[],s=""){let a=(u,f,d)=>{let g={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(tt(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let _=vr([s,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(tt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),wg(u.children,e,E,_)),!(u.path==null&&!u.index)&&e.push({path:_,score:Yv(_,u.index),routesMeta:E})};return i.forEach((u,f)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))a(u,f);else for(let g of Tg(u.path))a(u,f,g)}),e}function Tg(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return a?[u,""]:[u];let f=Tg(s.join("/")),d=[];return d.push(...f.map(g=>g===""?u:[u,g].join("/"))),a&&d.push(...f),d.map(g=>i.startsWith("/")&&g===""?"/":g)}function qv(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Jv(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Hv=/^:[\w-]+$/,Wv=3,Qv=2,Kv=1,Gv=10,Xv=-2,_m=i=>i==="*";function Yv(i,e){let n=i.split("/"),s=n.length;return n.some(_m)&&(s+=Xv),e&&(s+=Qv),n.filter(a=>!_m(a)).reduce((a,u)=>a+(Hv.test(u)?Wv:u===""?Kv:Gv),s)}function Jv(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function Zv(i,e,n=!1){let{routesMeta:s}=i,a={},u="/",f=[];for(let d=0;d<s.length;++d){let g=s[d],_=d===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=du({path:g.relativePath,caseSensitive:g.caseSensitive,end:_},E),I=g.route;if(!S&&_&&n&&!s[s.length-1].route.index&&(S=du({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(a,S.params),f.push({params:a,pathname:vr([u,S.pathname]),pathnameBase:sE(vr([u,S.pathnameBase])),route:I}),S.pathnameBase!=="/"&&(u=vr([u,S.pathnameBase]))}return f}function du(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=eE(i.path,i.caseSensitive,i.end),a=e.match(n);if(!a)return null;let u=a[0],f=u.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((_,{paramName:E,isOptional:S},I)=>{if(E==="*"){let M=d[I]||"";f=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const N=d[I];return S&&!N?_[E]=void 0:_[E]=(N||"").replace(/%2F/g,"/"),_},{}),pathname:u,pathnameBase:f,pattern:i}}function eE(i,e=!1,n=!0){Xn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,d,g)=>(s.push({paramName:d,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function tE(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ri(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function nE(i,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof i=="string"?no(i):i;return{pathname:n?n.startsWith("/")?n:rE(n,e):e,search:oE(s),hash:aE(a)}}function rE(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function xf(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iE(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ig(i){let e=iE(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Sg(i,e,n,s=!1){let a;typeof i=="string"?a=no(i):(a={...i},tt(!a.pathname||!a.pathname.includes("?"),xf("?","pathname","search",a)),tt(!a.pathname||!a.pathname.includes("#"),xf("#","pathname","hash",a)),tt(!a.search||!a.search.includes("#"),xf("#","search","hash",a)));let u=i===""||a.pathname==="",f=u?"/":a.pathname,d;if(f==null)d=n;else{let S=e.length-1;if(!s&&f.startsWith("..")){let I=f.split("/");for(;I[0]==="..";)I.shift(),S-=1;a.pathname=I.join("/")}d=S>=0?e[S]:"/"}let g=nE(a,d),_=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(_||E)&&(g.pathname+="/"),g}var vr=i=>i.join("/").replace(/\/\/+/g,"/"),sE=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),oE=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,aE=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function lE(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Cg=["POST","PUT","PATCH","DELETE"];new Set(Cg);var uE=["GET",...Cg];new Set(uE);var ro=$.createContext(null);ro.displayName="DataRouter";var Au=$.createContext(null);Au.displayName="DataRouterState";var Rg=$.createContext({isTransitioning:!1});Rg.displayName="ViewTransition";var cE=$.createContext(new Map);cE.displayName="Fetchers";var fE=$.createContext(null);fE.displayName="Await";var Zn=$.createContext(null);Zn.displayName="Navigation";var Aa=$.createContext(null);Aa.displayName="Location";var er=$.createContext({outlet:null,matches:[],isDataRoute:!1});er.displayName="Route";var dh=$.createContext(null);dh.displayName="RouteError";function hE(i,{relative:e}={}){tt(ka(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=$.useContext(Zn),{hash:a,pathname:u,search:f}=Pa(i,{relative:e}),d=u;return n!=="/"&&(d=u==="/"?n:vr([n,u])),s.createHref({pathname:d,search:f,hash:a})}function ka(){return $.useContext(Aa)!=null}function Hi(){return tt(ka(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(Aa).location}var Ag="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kg(i){$.useContext(Zn).static||$.useLayoutEffect(i)}function dE(){let{isDataRoute:i}=$.useContext(er);return i?AE():pE()}function pE(){tt(ka(),"useNavigate() may be used only in the context of a <Router> component.");let i=$.useContext(ro),{basename:e,navigator:n}=$.useContext(Zn),{matches:s}=$.useContext(er),{pathname:a}=Hi(),u=JSON.stringify(Ig(s)),f=$.useRef(!1);return kg(()=>{f.current=!0}),$.useCallback((g,_={})=>{if(Xn(f.current,Ag),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=Sg(g,JSON.parse(u),a,_.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:vr([e,E.pathname])),(_.replace?n.replace:n.push)(E,_.state,_)},[e,n,u,a,i])}$.createContext(null);function mE(){let{matches:i}=$.useContext(er),e=i[i.length-1];return e?e.params:{}}function Pa(i,{relative:e}={}){let{matches:n}=$.useContext(er),{pathname:s}=Hi(),a=JSON.stringify(Ig(n));return $.useMemo(()=>Sg(i,JSON.parse(a),s,e==="path"),[i,a,s,e])}function gE(i,e){return Pg(i,e)}function Pg(i,e,n,s){var H;tt(ka(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=$.useContext(Zn),{matches:u}=$.useContext(er),f=u[u.length-1],d=f?f.params:{},g=f?f.pathname:"/",_=f?f.pathnameBase:"/",E=f&&f.route;{let q=E&&E.path||"";xg(g,!E||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let S=Hi(),I;if(e){let q=typeof e=="string"?no(e):e;tt(_==="/"||((H=q.pathname)==null?void 0:H.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${q.pathname}" was given in the \`location\` prop.`),I=q}else I=S;let N=I.pathname||"/",M=N;if(_!=="/"){let q=_.replace(/^\//,"").split("/");M="/"+N.replace(/^\//,"").split("/").slice(q.length).join("/")}let z=Eg(i,{pathname:M});Xn(E||z!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Xn(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=wE(z&&z.map(q=>Object.assign({},q,{params:Object.assign({},d,q.params),pathname:vr([_,a.encodeLocation?a.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?_:vr([_,a.encodeLocation?a.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),u,n,s);return e&&L?$.createElement(Aa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},L):L}function yE(){let i=RE(),e=lE(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=$.createElement($.Fragment,null,$.createElement("p",null," Hey developer "),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:u},"ErrorBoundary")," or"," ",$.createElement("code",{style:u},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:a},n):null,f)}var _E=$.createElement(yE,null),vE=class extends $.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?$.createElement(er.Provider,{value:this.props.routeContext},$.createElement(dh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function EE({routeContext:i,match:e,children:n}){let s=$.useContext(ro);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(er.Provider,{value:i},n)}function wE(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let a=i,u=n==null?void 0:n.errors;if(u!=null){let g=a.findIndex(_=>_.route.id&&(u==null?void 0:u[_.route.id])!==void 0);tt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let f=!1,d=-1;if(n)for(let g=0;g<a.length;g++){let _=a[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(d=g),_.route.id){let{loaderData:E,errors:S}=n,I=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!S||S[_.route.id]===void 0);if(_.route.lazy||I){f=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((g,_,E)=>{let S,I=!1,N=null,M=null;n&&(S=u&&_.route.id?u[_.route.id]:void 0,N=_.route.errorElement||_E,f&&(d<0&&E===0?(xg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,M=null):d===E&&(I=!0,M=_.route.hydrateFallbackElement||null)));let z=e.concat(a.slice(0,E+1)),L=()=>{let H;return S?H=N:I?H=M:_.route.Component?H=$.createElement(_.route.Component,null):_.route.element?H=_.route.element:H=g,$.createElement(EE,{match:_,routeContext:{outlet:g,matches:z,isDataRoute:n!=null},children:H})};return n&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?$.createElement(vE,{location:n.location,revalidation:n.revalidation,component:N,error:S,children:L(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):L()},null)}function ph(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TE(i){let e=$.useContext(ro);return tt(e,ph(i)),e}function IE(i){let e=$.useContext(Au);return tt(e,ph(i)),e}function SE(i){let e=$.useContext(er);return tt(e,ph(i)),e}function mh(i){let e=SE(i),n=e.matches[e.matches.length-1];return tt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function CE(){return mh("useRouteId")}function RE(){var s;let i=$.useContext(dh),e=IE("useRouteError"),n=mh("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function AE(){let{router:i}=TE("useNavigate"),e=mh("useNavigate"),n=$.useRef(!1);return kg(()=>{n.current=!0}),$.useCallback(async(a,u={})=>{Xn(n.current,Ag),n.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...u}))},[i,e])}var vm={};function xg(i,e,n){!e&&!vm[i]&&(vm[i]=!0,Xn(!1,n))}$.memo(kE);function kE({routes:i,future:e,state:n}){return Pg(i,void 0,n,e)}function js(i){tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function PE({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:u=!1}){tt(!ka(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),d=$.useMemo(()=>({basename:f,navigator:a,static:u,future:{}}),[f,a,u]);typeof n=="string"&&(n=no(n));let{pathname:g="/",search:_="",hash:E="",state:S=null,key:I="default"}=n,N=$.useMemo(()=>{let M=ri(g,f);return M==null?null:{location:{pathname:M,search:_,hash:E,state:S,key:I},navigationType:s}},[f,g,_,E,S,I,s]);return Xn(N!=null,`<Router basename="${f}"> is not able to match the URL "${g}${_}${E}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:$.createElement(Zn.Provider,{value:d},$.createElement(Aa.Provider,{children:e,value:N}))}function xE({children:i,location:e}){return gE(Bf(i),e)}function Bf(i,e=[]){let n=[];return $.Children.forEach(i,(s,a)=>{if(!$.isValidElement(s))return;let u=[...e,a];if(s.type===$.Fragment){n.push.apply(n,Bf(s.props.children,u));return}tt(s.type===js,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Bf(s.props.children,u)),n.push(f)}),n}var su="get",ou="application/x-www-form-urlencoded";function ku(i){return i!=null&&typeof i.tagName=="string"}function NE(i){return ku(i)&&i.tagName.toLowerCase()==="button"}function DE(i){return ku(i)&&i.tagName.toLowerCase()==="form"}function VE(i){return ku(i)&&i.tagName.toLowerCase()==="input"}function LE(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function OE(i,e){return i.button===0&&(!e||e==="_self")&&!LE(i)}var Yl=null;function ME(){if(Yl===null)try{new FormData(document.createElement("form"),0),Yl=!1}catch{Yl=!0}return Yl}var bE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nf(i){return i!=null&&!bE.has(i)?(Xn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ou}"`),null):i}function FE(i,e){let n,s,a,u,f;if(DE(i)){let d=i.getAttribute("action");s=d?ri(d,e):null,n=i.getAttribute("method")||su,a=Nf(i.getAttribute("enctype"))||ou,u=new FormData(i)}else if(NE(i)||VE(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||d.getAttribute("action");if(s=g?ri(g,e):null,n=i.getAttribute("formmethod")||d.getAttribute("method")||su,a=Nf(i.getAttribute("formenctype"))||Nf(d.getAttribute("enctype"))||ou,u=new FormData(d,i),!ME()){let{name:_,type:E,value:S}=i;if(E==="image"){let I=_?`${_}.`:"";u.append(`${I}x`,"0"),u.append(`${I}y`,"0")}else _&&u.append(_,S)}}else{if(ku(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=su,s=null,a=ou,f=i}return u&&a==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:u,body:f}}function gh(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function UE(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zE(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function BE(i,e,n){let s=await Promise.all(i.map(async a=>{let u=e.routes[a.route.id];if(u){let f=await UE(u,n);return f.links?f.links():[]}return[]}));return HE(s.flat(1).filter(zE).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Em(i,e,n,s,a,u){let f=(g,_)=>n[_]?g.route.id!==n[_].route.id:!0,d=(g,_)=>{var E;return n[_].pathname!==g.pathname||((E=n[_].route.path)==null?void 0:E.endsWith("*"))&&n[_].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,_)=>f(g,_)||d(g,_)):u==="data"?e.filter((g,_)=>{var S;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,_)||d(g,_))return!0;if(g.route.shouldRevalidate){let I=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((S=n[0])==null?void 0:S.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function jE(i,e){return $E(i.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let a=[s.module];return s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function $E(i){return[...new Set(i)]}function qE(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function HE(i,e){let n=new Set;return new Set(e),i.reduce((s,a)=>{let u=JSON.stringify(qE(a));return n.has(u)||(n.add(u),s.push({key:u,link:a})),s},[])}function WE(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function QE(){let i=$.useContext(ro);return gh(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function KE(){let i=$.useContext(Au);return gh(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var yh=$.createContext(void 0);yh.displayName="FrameworkContext";function Ng(){let i=$.useContext(yh);return gh(i,"You must render this element inside a <HydratedRouter> element"),i}function GE(i,e){let n=$.useContext(yh),[s,a]=$.useState(!1),[u,f]=$.useState(!1),{onFocus:d,onBlur:g,onMouseEnter:_,onMouseLeave:E,onTouchStart:S}=e,I=$.useRef(null);$.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let z=H=>{H.forEach(q=>{f(q.isIntersecting)})},L=new IntersectionObserver(z,{threshold:.5});return I.current&&L.observe(I.current),()=>{L.disconnect()}}},[i]),$.useEffect(()=>{if(s){let z=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(z)}}},[s]);let N=()=>{a(!0)},M=()=>{a(!1),f(!1)};return n?i!=="intent"?[u,I,{}]:[u,I,{onFocus:oa(d,N),onBlur:oa(g,M),onMouseEnter:oa(_,N),onMouseLeave:oa(E,M),onTouchStart:oa(S,N)}]:[!1,I,{}]}function oa(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function XE({page:i,...e}){let{router:n}=QE(),s=$.useMemo(()=>Eg(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?$.createElement(JE,{page:i,matches:s,...e}):null}function YE(i){let{manifest:e,routeModules:n}=Ng(),[s,a]=$.useState([]);return $.useEffect(()=>{let u=!1;return BE(i,e,n).then(f=>{u||a(f)}),()=>{u=!0}},[i,e,n]),s}function JE({page:i,matches:e,...n}){let s=Hi(),{manifest:a,routeModules:u}=Ng(),{loaderData:f,matches:d}=KE(),g=$.useMemo(()=>Em(i,e,d,a,s,"data"),[i,e,d,a,s]),_=$.useMemo(()=>Em(i,e,d,a,s,"assets"),[i,e,d,a,s]),E=$.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let N=new Set,M=!1;if(e.forEach(L=>{var q;let H=a.routes[L.route.id];!H||!H.hasLoader||(!g.some(Q=>Q.route.id===L.route.id)&&L.route.id in f&&((q=u[L.route.id])!=null&&q.shouldRevalidate)||H.hasClientLoader?M=!0:N.add(L.route.id))}),N.size===0)return[];let z=WE(i);return M&&N.size>0&&z.searchParams.set("_routes",e.filter(L=>N.has(L.route.id)).map(L=>L.route.id).join(",")),[z.pathname+z.search]},[f,s,a,g,e,i,u]),S=$.useMemo(()=>jE(_,a),[_,a]),I=YE(_);return $.createElement($.Fragment,null,E.map(N=>$.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),S.map(N=>$.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),I.map(({key:N,link:M})=>$.createElement("link",{key:N,...M})))}function ZE(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Dg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Dg&&(window.__reactRouterVersion="7.1.3")}catch{}function e0({basename:i,children:e,window:n}){let s=$.useRef();s.current==null&&(s.current=zv({window:n,v5Compat:!0}));let a=s.current,[u,f]=$.useState({action:a.action,location:a.location}),d=$.useCallback(g=>{$.startTransition(()=>f(g))},[f]);return $.useLayoutEffect(()=>a.listen(d),[a,d]),$.createElement(PE,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:a})}var Vg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_h=$.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:u,replace:f,state:d,target:g,to:_,preventScrollReset:E,viewTransition:S,...I},N){let{basename:M}=$.useContext(Zn),z=typeof _=="string"&&Vg.test(_),L,H=!1;if(typeof _=="string"&&z&&(L=_,Dg))try{let R=new URL(window.location.href),P=_.startsWith("//")?new URL(R.protocol+_):new URL(_),D=ri(P.pathname,M);P.origin===R.origin&&D!=null?_=D+P.search+P.hash:H=!0}catch{Xn(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=hE(_,{relative:a}),[Q,te,he]=GE(s,I),me=r0(_,{replace:f,state:d,target:g,preventScrollReset:E,relative:a,viewTransition:S});function k(R){e&&e(R),R.defaultPrevented||me(R)}let T=$.createElement("a",{...I,...he,href:L||q,onClick:H||u?e:k,ref:ZE(N,te),target:g,"data-discover":!z&&n==="render"?"true":void 0});return Q&&!z?$.createElement($.Fragment,null,T,$.createElement(XE,{page:q})):T});_h.displayName="Link";var da=$.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:u,to:f,viewTransition:d,children:g,..._},E){let S=Pa(f,{relative:_.relative}),I=Hi(),N=$.useContext(Au),{navigator:M,basename:z}=$.useContext(Zn),L=N!=null&&l0(S)&&d===!0,H=M.encodeLocation?M.encodeLocation(S).pathname:S.pathname,q=I.pathname,Q=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(q=q.toLowerCase(),Q=Q?Q.toLowerCase():null,H=H.toLowerCase()),Q&&z&&(Q=ri(Q,z)||Q);const te=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let he=q===H||!a&&q.startsWith(H)&&q.charAt(te)==="/",me=Q!=null&&(Q===H||!a&&Q.startsWith(H)&&Q.charAt(H.length)==="/"),k={isActive:he,isPending:me,isTransitioning:L},T=he?e:void 0,R;typeof s=="function"?R=s(k):R=[s,he?"active":null,me?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(k):u;return $.createElement(_h,{..._,"aria-current":T,className:R,ref:E,style:P,to:f,viewTransition:d},typeof g=="function"?g(k):g)});da.displayName="NavLink";var t0=$.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:u,method:f=su,action:d,onSubmit:g,relative:_,preventScrollReset:E,viewTransition:S,...I},N)=>{let M=o0(),z=a0(d,{relative:_}),L=f.toLowerCase()==="get"?"get":"post",H=typeof d=="string"&&Vg.test(d),q=Q=>{if(g&&g(Q),Q.defaultPrevented)return;Q.preventDefault();let te=Q.nativeEvent.submitter,he=(te==null?void 0:te.getAttribute("formmethod"))||f;M(te||Q.currentTarget,{fetcherKey:e,method:he,navigate:n,replace:a,state:u,relative:_,preventScrollReset:E,viewTransition:S})};return $.createElement("form",{ref:N,method:L,action:z,onSubmit:s?g:q,...I,"data-discover":!H&&i==="render"?"true":void 0})});t0.displayName="Form";function n0(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lg(i){let e=$.useContext(ro);return tt(e,n0(i)),e}function r0(i,{target:e,replace:n,state:s,preventScrollReset:a,relative:u,viewTransition:f}={}){let d=dE(),g=Hi(),_=Pa(i,{relative:u});return $.useCallback(E=>{if(OE(E,e)){E.preventDefault();let S=n!==void 0?n:_a(g)===_a(_);d(i,{replace:S,state:s,preventScrollReset:a,relative:u,viewTransition:f})}},[g,d,_,n,s,e,i,a,u,f])}var i0=0,s0=()=>`__${String(++i0)}__`;function o0(){let{router:i}=Lg("useSubmit"),{basename:e}=$.useContext(Zn),n=CE();return $.useCallback(async(s,a={})=>{let{action:u,method:f,encType:d,formData:g,body:_}=FE(s,e);if(a.navigate===!1){let E=a.fetcherKey||s0();await i.fetch(E,n,a.action||u,{preventScrollReset:a.preventScrollReset,formData:g,body:_,formMethod:a.method||f,formEncType:a.encType||d,flushSync:a.flushSync})}else await i.navigate(a.action||u,{preventScrollReset:a.preventScrollReset,formData:g,body:_,formMethod:a.method||f,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,n])}function a0(i,{relative:e}={}){let{basename:n}=$.useContext(Zn),s=$.useContext(er);tt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),u={...Pa(i||".",{relative:e})},f=Hi();if(i==null){u.search=f.search;let d=new URLSearchParams(u.search),g=d.getAll("index");if(g.some(E=>E==="")){d.delete("index"),g.filter(S=>S).forEach(S=>d.append("index",S));let E=d.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:vr([n,u.pathname])),_a(u)}function l0(i,e={}){let n=$.useContext(Rg);tt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Lg("useViewTransitionState"),a=Pa(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=ri(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ri(n.nextLocation.pathname,s)||n.nextLocation.pathname;return du(a.pathname,f)!=null||du(a.pathname,u)!=null}new TextEncoder;const u0="_nav_7ctwu_1",c0="_logo_7ctwu_11",f0="_link_7ctwu_14",h0="_link_active_7ctwu_21",aa={nav:u0,logo:c0,link:f0,link_active:h0},d0="/E-Toy-Shop/assets/Toy-Shop-Logo-C6No-TOU.png",p0=()=>{const i=({isActive:e})=>e?`${aa.link} ${aa.link_active}`:aa.link;return ee.jsxs("nav",{className:aa.nav,"data-testid":"navbar",children:[ee.jsx("div",{children:ee.jsx("img",{className:aa.logo,src:d0,alt:"Al's Toy Barn Logo"})}),ee.jsxs("div",{children:[ee.jsx(da,{className:i,to:"/","data-testid":"home-link",children:"Home"}),ee.jsx(da,{className:i,to:"/products","data-testid":"products-link",children:"Products"}),ee.jsx(da,{className:i,to:"/cart","data-testid":"products-link",children:"Cart"})]})]})};var wm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},m0=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const u=i[n++];e[s++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=i[n++],f=i[n++],d=i[n++],g=((a&7)<<18|(u&63)<<12|(f&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Mg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const u=i[a],f=a+1<i.length,d=f?i[a+1]:0,g=a+2<i.length,_=g?i[a+2]:0,E=u>>2,S=(u&3)<<4|d>>4;let I=(d&15)<<2|_>>6,N=_&63;g||(N=64,f||(I=64)),s.push(n[E],n[S],n[I],n[N])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Og(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):m0(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const u=n[i.charAt(a++)],d=a<i.length?n[i.charAt(a)]:0;++a;const _=a<i.length?n[i.charAt(a)]:64;++a;const S=a<i.length?n[i.charAt(a)]:64;if(++a,u==null||d==null||_==null||S==null)throw new g0;const I=u<<2|d>>4;if(s.push(I),_!==64){const N=d<<4&240|_>>2;if(s.push(N),S!==64){const M=_<<6&192|S;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class g0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const y0=function(i){const e=Og(i);return Mg.encodeByteArray(e,!0)},pu=function(i){return y0(i).replace(/\./g,"")},_0=function(i){try{return Mg.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=()=>v0().__FIREBASE_DEFAULTS__,w0=()=>{if(typeof process>"u"||typeof wm>"u")return;const i=wm.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},T0=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&_0(i[1]);return e&&JSON.parse(e)},vh=()=>{try{return E0()||w0()||T0()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},I0=i=>{var e,n;return(n=(e=vh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},S0=i=>{const e=I0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},bg=()=>{var i;return(i=vh())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[pu(JSON.stringify(n)),pu(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function k0(){var i;const e=(i=vh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function P0(){return!k0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x0(){try{return typeof indexedDB=="object"}catch{return!1}}function N0(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var u;e(((u=a.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="FirebaseError";class io extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=D0,Object.setPrototypeOf(this,io.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fg.prototype.create)}}class Fg{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,u=this.errors[e],f=u?V0(u,s):"Error",d=`${this.serviceName}: ${f} (${a}).`;return new io(a,d,s)}}function V0(i,e){return i.replace(L0,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const L0=/\{\$([^}]+)}/g;function jf(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const u=i[a],f=e[a];if(Tm(u)&&Tm(f)){if(!jf(u,f))return!1}else if(u!==f)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Tm(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(i){return i&&i._delegate?i._delegate:i}class va{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new C0;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(b0(e))try{this.getOrInitializeService({instanceIdentifier:Ui})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:a});s.resolve(u)}catch{}}}}clearInstance(e=Ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ui){return this.instances.has(e)}getOptions(e=Ui){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&f.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(a,u);const f=this.instances.get(a);return f&&e(f,a),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:M0(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ui){return this.component?this.component.multipleInstances?e:Ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function M0(i){return i===Ui?void 0:i}function b0(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new O0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const U0={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},z0=Ve.INFO,B0={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},j0=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=B0[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ug{constructor(e){this.name=e,this._logLevel=z0,this._logHandler=j0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?U0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const $0=(i,e)=>e.some(n=>i instanceof n);let Im,Sm;function q0(){return Im||(Im=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function H0(){return Sm||(Sm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zg=new WeakMap,$f=new WeakMap,Bg=new WeakMap,Df=new WeakMap,Eh=new WeakMap;function W0(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(Zr(i.result)),a()},f=()=>{s(i.error),a()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&zg.set(n,i)}).catch(()=>{}),Eh.set(e,i),e}function Q0(i){if($f.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),a()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});$f.set(i,e)}let qf={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return $f.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Bg.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function K0(i){qf=i(qf)}function G0(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Vf(this),e,...n);return Bg.set(s,e.sort?e.sort():[e]),Zr(s)}:H0().includes(i)?function(...e){return i.apply(Vf(this),e),Zr(zg.get(this))}:function(...e){return Zr(i.apply(Vf(this),e))}}function X0(i){return typeof i=="function"?G0(i):(i instanceof IDBTransaction&&Q0(i),$0(i,q0())?new Proxy(i,qf):i)}function Zr(i){if(i instanceof IDBRequest)return W0(i);if(Df.has(i))return Df.get(i);const e=X0(i);return e!==i&&(Df.set(i,e),Eh.set(e,i)),e}const Vf=i=>Eh.get(i);function Y0(i,e,{blocked:n,upgrade:s,blocking:a,terminated:u}={}){const f=indexedDB.open(i,e),d=Zr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Zr(f.result),g.oldVersion,g.newVersion,Zr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),d.then(g=>{u&&g.addEventListener("close",()=>u()),a&&g.addEventListener("versionchange",_=>a(_.oldVersion,_.newVersion,_))}).catch(()=>{}),d}const J0=["get","getKey","getAll","getAllKeys","count"],Z0=["put","add","delete","clear"],Lf=new Map;function Cm(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Lf.get(e))return Lf.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=Z0.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||J0.includes(n)))return;const u=async function(f,...d){const g=this.transaction(f,a?"readwrite":"readonly");let _=g.store;return s&&(_=_.index(d.shift())),(await Promise.all([_[n](...d),a&&g.done]))[0]};return Lf.set(e,u),u}K0(i=>({...i,get:(e,n,s)=>Cm(e,n)||i.get(e,n,s),has:(e,n)=>!!Cm(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function tw(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hf="@firebase/app",Rm="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=new Ug("@firebase/app"),nw="@firebase/app-compat",rw="@firebase/analytics-compat",iw="@firebase/analytics",sw="@firebase/app-check-compat",ow="@firebase/app-check",aw="@firebase/auth",lw="@firebase/auth-compat",uw="@firebase/database",cw="@firebase/data-connect",fw="@firebase/database-compat",hw="@firebase/functions",dw="@firebase/functions-compat",pw="@firebase/installations",mw="@firebase/installations-compat",gw="@firebase/messaging",yw="@firebase/messaging-compat",_w="@firebase/performance",vw="@firebase/performance-compat",Ew="@firebase/remote-config",ww="@firebase/remote-config-compat",Tw="@firebase/storage",Iw="@firebase/storage-compat",Sw="@firebase/firestore",Cw="@firebase/vertexai",Rw="@firebase/firestore-compat",Aw="firebase",kw="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf="[DEFAULT]",Pw={[Hf]:"fire-core",[nw]:"fire-core-compat",[iw]:"fire-analytics",[rw]:"fire-analytics-compat",[ow]:"fire-app-check",[sw]:"fire-app-check-compat",[aw]:"fire-auth",[lw]:"fire-auth-compat",[uw]:"fire-rtdb",[cw]:"fire-data-connect",[fw]:"fire-rtdb-compat",[hw]:"fire-fn",[dw]:"fire-fn-compat",[pw]:"fire-iid",[mw]:"fire-iid-compat",[gw]:"fire-fcm",[yw]:"fire-fcm-compat",[_w]:"fire-perf",[vw]:"fire-perf-compat",[Ew]:"fire-rc",[ww]:"fire-rc-compat",[Tw]:"fire-gcs",[Iw]:"fire-gcs-compat",[Sw]:"fire-fst",[Rw]:"fire-fst-compat",[Cw]:"fire-vertex","fire-js":"fire-js",[Aw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=new Map,xw=new Map,Qf=new Map;function Am(i,e){try{i.container.addComponent(e)}catch(n){Tr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function gu(i){const e=i.name;if(Qf.has(e))return Tr.debug(`There were multiple attempts to register component ${e}.`),!1;Qf.set(e,i);for(const n of mu.values())Am(n,i);for(const n of xw.values())Am(n,i);return!0}function Nw(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ei=new Fg("app","Firebase",Dw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new va("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ei.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=kw;function jg(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Wf,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw ei.create("bad-app-name",{appName:String(a)});if(n||(n=bg()),!n)throw ei.create("no-options");const u=mu.get(a);if(u){if(jf(n,u.options)&&jf(s,u.config))return u;throw ei.create("duplicate-app",{appName:a})}const f=new F0(a);for(const g of Qf.values())f.addComponent(g);const d=new Vw(n,s,f);return mu.set(a,d),d}function Ow(i=Wf){const e=mu.get(i);if(!e&&i===Wf&&bg())return jg();if(!e)throw ei.create("no-app",{appName:i});return e}function Qs(i,e,n){var s;let a=(s=Pw[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const u=a.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const d=[`Unable to register library "${a}" with version "${e}":`];u&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&f&&d.push("and"),f&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tr.warn(d.join(" "));return}gu(new va(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="firebase-heartbeat-database",bw=1,Ea="firebase-heartbeat-store";let Of=null;function $g(){return Of||(Of=Y0(Mw,bw,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Ea)}catch(n){console.warn(n)}}}}).catch(i=>{throw ei.create("idb-open",{originalErrorMessage:i.message})})),Of}async function Fw(i){try{const n=(await $g()).transaction(Ea),s=await n.objectStore(Ea).get(qg(i));return await n.done,s}catch(e){if(e instanceof io)Tr.warn(e.message);else{const n=ei.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Tr.warn(n.message)}}}async function km(i,e){try{const s=(await $g()).transaction(Ea,"readwrite");await s.objectStore(Ea).put(e,qg(i)),await s.done}catch(n){if(n instanceof io)Tr.warn(n.message);else{const s=ei.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Tr.warn(s.message)}}}function qg(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=1024,zw=30*24*60*60*1e3;class Bw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $w(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Pm();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const d=new Date(f.date).valueOf();return Date.now()-d<=zw}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Tr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Pm(),{heartbeatsToSend:s,unsentEntries:a}=jw(this._heartbeatsCache.heartbeats),u=pu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Tr.warn(n),""}}}function Pm(){return new Date().toISOString().substring(0,10)}function jw(i,e=Uw){const n=[];let s=i.slice();for(const a of i){const u=n.find(f=>f.agent===a.agent);if(u){if(u.dates.push(a.date),xm(n)>e){u.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),xm(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class $w{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return x0()?N0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Fw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return km(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return km(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function xm(i){return pu(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(i){gu(new va("platform-logger",e=>new ew(e),"PRIVATE")),gu(new va("heartbeat",e=>new Bw(e),"PRIVATE")),Qs(Hf,Rm,i),Qs(Hf,Rm,"esm2017"),Qs("fire-js","")}qw("");var Nm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ti,Hg;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,T){function R(){}R.prototype=T.prototype,k.D=T.prototype,k.prototype=new R,k.prototype.constructor=k,k.C=function(P,D,O){for(var A=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)A[Je-2]=arguments[Je];return T.prototype[D].apply(P,A)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,T,R){R||(R=0);var P=Array(16);if(typeof T=="string")for(var D=0;16>D;++D)P[D]=T.charCodeAt(R++)|T.charCodeAt(R++)<<8|T.charCodeAt(R++)<<16|T.charCodeAt(R++)<<24;else for(D=0;16>D;++D)P[D]=T[R++]|T[R++]<<8|T[R++]<<16|T[R++]<<24;T=k.g[0],R=k.g[1],D=k.g[2];var O=k.g[3],A=T+(O^R&(D^O))+P[0]+3614090360&4294967295;T=R+(A<<7&4294967295|A>>>25),A=O+(D^T&(R^D))+P[1]+3905402710&4294967295,O=T+(A<<12&4294967295|A>>>20),A=D+(R^O&(T^R))+P[2]+606105819&4294967295,D=O+(A<<17&4294967295|A>>>15),A=R+(T^D&(O^T))+P[3]+3250441966&4294967295,R=D+(A<<22&4294967295|A>>>10),A=T+(O^R&(D^O))+P[4]+4118548399&4294967295,T=R+(A<<7&4294967295|A>>>25),A=O+(D^T&(R^D))+P[5]+1200080426&4294967295,O=T+(A<<12&4294967295|A>>>20),A=D+(R^O&(T^R))+P[6]+2821735955&4294967295,D=O+(A<<17&4294967295|A>>>15),A=R+(T^D&(O^T))+P[7]+4249261313&4294967295,R=D+(A<<22&4294967295|A>>>10),A=T+(O^R&(D^O))+P[8]+1770035416&4294967295,T=R+(A<<7&4294967295|A>>>25),A=O+(D^T&(R^D))+P[9]+2336552879&4294967295,O=T+(A<<12&4294967295|A>>>20),A=D+(R^O&(T^R))+P[10]+4294925233&4294967295,D=O+(A<<17&4294967295|A>>>15),A=R+(T^D&(O^T))+P[11]+2304563134&4294967295,R=D+(A<<22&4294967295|A>>>10),A=T+(O^R&(D^O))+P[12]+1804603682&4294967295,T=R+(A<<7&4294967295|A>>>25),A=O+(D^T&(R^D))+P[13]+4254626195&4294967295,O=T+(A<<12&4294967295|A>>>20),A=D+(R^O&(T^R))+P[14]+2792965006&4294967295,D=O+(A<<17&4294967295|A>>>15),A=R+(T^D&(O^T))+P[15]+1236535329&4294967295,R=D+(A<<22&4294967295|A>>>10),A=T+(D^O&(R^D))+P[1]+4129170786&4294967295,T=R+(A<<5&4294967295|A>>>27),A=O+(R^D&(T^R))+P[6]+3225465664&4294967295,O=T+(A<<9&4294967295|A>>>23),A=D+(T^R&(O^T))+P[11]+643717713&4294967295,D=O+(A<<14&4294967295|A>>>18),A=R+(O^T&(D^O))+P[0]+3921069994&4294967295,R=D+(A<<20&4294967295|A>>>12),A=T+(D^O&(R^D))+P[5]+3593408605&4294967295,T=R+(A<<5&4294967295|A>>>27),A=O+(R^D&(T^R))+P[10]+38016083&4294967295,O=T+(A<<9&4294967295|A>>>23),A=D+(T^R&(O^T))+P[15]+3634488961&4294967295,D=O+(A<<14&4294967295|A>>>18),A=R+(O^T&(D^O))+P[4]+3889429448&4294967295,R=D+(A<<20&4294967295|A>>>12),A=T+(D^O&(R^D))+P[9]+568446438&4294967295,T=R+(A<<5&4294967295|A>>>27),A=O+(R^D&(T^R))+P[14]+3275163606&4294967295,O=T+(A<<9&4294967295|A>>>23),A=D+(T^R&(O^T))+P[3]+4107603335&4294967295,D=O+(A<<14&4294967295|A>>>18),A=R+(O^T&(D^O))+P[8]+1163531501&4294967295,R=D+(A<<20&4294967295|A>>>12),A=T+(D^O&(R^D))+P[13]+2850285829&4294967295,T=R+(A<<5&4294967295|A>>>27),A=O+(R^D&(T^R))+P[2]+4243563512&4294967295,O=T+(A<<9&4294967295|A>>>23),A=D+(T^R&(O^T))+P[7]+1735328473&4294967295,D=O+(A<<14&4294967295|A>>>18),A=R+(O^T&(D^O))+P[12]+2368359562&4294967295,R=D+(A<<20&4294967295|A>>>12),A=T+(R^D^O)+P[5]+4294588738&4294967295,T=R+(A<<4&4294967295|A>>>28),A=O+(T^R^D)+P[8]+2272392833&4294967295,O=T+(A<<11&4294967295|A>>>21),A=D+(O^T^R)+P[11]+1839030562&4294967295,D=O+(A<<16&4294967295|A>>>16),A=R+(D^O^T)+P[14]+4259657740&4294967295,R=D+(A<<23&4294967295|A>>>9),A=T+(R^D^O)+P[1]+2763975236&4294967295,T=R+(A<<4&4294967295|A>>>28),A=O+(T^R^D)+P[4]+1272893353&4294967295,O=T+(A<<11&4294967295|A>>>21),A=D+(O^T^R)+P[7]+4139469664&4294967295,D=O+(A<<16&4294967295|A>>>16),A=R+(D^O^T)+P[10]+3200236656&4294967295,R=D+(A<<23&4294967295|A>>>9),A=T+(R^D^O)+P[13]+681279174&4294967295,T=R+(A<<4&4294967295|A>>>28),A=O+(T^R^D)+P[0]+3936430074&4294967295,O=T+(A<<11&4294967295|A>>>21),A=D+(O^T^R)+P[3]+3572445317&4294967295,D=O+(A<<16&4294967295|A>>>16),A=R+(D^O^T)+P[6]+76029189&4294967295,R=D+(A<<23&4294967295|A>>>9),A=T+(R^D^O)+P[9]+3654602809&4294967295,T=R+(A<<4&4294967295|A>>>28),A=O+(T^R^D)+P[12]+3873151461&4294967295,O=T+(A<<11&4294967295|A>>>21),A=D+(O^T^R)+P[15]+530742520&4294967295,D=O+(A<<16&4294967295|A>>>16),A=R+(D^O^T)+P[2]+3299628645&4294967295,R=D+(A<<23&4294967295|A>>>9),A=T+(D^(R|~O))+P[0]+4096336452&4294967295,T=R+(A<<6&4294967295|A>>>26),A=O+(R^(T|~D))+P[7]+1126891415&4294967295,O=T+(A<<10&4294967295|A>>>22),A=D+(T^(O|~R))+P[14]+2878612391&4294967295,D=O+(A<<15&4294967295|A>>>17),A=R+(O^(D|~T))+P[5]+4237533241&4294967295,R=D+(A<<21&4294967295|A>>>11),A=T+(D^(R|~O))+P[12]+1700485571&4294967295,T=R+(A<<6&4294967295|A>>>26),A=O+(R^(T|~D))+P[3]+2399980690&4294967295,O=T+(A<<10&4294967295|A>>>22),A=D+(T^(O|~R))+P[10]+4293915773&4294967295,D=O+(A<<15&4294967295|A>>>17),A=R+(O^(D|~T))+P[1]+2240044497&4294967295,R=D+(A<<21&4294967295|A>>>11),A=T+(D^(R|~O))+P[8]+1873313359&4294967295,T=R+(A<<6&4294967295|A>>>26),A=O+(R^(T|~D))+P[15]+4264355552&4294967295,O=T+(A<<10&4294967295|A>>>22),A=D+(T^(O|~R))+P[6]+2734768916&4294967295,D=O+(A<<15&4294967295|A>>>17),A=R+(O^(D|~T))+P[13]+1309151649&4294967295,R=D+(A<<21&4294967295|A>>>11),A=T+(D^(R|~O))+P[4]+4149444226&4294967295,T=R+(A<<6&4294967295|A>>>26),A=O+(R^(T|~D))+P[11]+3174756917&4294967295,O=T+(A<<10&4294967295|A>>>22),A=D+(T^(O|~R))+P[2]+718787259&4294967295,D=O+(A<<15&4294967295|A>>>17),A=R+(O^(D|~T))+P[9]+3951481745&4294967295,k.g[0]=k.g[0]+T&4294967295,k.g[1]=k.g[1]+(D+(A<<21&4294967295|A>>>11))&4294967295,k.g[2]=k.g[2]+D&4294967295,k.g[3]=k.g[3]+O&4294967295}s.prototype.u=function(k,T){T===void 0&&(T=k.length);for(var R=T-this.blockSize,P=this.B,D=this.h,O=0;O<T;){if(D==0)for(;O<=R;)a(this,k,O),O+=this.blockSize;if(typeof k=="string"){for(;O<T;)if(P[D++]=k.charCodeAt(O++),D==this.blockSize){a(this,P),D=0;break}}else for(;O<T;)if(P[D++]=k[O++],D==this.blockSize){a(this,P),D=0;break}}this.h=D,this.o+=T},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var T=1;T<k.length-8;++T)k[T]=0;var R=8*this.o;for(T=k.length-8;T<k.length;++T)k[T]=R&255,R/=256;for(this.u(k),k=Array(16),T=R=0;4>T;++T)for(var P=0;32>P;P+=8)k[R++]=this.g[T]>>>P&255;return k};function u(k,T){var R=d;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=T(k)}function f(k,T){this.h=T;for(var R=[],P=!0,D=k.length-1;0<=D;D--){var O=k[D]|0;P&&O==T||(R[D]=O,P=!1)}this.g=R}var d={};function g(k){return-128<=k&&128>k?u(k,function(T){return new f([T|0],0>T?-1:0)}):new f([k|0],0>k?-1:0)}function _(k){if(isNaN(k)||!isFinite(k))return S;if(0>k)return L(_(-k));for(var T=[],R=1,P=0;k>=R;P++)T[P]=k/R|0,R*=4294967296;return new f(T,0)}function E(k,T){if(k.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k.charAt(0)=="-")return L(E(k.substring(1),T));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=_(Math.pow(T,8)),P=S,D=0;D<k.length;D+=8){var O=Math.min(8,k.length-D),A=parseInt(k.substring(D,D+O),T);8>O?(O=_(Math.pow(T,O)),P=P.j(O).add(_(A))):(P=P.j(R),P=P.add(_(A)))}return P}var S=g(0),I=g(1),N=g(16777216);i=f.prototype,i.m=function(){if(z(this))return-L(this).m();for(var k=0,T=1,R=0;R<this.g.length;R++){var P=this.i(R);k+=(0<=P?P:4294967296+P)*T,T*=4294967296}return k},i.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(M(this))return"0";if(z(this))return"-"+L(this).toString(k);for(var T=_(Math.pow(k,6)),R=this,P="";;){var D=te(R,T).g;R=H(R,D.j(T));var O=((0<R.g.length?R.g[0]:R.h)>>>0).toString(k);if(R=D,M(R))return O+P;for(;6>O.length;)O="0"+O;P=O+P}},i.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function M(k){if(k.h!=0)return!1;for(var T=0;T<k.g.length;T++)if(k.g[T]!=0)return!1;return!0}function z(k){return k.h==-1}i.l=function(k){return k=H(this,k),z(k)?-1:M(k)?0:1};function L(k){for(var T=k.g.length,R=[],P=0;P<T;P++)R[P]=~k.g[P];return new f(R,~k.h).add(I)}i.abs=function(){return z(this)?L(this):this},i.add=function(k){for(var T=Math.max(this.g.length,k.g.length),R=[],P=0,D=0;D<=T;D++){var O=P+(this.i(D)&65535)+(k.i(D)&65535),A=(O>>>16)+(this.i(D)>>>16)+(k.i(D)>>>16);P=A>>>16,O&=65535,A&=65535,R[D]=A<<16|O}return new f(R,R[R.length-1]&-2147483648?-1:0)};function H(k,T){return k.add(L(T))}i.j=function(k){if(M(this)||M(k))return S;if(z(this))return z(k)?L(this).j(L(k)):L(L(this).j(k));if(z(k))return L(this.j(L(k)));if(0>this.l(N)&&0>k.l(N))return _(this.m()*k.m());for(var T=this.g.length+k.g.length,R=[],P=0;P<2*T;P++)R[P]=0;for(P=0;P<this.g.length;P++)for(var D=0;D<k.g.length;D++){var O=this.i(P)>>>16,A=this.i(P)&65535,Je=k.i(D)>>>16,ct=k.i(D)&65535;R[2*P+2*D]+=A*ct,q(R,2*P+2*D),R[2*P+2*D+1]+=O*ct,q(R,2*P+2*D+1),R[2*P+2*D+1]+=A*Je,q(R,2*P+2*D+1),R[2*P+2*D+2]+=O*Je,q(R,2*P+2*D+2)}for(P=0;P<T;P++)R[P]=R[2*P+1]<<16|R[2*P];for(P=T;P<2*T;P++)R[P]=0;return new f(R,0)};function q(k,T){for(;(k[T]&65535)!=k[T];)k[T+1]+=k[T]>>>16,k[T]&=65535,T++}function Q(k,T){this.g=k,this.h=T}function te(k,T){if(M(T))throw Error("division by zero");if(M(k))return new Q(S,S);if(z(k))return T=te(L(k),T),new Q(L(T.g),L(T.h));if(z(T))return T=te(k,L(T)),new Q(L(T.g),T.h);if(30<k.g.length){if(z(k)||z(T))throw Error("slowDivide_ only works with positive integers.");for(var R=I,P=T;0>=P.l(k);)R=he(R),P=he(P);var D=me(R,1),O=me(P,1);for(P=me(P,2),R=me(R,2);!M(P);){var A=O.add(P);0>=A.l(k)&&(D=D.add(R),O=A),P=me(P,1),R=me(R,1)}return T=H(k,D.j(T)),new Q(D,T)}for(D=S;0<=k.l(T);){for(R=Math.max(1,Math.floor(k.m()/T.m())),P=Math.ceil(Math.log(R)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),O=_(R),A=O.j(T);z(A)||0<A.l(k);)R-=P,O=_(R),A=O.j(T);M(O)&&(O=I),D=D.add(O),k=H(k,A)}return new Q(D,k)}i.A=function(k){return te(this,k).h},i.and=function(k){for(var T=Math.max(this.g.length,k.g.length),R=[],P=0;P<T;P++)R[P]=this.i(P)&k.i(P);return new f(R,this.h&k.h)},i.or=function(k){for(var T=Math.max(this.g.length,k.g.length),R=[],P=0;P<T;P++)R[P]=this.i(P)|k.i(P);return new f(R,this.h|k.h)},i.xor=function(k){for(var T=Math.max(this.g.length,k.g.length),R=[],P=0;P<T;P++)R[P]=this.i(P)^k.i(P);return new f(R,this.h^k.h)};function he(k){for(var T=k.g.length+1,R=[],P=0;P<T;P++)R[P]=k.i(P)<<1|k.i(P-1)>>>31;return new f(R,k.h)}function me(k,T){var R=T>>5;T%=32;for(var P=k.g.length-R,D=[],O=0;O<P;O++)D[O]=0<T?k.i(O+R)>>>T|k.i(O+R+1)<<32-T:k.i(O+R);return new f(D,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Hg=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=E,ti=f}).apply(typeof Nm<"u"?Nm:typeof self<"u"?self:typeof window<"u"?window:{});var Jl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wg,ua,Qg,au,Kf,Kg,Gg,Xg;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,p,y){return l==Array.prototype||l==Object.prototype||(l[p]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jl=="object"&&Jl];for(var p=0;p<l.length;++p){var y=l[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function a(l,p){if(p)e:{var y=s;l=l.split(".");for(var w=0;w<l.length-1;w++){var F=l[w];if(!(F in y))break e;y=y[F]}l=l[l.length-1],w=y[l],p=p(w),p!=w&&p!=null&&e(y,l,{configurable:!0,writable:!0,value:p})}}function u(l,p){l instanceof String&&(l+="");var y=0,w=!1,F={next:function(){if(!w&&y<l.length){var W=y++;return{value:p(W,l[W]),done:!1}}return w=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}a("Array.prototype.values",function(l){return l||function(){return u(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},d=this||self;function g(l){var p=typeof l;return p=p!="object"?p:l?Array.isArray(l)?"array":p:"null",p=="array"||p=="object"&&typeof l.length=="number"}function _(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function E(l,p,y){return l.call.apply(l.bind,arguments)}function S(l,p,y){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,w),l.apply(p,F)}}return function(){return l.apply(p,arguments)}}function I(l,p,y){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,I.apply(null,arguments)}function N(l,p){var y=Array.prototype.slice.call(arguments,1);return function(){var w=y.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function M(l,p){function y(){}y.prototype=p.prototype,l.aa=p.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(w,F,W){for(var ie=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)ie[Be-2]=arguments[Be];return p.prototype[F].apply(w,ie)}}function z(l){const p=l.length;if(0<p){const y=Array(p);for(let w=0;w<p;w++)y[w]=l[w];return y}return[]}function L(l,p){for(let y=1;y<arguments.length;y++){const w=arguments[y];if(g(w)){const F=l.length||0,W=w.length||0;l.length=F+W;for(let ie=0;ie<W;ie++)l[F+ie]=w[ie]}else l.push(w)}}class H{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function q(l){return/^[\s\xa0]*$/.test(l)}function Q(){var l=d.navigator;return l&&(l=l.userAgent)?l:""}function te(l){return te[" "](l),l}te[" "]=function(){};var he=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function me(l,p,y){for(const w in l)p.call(y,l[w],w,l)}function k(l,p){for(const y in l)p.call(void 0,l[y],y,l)}function T(l){const p={};for(const y in l)p[y]=l[y];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(l,p){let y,w;for(let F=1;F<arguments.length;F++){w=arguments[F];for(y in w)l[y]=w[y];for(let W=0;W<R.length;W++)y=R[W],Object.prototype.hasOwnProperty.call(w,y)&&(l[y]=w[y])}}function D(l){var p=1;l=l.split(":");const y=[];for(;0<p&&l.length;)y.push(l.shift()),p--;return l.length&&y.push(l.join(":")),y}function O(l){d.setTimeout(()=>{throw l},0)}function A(){var l=ge;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class Je{constructor(){this.h=this.g=null}add(p,y){const w=ct.get();w.set(p,y),this.h?this.h.next=w:this.g=w,this.h=w}}var ct=new H(()=>new ft,l=>l.reset());class ft{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Oe,re=!1,ge=new Je,oe=()=>{const l=d.Promise.resolve(void 0);Oe=()=>{l.then(b)}};var b=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(y){O(y)}var p=ct;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}re=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};d.addEventListener("test",y,p),d.removeEventListener("test",y,p)}catch{}return l}();function Ce(l,p){if(de.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(he){e:{try{te(p.nodeName);var F=!0;break e}catch{}F=!1}F||(p=null)}}else y=="mouseover"?p=l.fromElement:y=="mouseout"&&(p=l.toElement);this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:xe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ce.aa.h.call(this)}}M(Ce,de);var xe={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function $e(l,p,y,w,F){this.listener=l,this.proxy=null,this.src=p,this.type=y,this.capture=!!w,this.ha=F,this.key=++Fe,this.da=this.fa=!1}function Et(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function tr(l){this.src=l,this.g={},this.h=0}tr.prototype.add=function(l,p,y,w,F){var W=l.toString();l=this.g[W],l||(l=this.g[W]=[],this.h++);var ie=Rr(l,p,w,F);return-1<ie?(p=l[ie],y||(p.fa=!1)):(p=new $e(p,this.src,W,!!w,F),p.fa=y,l.push(p)),p};function Gi(l,p){var y=p.type;if(y in l.g){var w=l.g[y],F=Array.prototype.indexOf.call(w,p,void 0),W;(W=0<=F)&&Array.prototype.splice.call(w,F,1),W&&(Et(p),l.g[y].length==0&&(delete l.g[y],l.h--))}}function Rr(l,p,y,w){for(var F=0;F<l.length;++F){var W=l[F];if(!W.da&&W.listener==p&&W.capture==!!y&&W.ha==w)return F}return-1}var fi="closure_lm_"+(1e6*Math.random()|0),Xi={};function uo(l,p,y,w,F){if(Array.isArray(p)){for(var W=0;W<p.length;W++)uo(l,p[W],y,w,F);return null}return y=ho(y),l&&l[be]?l.K(p,y,_(w)?!!w.capture:!1,F):co(l,p,y,!1,w,F)}function co(l,p,y,w,F,W){if(!p)throw Error("Invalid event type");var ie=_(F)?!!F.capture:!!F,Be=Ji(l);if(Be||(l[fi]=Be=new tr(l)),y=Be.add(p,y,w,ie,W),y.proxy)return y;if(w=Oa(),y.proxy=w,w.src=l,w.listener=y,l.addEventListener)Se||(F=ie),F===void 0&&(F=!1),l.addEventListener(p.toString(),w,F);else if(l.attachEvent)l.attachEvent(rr(p.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Oa(){function l(y){return p.call(l.src,l.listener,y)}const p=fo;return l}function Yi(l,p,y,w,F){if(Array.isArray(p))for(var W=0;W<p.length;W++)Yi(l,p[W],y,w,F);else w=_(w)?!!w.capture:!!w,y=ho(y),l&&l[be]?(l=l.i,p=String(p).toString(),p in l.g&&(W=l.g[p],y=Rr(W,y,w,F),-1<y&&(Et(W[y]),Array.prototype.splice.call(W,y,1),W.length==0&&(delete l.g[p],l.h--)))):l&&(l=Ji(l))&&(p=l.g[p.toString()],l=-1,p&&(l=Rr(p,y,w,F)),(y=-1<l?p[l]:null)&&nr(y))}function nr(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[be])Gi(p.i,l);else{var y=l.type,w=l.proxy;p.removeEventListener?p.removeEventListener(y,w,l.capture):p.detachEvent?p.detachEvent(rr(y),w):p.addListener&&p.removeListener&&p.removeListener(w),(y=Ji(p))?(Gi(y,l),y.h==0&&(y.src=null,p[fi]=null)):Et(l)}}}function rr(l){return l in Xi?Xi[l]:Xi[l]="on"+l}function fo(l,p){if(l.da)l=!0;else{p=new Ce(p,this);var y=l.listener,w=l.ha||l.src;l.fa&&nr(l),l=y.call(w,p)}return l}function Ji(l){return l=l[fi],l instanceof tr?l:null}var Zi="__closure_events_fn_"+(1e9*Math.random()>>>0);function ho(l){return typeof l=="function"?l:(l[Zi]||(l[Zi]=function(p){return l.handleEvent(p)}),l[Zi])}function ht(){G.call(this),this.i=new tr(this),this.M=this,this.F=null}M(ht,G),ht.prototype[be]=!0,ht.prototype.removeEventListener=function(l,p,y,w){Yi(this,l,p,y,w)};function dt(l,p){var y,w=l.F;if(w)for(y=[];w;w=w.F)y.push(w);if(l=l.M,w=p.type||p,typeof p=="string")p=new de(p,l);else if(p instanceof de)p.target=p.target||l;else{var F=p;p=new de(w,l),P(p,F)}if(F=!0,y)for(var W=y.length-1;0<=W;W--){var ie=p.g=y[W];F=ir(ie,w,!0,p)&&F}if(ie=p.g=l,F=ir(ie,w,!0,p)&&F,F=ir(ie,w,!1,p)&&F,y)for(W=0;W<y.length;W++)ie=p.g=y[W],F=ir(ie,w,!1,p)&&F}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var l=this.i,p;for(p in l.g){for(var y=l.g[p],w=0;w<y.length;w++)Et(y[w]);delete l.g[p],l.h--}}this.F=null},ht.prototype.K=function(l,p,y,w){return this.i.add(String(l),p,!1,y,w)},ht.prototype.L=function(l,p,y,w){return this.i.add(String(l),p,!0,y,w)};function ir(l,p,y,w){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();for(var F=!0,W=0;W<p.length;++W){var ie=p[W];if(ie&&!ie.da&&ie.capture==y){var Be=ie.listener,pt=ie.ha||ie.src;ie.fa&&Gi(l.i,ie),F=Be.call(pt,w)!==!1&&F}}return F&&!w.defaultPrevented}function po(l,p,y){if(typeof l=="function")y&&(l=I(l,y));else if(l&&typeof l.handleEvent=="function")l=I(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:d.setTimeout(l,p||0)}function Ar(l){l.g=po(()=>{l.g=null,l.i&&(l.i=!1,Ar(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class hi extends G{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Ar(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function di(l){G.call(this),this.h=l,this.g={}}M(di,G);var mo=[];function go(l){me(l.g,function(p,y){this.g.hasOwnProperty(y)&&nr(p)},l),l.g={}}di.prototype.N=function(){di.aa.N.call(this),go(this)},di.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yo=d.JSON.stringify,_o=d.JSON.parse,vo=class{stringify(l){return d.JSON.stringify(l,void 0)}parse(l){return d.JSON.parse(l,void 0)}};function pi(){}pi.prototype.h=null;function es(l){return l.h||(l.h=l.i())}function ts(){}var cn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mn(){de.call(this,"d")}M(Mn,de);function ns(){de.call(this,"c")}M(ns,de);var bn={},Eo=null;function mi(){return Eo=Eo||new ht}bn.La="serverreachability";function wo(l){de.call(this,bn.La,l)}M(wo,de);function sr(l){const p=mi();dt(p,new wo(p))}bn.STAT_EVENT="statevent";function To(l,p){de.call(this,bn.STAT_EVENT,l),this.stat=p}M(To,de);function it(l){const p=mi();dt(p,new To(p,l))}bn.Ma="timingevent";function rs(l,p){de.call(this,bn.Ma,l),this.size=p}M(rs,de);function En(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){l()},p)}function gi(){this.g=!0}gi.prototype.xa=function(){this.g=!1};function yi(l,p,y,w,F,W){l.info(function(){if(l.g)if(W)for(var ie="",Be=W.split("&"),pt=0;pt<Be.length;pt++){var Ne=Be[pt].split("=");if(1<Ne.length){var wt=Ne[0];Ne=Ne[1];var at=wt.split("_");ie=2<=at.length&&at[1]=="type"?ie+(wt+"="+Ne+"&"):ie+(wt+"=redacted&")}}else ie=null;else ie=W;return"XMLHTTP REQ ("+w+") [attempt "+F+"]: "+p+`
`+y+`
`+ie})}function is(l,p,y,w,F,W,ie){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+F+"]: "+p+`
`+y+`
`+W+" "+ie})}function wn(l,p,y,w){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+Ju(l,y)+(w?" "+w:"")})}function Io(l,p){l.info(function(){return"TIMEOUT: "+p})}gi.prototype.info=function(){};function Ju(l,p){if(!l.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var w=y[l];if(!(2>w.length)){var F=w[1];if(Array.isArray(F)&&!(1>F.length)){var W=F[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ie=1;ie<F.length;ie++)F[ie]=""}}}}return yo(y)}catch{return p}}var ss={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ma={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tn;function _i(){}M(_i,pi),_i.prototype.g=function(){return new XMLHttpRequest},_i.prototype.i=function(){return{}},Tn=new _i;function In(l,p,y,w){this.j=l,this.i=p,this.l=y,this.R=w||1,this.U=new di(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ba}function ba(){this.i=null,this.g="",this.h=!1}var So={},os={};function as(l,p,y){l.L=1,l.v=Dr(tn(p)),l.m=y,l.P=!0,Co(l,null)}function Co(l,p){l.F=Date.now(),qe(l),l.A=tn(l.v);var y=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),Lr(y.i,"t",w),l.C=0,y=l.j.J,l.h=new ba,l.g=tl(l.j,y?p:null,!l.m),0<l.O&&(l.M=new hi(I(l.Y,l,l.g),l.O)),p=l.U,y=l.g,w=l.ca;var F="readystatechange";Array.isArray(F)||(F&&(mo[0]=F.toString()),F=mo);for(var W=0;W<F.length;W++){var ie=uo(y,F[W],w||p.handleEvent,!1,p.h||p);if(!ie)break;p.g[ie.key]=ie}p=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),sr(),yi(l.i,l.u,l.A,l.l,l.R,l.m)}In.prototype.ca=function(l){l=l.target;const p=this.M;p&&Wt(l)==3?p.j():this.Y(l)},In.prototype.Y=function(l){try{if(l==this.g)e:{const at=Wt(this.g);var p=this.g.Ba();const dn=this.g.Z();if(!(3>at)&&(at!=3||this.g&&(this.h.h||this.g.oa()||No(this.g)))){this.J||at!=4||p==7||(p==8||0>=dn?sr(3):sr(2)),vi(this);var y=this.g.Z();this.X=y;t:if(Fa(this)){var w=No(this.g);l="";var F=w.length,W=Wt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fn(this),kr(this);var ie="";break t}this.h.i=new d.TextDecoder}for(p=0;p<F;p++)this.h.h=!0,l+=this.h.i.decode(w[p],{stream:!(W&&p==F-1)});w.length=0,this.h.g+=l,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=y==200,is(this.i,this.u,this.A,this.l,this.R,at,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,pt=this.g;if((Be=pt.g?pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(Be)){var Ne=Be;break t}}Ne=null}if(y=Ne)wn(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ro(this,y);else{this.o=!1,this.s=3,it(12),fn(this),kr(this);break e}}if(this.P){y=!0;let rn;for(;!this.J&&this.C<ie.length;)if(rn=Zu(this,ie),rn==os){at==4&&(this.s=4,it(14),y=!1),wn(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==So){this.s=4,it(15),wn(this.i,this.l,ie,"[Invalid Chunk]"),y=!1;break}else wn(this.i,this.l,rn,null),Ro(this,rn);if(Fa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),at!=4||ie.length!=0||this.h.h||(this.s=1,it(16),y=!1),this.o=this.o&&y,!y)wn(this.i,this.l,ie,"[Invalid Chunked Response]"),fn(this),kr(this);else if(0<ie.length&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.ba&&!wt.M&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Vo(wt),wt.M=!0,it(11))}}else wn(this.i,this.l,ie,null),Ro(this,ie);at==4&&fn(this),this.o&&!this.J&&(at==4?_s(this.j,this):(this.o=!1,qe(this)))}else ds(this.g),y==400&&0<ie.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),fn(this),kr(this)}}}catch{}finally{}};function Fa(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Zu(l,p){var y=l.C,w=p.indexOf(`
`,y);return w==-1?os:(y=Number(p.substring(y,w)),isNaN(y)?So:(w+=1,w+y>p.length?os:(p=p.slice(w,w+y),l.C=w+y,p)))}In.prototype.cancel=function(){this.J=!0,fn(this)};function qe(l){l.S=Date.now()+l.I,Ua(l,l.I)}function Ua(l,p){if(l.B!=null)throw Error("WatchDog timer not null");l.B=En(I(l.ba,l),p)}function vi(l){l.B&&(d.clearTimeout(l.B),l.B=null)}In.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Io(this.i,this.A),this.L!=2&&(sr(),it(17)),fn(this),this.s=2,kr(this)):Ua(this,this.S-l)};function kr(l){l.j.G==0||l.J||_s(l.j,l)}function fn(l){vi(l);var p=l.M;p&&typeof p.ma=="function"&&p.ma(),l.M=null,go(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function Ro(l,p){try{var y=l.j;if(y.G!=0&&(y.g==l||zt(y.h,l))){if(!l.K&&zt(y.h,l)&&y.G==3){try{var w=y.Da.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var F=w;if(F[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)ys(y),kn(y);else break e;gs(y),it(18)}}else y.za=F[1],0<y.za-y.T&&37500>F[2]&&y.F&&y.v==0&&!y.C&&(y.C=En(I(y.Za,y),6e3));if(1>=Ba(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else cr(y,11)}else if((l.K||y.g==l)&&ys(y),!q(p))for(F=y.Da.g.parse(p),p=0;p<F.length;p++){let Ne=F[p];if(y.T=Ne[0],Ne=Ne[1],y.G==2)if(Ne[0]=="c"){y.K=Ne[1],y.ia=Ne[2];const wt=Ne[3];wt!=null&&(y.la=wt,y.j.info("VER="+y.la));const at=Ne[4];at!=null&&(y.Aa=at,y.j.info("SVER="+y.Aa));const dn=Ne[5];dn!=null&&typeof dn=="number"&&0<dn&&(w=1.5*dn,y.L=w,y.j.info("backChannelRequestTimeoutMs_="+w)),w=y;const rn=l.g;if(rn){const Ri=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ri){var W=w.h;W.g||Ri.indexOf("spdy")==-1&&Ri.indexOf("quic")==-1&&Ri.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Ao(W,W.h),W.h=null))}if(w.D){const Es=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Es&&(w.ya=Es,je(w.I,w.D,Es))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),w=y;var ie=l;if(w.qa=el(w,w.J?w.ia:null,w.W),ie.K){ja(w.h,ie);var Be=ie,pt=w.L;pt&&(Be.I=pt),Be.B&&(vi(Be),qe(Be)),w.g=ie}else Ci(w);0<y.i.length&&Bn(y)}else Ne[0]!="stop"&&Ne[0]!="close"||cr(y,7);else y.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?cr(y,7):At(y):Ne[0]!="noop"&&y.l&&y.l.ta(Ne),y.v=0)}}sr(4)}catch{}}var za=class{constructor(l,p){this.g=l,this.map=p}};function Ei(l){this.l=l||10,d.PerformanceNavigationTiming?(l=d.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function en(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ba(l){return l.h?1:l.g?l.g.size:0}function zt(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function Ao(l,p){l.g?l.g.add(p):l.h=p}function ja(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}Ei.prototype.cancel=function(){if(this.i=$a(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function $a(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const y of l.g.values())p=p.concat(y.D);return p}return z(l.i)}function ls(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var p=[],y=l.length,w=0;w<y;w++)p.push(l[w]);return p}p=[],y=0;for(w in l)p[y++]=l[w];return p}function us(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var p=[];l=l.length;for(var y=0;y<l;y++)p.push(y);return p}p=[],y=0;for(const w in l)p[y++]=w;return p}}}function Pr(l,p){if(l.forEach&&typeof l.forEach=="function")l.forEach(p,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,p,void 0);else for(var y=us(l),w=ls(l),F=w.length,W=0;W<F;W++)p.call(void 0,w[W],y&&y[W],l)}var wi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ec(l,p){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var w=l[y].indexOf("="),F=null;if(0<=w){var W=l[y].substring(0,w);F=l[y].substring(w+1)}else W=l[y];p(W,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function or(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof or){this.h=l.h,Ti(this,l.j),this.o=l.o,this.g=l.g,xr(this,l.s),this.l=l.l;var p=l.i,y=new Fn;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),Nr(this,y),this.m=l.m}else l&&(p=String(l).match(wi))?(this.h=!1,Ti(this,p[1]||"",!0),this.o=ke(p[2]||""),this.g=ke(p[3]||"",!0),xr(this,p[4]),this.l=ke(p[5]||"",!0),Nr(this,p[6]||"",!0),this.m=ke(p[7]||"")):(this.h=!1,this.i=new Fn(null,this.h))}or.prototype.toString=function(){var l=[],p=this.j;p&&l.push(Vr(p,cs,!0),":");var y=this.g;return(y||p=="file")&&(l.push("//"),(p=this.o)&&l.push(Vr(p,cs,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Vr(y,y.charAt(0)=="/"?Wa:Ha,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Vr(y,ko)),l.join("")};function tn(l){return new or(l)}function Ti(l,p,y){l.j=y?ke(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function xr(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function Nr(l,p,y){p instanceof Fn?(l.i=p,Un(l.i,l.h)):(y||(p=Vr(p,Qa)),l.i=new Fn(p,l.h))}function je(l,p,y){l.i.set(p,y)}function Dr(l){return je(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function ke(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Vr(l,p,y){return typeof l=="string"?(l=encodeURI(l).replace(p,qa),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function qa(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var cs=/[#\/\?@]/g,Ha=/[#\?:]/g,Wa=/[#\?]/g,Qa=/[#\?@]/g,ko=/#/g;function Fn(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function Rt(l){l.g||(l.g=new Map,l.h=0,l.i&&ec(l.i,function(p,y){l.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}i=Fn.prototype,i.add=function(l,p){Rt(this),this.i=null,l=hn(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(p),this.h+=1,this};function Sn(l,p){Rt(l),p=hn(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function Cn(l,p){return Rt(l),p=hn(l,p),l.g.has(p)}i.forEach=function(l,p){Rt(this),this.g.forEach(function(y,w){y.forEach(function(F){l.call(p,F,w,this)},this)},this)},i.na=function(){Rt(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let w=0;w<p.length;w++){const F=l[w];for(let W=0;W<F.length;W++)y.push(p[w])}return y},i.V=function(l){Rt(this);let p=[];if(typeof l=="string")Cn(this,l)&&(p=p.concat(this.g.get(hn(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)p=p.concat(l[y])}return p},i.set=function(l,p){return Rt(this),this.i=null,l=hn(this,l),Cn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},i.get=function(l,p){return l?(l=this.V(l),0<l.length?String(l[0]):p):p};function Lr(l,p,y){Sn(l,p),0<y.length&&(l.i=null,l.g.set(hn(l,p),z(y)),l.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var w=p[y];const W=encodeURIComponent(String(w)),ie=this.V(w);for(w=0;w<ie.length;w++){var F=W;ie[w]!==""&&(F+="="+encodeURIComponent(String(ie[w]))),l.push(F)}}return this.i=l.join("&")};function hn(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function Un(l,p){p&&!l.j&&(Rt(l),l.i=null,l.g.forEach(function(y,w){var F=w.toLowerCase();w!=F&&(Sn(this,w),Lr(this,F,y))},l)),l.j=p}function tc(l,p){const y=new gi;if(d.Image){const w=new Image;w.onload=N(Ht,y,"TestLoadImage: loaded",!0,p,w),w.onerror=N(Ht,y,"TestLoadImage: error",!1,p,w),w.onabort=N(Ht,y,"TestLoadImage: abort",!1,p,w),w.ontimeout=N(Ht,y,"TestLoadImage: timeout",!1,p,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else p(!1)}function Ka(l,p){const y=new gi,w=new AbortController,F=setTimeout(()=>{w.abort(),Ht(y,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:w.signal}).then(W=>{clearTimeout(F),W.ok?Ht(y,"TestPingServer: ok",!0,p):Ht(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(F),Ht(y,"TestPingServer: error",!1,p)})}function Ht(l,p,y,w,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),w(y)}catch{}}function nc(){this.g=new vo}function Ga(l,p,y){const w=y||"";try{Pr(l,function(F,W){let ie=F;_(F)&&(ie=yo(F)),p.push(w+W+"="+encodeURIComponent(ie))})}catch(F){throw p.push(w+"type="+encodeURIComponent("_badmap")),F}}function ar(l){this.l=l.Ub||null,this.j=l.eb||!1}M(ar,pi),ar.prototype.g=function(){return new Ii(this.l,this.j)},ar.prototype.i=function(l){return function(){return l}}({});function Ii(l,p){ht.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Ii,ht),i=Ii.prototype,i.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,An(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||d).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,An(this)),this.g&&(this.readyState=3,An(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xa(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xa(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?Rn(this):An(this),this.readyState==3&&Xa(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,Rn(this))},i.Qa=function(l){this.g&&(this.response=l,Rn(this))},i.ga=function(){this.g&&Rn(this)};function Rn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,An(l)}i.setRequestHeader=function(l,p){this.u.append(l,p)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=p.next();return l.join(`\r
`)};function An(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ii.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function lr(l){let p="";return me(l,function(y,w){p+=w,p+=":",p+=y,p+=`\r
`}),p}function Or(l,p,y){e:{for(w in y){var w=!1;break e}w=!0}w||(y=lr(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):je(l,p,y))}function Ge(l){ht.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Ge,ht);var rc=/^https?$/i,Po=["POST","PUT"];i=Ge.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,p,y,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tn.g(),this.v=this.o?es(this.o):es(Tn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(W){Si(this,W);return}if(l=y||"",y=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var F in w)y.set(F,w[F]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const W of w.keys())y.set(W,w.get(W));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(y.keys()).find(W=>W.toLowerCase()=="content-type"),F=d.FormData&&l instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Po,p,void 0))||w||F||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ie]of y)this.g.setRequestHeader(W,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hs(this),this.u=!0,this.g.send(l),this.u=!1}catch(W){Si(this,W)}};function Si(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,fs(l),nn(l)}function fs(l){l.A||(l.A=!0,dt(l,"complete"),dt(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,dt(this,"complete"),dt(this,"abort"),nn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nn(this,!0)),Ge.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?xo(this):this.bb())},i.bb=function(){xo(this)};function xo(l){if(l.h&&typeof f<"u"&&(!l.v[1]||Wt(l)!=4||l.Z()!=2)){if(l.u&&Wt(l)==4)po(l.Ea,0,l);else if(dt(l,"readystatechange"),Wt(l)==4){l.h=!1;try{const ie=l.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var w;if(w=ie===0){var F=String(l.D).match(wi)[1]||null;!F&&d.self&&d.self.location&&(F=d.self.location.protocol.slice(0,-1)),w=!rc.test(F?F.toLowerCase():"")}y=w}if(y)dt(l,"complete"),dt(l,"success");else{l.m=6;try{var W=2<Wt(l)?l.g.statusText:""}catch{W=""}l.l=W+" ["+l.Z()+"]",fs(l)}}finally{nn(l)}}}}function nn(l,p){if(l.g){hs(l);const y=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||dt(l,"ready");try{y.onreadystatechange=w}catch{}}}function hs(l){l.I&&(d.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function Wt(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),_o(p)}};function No(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function ds(l){const p={};l=(l.g&&2<=Wt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(q(l[w]))continue;var y=D(l[w]);const F=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const W=p[F]||[];p[F]=W,W.push(y)}k(p,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zn(l,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||p}function Do(l){this.Aa=0,this.i=[],this.j=new gi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zn("baseRetryDelayMs",5e3,l),this.cb=zn("retryDelaySeedMs",1e4,l),this.Wa=zn("forwardChannelMaxRetries",2,l),this.wa=zn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Ei(l&&l.concurrentRequestLimit),this.Da=new nc,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Do.prototype,i.la=8,i.G=1,i.connect=function(l,p,y,w){it(0),this.W=l,this.H=p||{},y&&w!==void 0&&(this.H.OSID=y,this.H.OAID=w),this.F=this.X,this.I=el(this,null,this.W),Bn(this)};function At(l){if(ps(l),l.G==3){var p=l.U++,y=tn(l.I);if(je(y,"SID",l.K),je(y,"RID",p),je(y,"TYPE","terminate"),ur(l,y),p=new In(l,l.j,p),p.L=2,p.v=Dr(tn(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&d.Image&&(new Image().src=p.v,y=!0),y||(p.g=tl(p.j,null),p.g.ea(p.v)),p.F=Date.now(),qe(p)}Za(l)}function kn(l){l.g&&(Vo(l),l.g.cancel(),l.g=null)}function ps(l){kn(l),l.u&&(d.clearTimeout(l.u),l.u=null),ys(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&d.clearTimeout(l.s),l.s=null)}function Bn(l){if(!en(l.h)&&!l.s){l.s=!0;var p=l.Ga;Oe||oe(),re||(Oe(),re=!0),ge.add(p,l),l.B=0}}function ic(l,p){return Ba(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=p.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=En(I(l.Ga,l,p),Ja(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const F=new In(this,this.j,l);let W=this.o;if(this.S&&(W?(W=T(W),P(W,this.S)):W=this.S),this.m!==null||this.O||(F.H=W,W=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var w=this.i[y];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=Mr(this,F,p),y=tn(this.I),je(y,"RID",l),je(y,"CVER",22),this.D&&je(y,"X-HTTP-Session-Id",this.D),ur(this,y),W&&(this.O?p="headers="+encodeURIComponent(String(lr(W)))+"&"+p:this.m&&Or(y,this.m,W)),Ao(this.h,F),this.Ua&&je(y,"TYPE","init"),this.P?(je(y,"$req",p),je(y,"SID","null"),F.T=!0,as(F,y,null)):as(F,y,p),this.G=2}}else this.G==3&&(l?ms(this,l):this.i.length==0||en(this.h)||ms(this))};function ms(l,p){var y;p?y=p.l:y=l.U++;const w=tn(l.I);je(w,"SID",l.K),je(w,"RID",y),je(w,"AID",l.T),ur(l,w),l.m&&l.o&&Or(w,l.m,l.o),y=new In(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),p&&(l.i=p.D.concat(l.i)),p=Mr(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Ao(l.h,y),as(y,w,p)}function ur(l,p){l.H&&me(l.H,function(y,w){je(p,w,y)}),l.l&&Pr({},function(y,w){je(p,w,y)})}function Mr(l,p,y){y=Math.min(l.i.length,y);var w=l.l?I(l.l.Na,l.l,l):null;e:{var F=l.i;let W=-1;for(;;){const ie=["count="+y];W==-1?0<y?(W=F[0].g,ie.push("ofs="+W)):W=0:ie.push("ofs="+W);let Be=!0;for(let pt=0;pt<y;pt++){let Ne=F[pt].g;const wt=F[pt].map;if(Ne-=W,0>Ne)W=Math.max(0,F[pt].g-100),Be=!1;else try{Ga(wt,ie,"req"+Ne+"_")}catch{w&&w(wt)}}if(Be){w=ie.join("&");break e}}}return l=l.i.splice(0,y),p.D=l,w}function Ci(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;Oe||oe(),re||(Oe(),re=!0),ge.add(p,l),l.v=0}}function gs(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=En(I(l.Fa,l),Ja(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Ya(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=En(I(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),kn(this),Ya(this))};function Vo(l){l.A!=null&&(d.clearTimeout(l.A),l.A=null)}function Ya(l){l.g=new In(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var p=tn(l.qa);je(p,"RID","rpc"),je(p,"SID",l.K),je(p,"AID",l.T),je(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&je(p,"TO",l.ja),je(p,"TYPE","xmlhttp"),ur(l,p),l.m&&l.o&&Or(p,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=Dr(tn(p)),y.m=null,y.P=!0,Co(y,l)}i.Za=function(){this.C!=null&&(this.C=null,kn(this),gs(this),it(19))};function ys(l){l.C!=null&&(d.clearTimeout(l.C),l.C=null)}function _s(l,p){var y=null;if(l.g==p){ys(l),Vo(l),l.g=null;var w=2}else if(zt(l.h,p))y=p.D,ja(l.h,p),w=1;else return;if(l.G!=0){if(p.o)if(w==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var F=l.B;w=mi(),dt(w,new rs(w,y)),Bn(l)}else Ci(l);else if(F=p.s,F==3||F==0&&0<p.X||!(w==1&&ic(l,p)||w==2&&gs(l)))switch(y&&0<y.length&&(p=l.h,p.i=p.i.concat(y)),F){case 1:cr(l,5);break;case 4:cr(l,10);break;case 3:cr(l,6);break;default:cr(l,2)}}}function Ja(l,p){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*p}function cr(l,p){if(l.j.info("Error code "+p),p==2){var y=I(l.fb,l),w=l.Xa;const F=!w;w=new or(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ti(w,"https"),Dr(w),F?tc(w.toString(),y):Ka(w.toString(),y)}else it(2);l.G=0,l.l&&l.l.sa(p),Za(l),ps(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function Za(l){if(l.G=0,l.ka=[],l.l){const p=$a(l.h);(p.length!=0||l.i.length!=0)&&(L(l.ka,p),L(l.ka,l.i),l.h.i.length=0,z(l.i),l.i.length=0),l.l.ra()}}function el(l,p,y){var w=y instanceof or?tn(y):new or(y);if(w.g!="")p&&(w.g=p+"."+w.g),xr(w,w.s);else{var F=d.location;w=F.protocol,p=p?p+"."+F.hostname:F.hostname,F=+F.port;var W=new or(null);w&&Ti(W,w),p&&(W.g=p),F&&xr(W,F),y&&(W.l=y),w=W}return y=l.D,p=l.ya,y&&p&&je(w,y,p),je(w,"VER",l.la),ur(l,w),w}function tl(l,p,y){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Ca&&!l.pa?new Ge(new ar({eb:y})):new Ge(l.pa),p.Ha(l.J),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lo(){}i=Lo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function vs(){}vs.prototype.g=function(l,p){return new Bt(l,p)};function Bt(l,p){ht.call(this),this.g=new Do(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!q(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!q(p)&&(this.g.D=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new jn(this)}M(Bt,ht),Bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bt.prototype.close=function(){At(this.g)},Bt.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=yo(l),l=y);p.i.push(new za(p.Ya++,l)),p.G==3&&Bn(p)},Bt.prototype.N=function(){this.g.l=null,delete this.j,At(this.g),delete this.g,Bt.aa.N.call(this)};function nl(l){Mn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const y in p){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}M(nl,Mn);function rl(){ns.call(this),this.status=1}M(rl,ns);function jn(l){this.g=l}M(jn,Lo),jn.prototype.ua=function(){dt(this.g,"a")},jn.prototype.ta=function(l){dt(this.g,new nl(l))},jn.prototype.sa=function(l){dt(this.g,new rl)},jn.prototype.ra=function(){dt(this.g,"b")},vs.prototype.createWebChannel=vs.prototype.g,Bt.prototype.send=Bt.prototype.o,Bt.prototype.open=Bt.prototype.m,Bt.prototype.close=Bt.prototype.close,Xg=function(){return new vs},Gg=function(){return mi()},Kg=bn,Kf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ss.NO_ERROR=0,ss.TIMEOUT=8,ss.HTTP_ERROR=6,au=ss,Ma.COMPLETE="complete",Qg=Ma,ts.EventType=cn,cn.OPEN="a",cn.CLOSE="b",cn.ERROR="c",cn.MESSAGE="d",ht.prototype.listen=ht.prototype.K,ua=ts,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,Wg=Ge}).apply(typeof Jl<"u"?Jl:typeof self<"u"?self:typeof window<"u"?window:{});const Dm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let so="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=new Ug("@firebase/firestore");function $s(){return ji.logLevel}function ae(i,...e){if(ji.logLevel<=Ve.DEBUG){const n=e.map(wh);ji.debug(`Firestore (${so}): ${i}`,...n)}}function Ir(i,...e){if(ji.logLevel<=Ve.ERROR){const n=e.map(wh);ji.error(`Firestore (${so}): ${i}`,...n)}}function Gs(i,...e){if(ji.logLevel<=Ve.WARN){const n=e.map(wh);ji.warn(`Firestore (${so}): ${i}`,...n)}}function wh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(i="Unexpected state"){const e=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: `+i;throw Ir(e),new Error(e)}function ze(i,e){i||we()}function Ie(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends io{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Hw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ft.UNAUTHENTICATED))}shutdown(){}}class Ww{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Qw{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ze(this.o===void 0);let s=this.i;const a=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Er,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await a(this.currentUser)})},d=g=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>d(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?d(g):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Er)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ze(typeof s.accessToken=="string"),new Yg(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new Ft(e)}}class Kw{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Gw{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new Kw(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yw{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ze(this.o===void 0);const s=u=>{u.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ae("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const a=u=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?a(u):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string"),this.R=n.token,new Xw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=Jw(40);for(let u=0;u<a.length;++u)s.length<20&&a[u]<n&&(s+=e.charAt(a[u]%e.length))}return s}}function Pe(i,e){return i<e?-1:i>e?1:0}function Xs(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new _t(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new pe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new _t(0,0))}static max(){return new Te(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(),s===void 0?s=e.length-n:s>e.length-n&&we(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Qn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qn?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const u=Qn.compareSegments(e.get(a),n.get(a));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=Qn.isNumericId(e),a=Qn.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Qn.extractNumericId(e).compare(Qn.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ti.fromString(e.substring(4,e.length-2))}}class Ye extends Qn{construct(e,n,s){return new Ye(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new pe(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new Ye(n)}static emptyPath(){return new Ye([])}}const Zw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends Qn{construct(e,n,s){return new Nt(e,n,s)}static isValidIdentifier(e){return Zw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Nt(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const u=()=>{if(s.length===0)throw new pe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new pe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new pe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,a+=2}else d==="`"?(f=!f,a++):d!=="."||f?(s+=d,a++):(u(),a++)}if(u(),f)throw new pe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(n)}static emptyPath(){return new Nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(Ye.fromString(e))}static fromName(e){return new ve(Ye.fromString(e).popFirst(5))}static empty(){return new ve(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new Ye(e.slice()))}}function eT(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=Te.fromTimestamp(s===1e9?new _t(n+1,0):new _t(n,s));return new si(a,ve.empty(),e)}function tT(i){return new si(i.readTime,i.key,-1)}class si{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new si(Te.min(),ve.empty(),-1)}static max(){return new si(Te.max(),ve.empty(),-1)}}function nT(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(i.documentKey,e.documentKey),n!==0?n:Pe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(i){if(i.code!==J.FAILED_PRECONDITION||i.message!==rT)throw i;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((s,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,a)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,s)=>{n(e)})}static reject(e){return new K((n,s)=>{s(e)})}static waitFor(e){return new K((n,s)=>{let a=0,u=0,f=!1;e.forEach(d=>{++a,d.next(()=>{++u,f&&u===a&&n()},g=>s(g))}),f=!0,u===a&&n()})}static or(e){let n=K.resolve(!1);for(const s of e)n=n.next(a=>a?K.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,u)=>{s.push(n.call(this,a,u))}),this.waitFor(s)}static mapArray(e,n){return new K((s,a)=>{const u=e.length,f=new Array(u);let d=0;for(let g=0;g<u;g++){const _=g;n(e[_]).next(E=>{f[_]=E,++d,d===u&&s(f)},E=>a(E))}})}static doWhile(e,n){return new K((s,a)=>{const u=()=>{e()===!0?n().next(()=>{u()},a):s()};u()})}}function sT(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ao(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Pu.oe=-1;function xu(i){return i==null}function yu(i){return i===0&&1/i==-1/0}function oT(i){return typeof i=="number"&&Number.isInteger(i)&&!yu(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Vm(e)),e=lT(i.get(n),e);return Vm(e)}function lT(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const u=i.charAt(a);switch(u){case"\0":n+="";break;case"":n+="";break;default:n+=u}}return n}function Vm(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ci(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Zg(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.comparator=e,this.root=n||xt.EMPTY}insert(e,n){return new nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zl(this.root,e,this.comparator,!0)}}class Zl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xt{constructor(e,n,s,a,u){this.key=e,this.value=n,this.color=s??xt.RED,this.left=a??xt.EMPTY,this.right=u??xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,u){return new xt(e??this.key,n??this.value,s??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const u=s(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,n,s),null):u===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return xt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}xt.EMPTY=null,xt.RED=!0,xt.BLACK=!1;xt.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,n,s,a,u){return this}insert(e,n,s){return new xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Om(this.data.getIterator())}getIteratorFrom(e){return new Om(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=s.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vt(this.comparator);return n.data=e,n}}class Om{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new On([])}unionWith(e){let n=new vt(Nt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new On(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xs(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ey("Invalid base64 string: "+u):u}}(e);return new Dt(n)}static fromUint8Array(e){const n=function(a){let u="";for(let f=0;f<a.length;++f)u+=String.fromCharCode(a[f]);return u}(e);return new Dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const uT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oi(i){if(ze(!!i),typeof i=="string"){let e=0;const n=uT.exec(i);if(ze(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ot(i.seconds),nanos:ot(i.nanos)}}function ot(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ai(i){return typeof i=="string"?Dt.fromBase64String(i):Dt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Nu(i){const e=i.mapValue.fields.__previous_value__;return Th(e)?Nu(e):e}function wa(i){const e=oi(i.mapValue.fields.__local_write_time__.timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,n,s,a,u,f,d,g,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=_}}class Ta{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ta("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ta&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function li(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Th(i)?4:hT(i)?9007199254740991:fT(i)?10:11:we()}function Yn(i,e){if(i===e)return!0;const n=li(i);if(n!==li(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return wa(i).isEqual(wa(e));case 3:return function(a,u){if(typeof a.timestampValue=="string"&&typeof u.timestampValue=="string"&&a.timestampValue.length===u.timestampValue.length)return a.timestampValue===u.timestampValue;const f=oi(a.timestampValue),d=oi(u.timestampValue);return f.seconds===d.seconds&&f.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,u){return ai(a.bytesValue).isEqual(ai(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,u){return ot(a.geoPointValue.latitude)===ot(u.geoPointValue.latitude)&&ot(a.geoPointValue.longitude)===ot(u.geoPointValue.longitude)}(i,e);case 2:return function(a,u){if("integerValue"in a&&"integerValue"in u)return ot(a.integerValue)===ot(u.integerValue);if("doubleValue"in a&&"doubleValue"in u){const f=ot(a.doubleValue),d=ot(u.doubleValue);return f===d?yu(f)===yu(d):isNaN(f)&&isNaN(d)}return!1}(i,e);case 9:return Xs(i.arrayValue.values||[],e.arrayValue.values||[],Yn);case 10:case 11:return function(a,u){const f=a.mapValue.fields||{},d=u.mapValue.fields||{};if(Lm(f)!==Lm(d))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(d[g]===void 0||!Yn(f[g],d[g])))return!1;return!0}(i,e);default:return we()}}function Ia(i,e){return(i.values||[]).find(n=>Yn(n,e))!==void 0}function Ys(i,e){if(i===e)return 0;const n=li(i),s=li(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(i.booleanValue,e.booleanValue);case 2:return function(u,f){const d=ot(u.integerValue||u.doubleValue),g=ot(f.integerValue||f.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(i,e);case 3:return Mm(i.timestampValue,e.timestampValue);case 4:return Mm(wa(i),wa(e));case 5:return Pe(i.stringValue,e.stringValue);case 6:return function(u,f){const d=ai(u),g=ai(f);return d.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const d=u.split("/"),g=f.split("/");for(let _=0;_<d.length&&_<g.length;_++){const E=Pe(d[_],g[_]);if(E!==0)return E}return Pe(d.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const d=Pe(ot(u.latitude),ot(f.latitude));return d!==0?d:Pe(ot(u.longitude),ot(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return bm(i.arrayValue,e.arrayValue);case 10:return function(u,f){var d,g,_,E;const S=u.fields||{},I=f.fields||{},N=(d=S.value)===null||d===void 0?void 0:d.arrayValue,M=(g=I.value)===null||g===void 0?void 0:g.arrayValue,z=Pe(((_=N==null?void 0:N.values)===null||_===void 0?void 0:_.length)||0,((E=M==null?void 0:M.values)===null||E===void 0?void 0:E.length)||0);return z!==0?z:bm(N,M)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===eu.mapValue&&f===eu.mapValue)return 0;if(u===eu.mapValue)return 1;if(f===eu.mapValue)return-1;const d=u.fields||{},g=Object.keys(d),_=f.fields||{},E=Object.keys(_);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const I=Pe(g[S],E[S]);if(I!==0)return I;const N=Ys(d[g[S]],_[E[S]]);if(N!==0)return N}return Pe(g.length,E.length)}(i.mapValue,e.mapValue);default:throw we()}}function Mm(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Pe(i,e);const n=oi(i),s=oi(e),a=Pe(n.seconds,s.seconds);return a!==0?a:Pe(n.nanos,s.nanos)}function bm(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const u=Ys(n[a],s[a]);if(u)return u}return Pe(n.length,s.length)}function Js(i){return Gf(i)}function Gf(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=oi(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return ai(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ve.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const u of n.values||[])a?a=!1:s+=",",s+=Gf(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",u=!0;for(const f of s)u?u=!1:a+=",",a+=`${f}:${Gf(n.fields[f])}`;return a+"}"}(i.mapValue):we()}function lu(i){switch(li(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nu(i);return e?16+lu(e):16;case 5:return 2*i.stringValue.length;case 6:return ai(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,u)=>a+lu(u),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return ci(s.fields,(u,f)=>{a+=u.length+lu(f)}),a}(i.mapValue);default:throw we()}}function Xf(i){return!!i&&"integerValue"in i}function Ih(i){return!!i&&"arrayValue"in i}function Fm(i){return!!i&&"nullValue"in i}function Um(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function uu(i){return!!i&&"mapValue"in i}function fT(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function pa(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ci(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=pa(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pa(i.arrayValue.values[n]);return e}return Object.assign({},i)}function hT(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!uu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pa(n)}setAll(e){let n=Nt.emptyPath(),s={},a=[];e.forEach((f,d)=>{if(!n.isImmediateParentOf(d)){const g=this.getFieldsMap(n);this.applyChanges(g,s,a),s={},a=[],n=d.popLast()}f?s[d.lastSegment()]=pa(f):a.push(d.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,a)}delete(e){const n=this.field(e.popLast());uu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];uu(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){ci(n,(a,u)=>e[a]=u);for(const a of s)delete e[a]}clone(){return new ln(pa(this.value))}}function ty(i){const e=[];return ci(i.fields,(n,s)=>{const a=new Nt([n]);if(uu(s)){const u=ty(s.mapValue).fields;if(u.length===0)e.push(a);else for(const f of u)e.push(a.child(f))}else e.push(a)}),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n,s,a,u,f,d){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=u,this.data=f,this.documentState=d}static newInvalidDocument(e){return new Ut(e,0,Te.min(),Te.min(),Te.min(),ln.empty(),0)}static newFoundDocument(e,n,s,a){return new Ut(e,1,n,Te.min(),s,a,0)}static newNoDocument(e,n){return new Ut(e,2,n,Te.min(),Te.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new Ut(e,3,n,Te.min(),Te.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n){this.position=e,this.inclusive=n}}function zm(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const u=e[a],f=i.position[a];if(u.field.isKeyField()?s=ve.comparator(ve.fromName(f.referenceValue),n.key):s=Ys(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Bm(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Yn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n="asc"){this.field=e,this.dir=n}}function dT(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{}class yt extends ny{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new mT(e,n,s):n==="array-contains"?new _T(e,s):n==="in"?new vT(e,s):n==="not-in"?new ET(e,s):n==="array-contains-any"?new wT(e,s):new yt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new gT(e,s):new yT(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ys(n,this.value)):n!==null&&li(this.value)===li(n)&&this.matchesComparison(Ys(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends ny{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Jn(e,n)}matches(e){return ry(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ry(i){return i.op==="and"}function iy(i){return pT(i)&&ry(i)}function pT(i){for(const e of i.filters)if(e instanceof Jn)return!1;return!0}function Yf(i){if(i instanceof yt)return i.field.canonicalString()+i.op.toString()+Js(i.value);if(iy(i))return i.filters.map(e=>Yf(e)).join(",");{const e=i.filters.map(n=>Yf(n)).join(",");return`${i.op}(${e})`}}function sy(i,e){return i instanceof yt?function(s,a){return a instanceof yt&&s.op===a.op&&s.field.isEqual(a.field)&&Yn(s.value,a.value)}(i,e):i instanceof Jn?function(s,a){return a instanceof Jn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((u,f,d)=>u&&sy(f,a.filters[d]),!0):!1}(i,e):void we()}function oy(i){return i instanceof yt?function(n){return`${n.field.canonicalString()} ${n.op} ${Js(n.value)}`}(i):i instanceof Jn?function(n){return n.op.toString()+" {"+n.getFilters().map(oy).join(" ,")+"}"}(i):"Filter"}class mT extends yt{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class gT extends yt{constructor(e,n){super(e,"in",n),this.keys=ay("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class yT extends yt{constructor(e,n){super(e,"not-in",n),this.keys=ay("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ay(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ve.fromName(s.referenceValue))}class _T extends yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ih(n)&&Ia(n.arrayValue,this.value)}}class vT extends yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ia(this.value.arrayValue,n)}}class ET extends yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ia(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ia(this.value.arrayValue,n)}}class wT extends yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ih(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Ia(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n=null,s=[],a=[],u=null,f=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=u,this.startAt=f,this.endAt=d,this.ue=null}}function jm(i,e=null,n=[],s=[],a=null,u=null,f=null){return new TT(i,e,n,s,a,u,f)}function Sh(i){const e=Ie(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Yf(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),xu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Js(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Js(s)).join(",")),e.ue=n}return e.ue}function Ch(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!dT(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!sy(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Bm(i.startAt,e.startAt)&&Bm(i.endAt,e.endAt)}function Jf(i){return ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n=null,s=[],a=[],u=null,f="F",d=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=u,this.limitType=f,this.startAt=d,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function IT(i,e,n,s,a,u,f,d){return new Du(i,e,n,s,a,u,f,d)}function Rh(i){return new Du(i)}function $m(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function ST(i){return i.collectionGroup!==null}function ma(i){const e=Ie(i);if(e.ce===null){e.ce=[];const n=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let d=new vt(Nt.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(_=>{_.isInequality()&&(d=d.add(_.field))})}),d})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.ce.push(new vu(u,s))}),n.has(Nt.keyField().canonicalString())||e.ce.push(new vu(Nt.keyField(),s))}return e.ce}function Kn(i){const e=Ie(i);return e.le||(e.le=CT(e,ma(i))),e.le}function CT(i,e){if(i.limitType==="F")return jm(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const u=a.dir==="desc"?"asc":"desc";return new vu(a.field,u)});const n=i.endAt?new _u(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new _u(i.startAt.position,i.startAt.inclusive):null;return jm(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Zf(i,e,n){return new Du(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Vu(i,e){return Ch(Kn(i),Kn(e))&&i.limitType===e.limitType}function ly(i){return`${Sh(Kn(i))}|lt:${i.limitType}`}function qs(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>oy(a)).join(", ")}]`),xu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>Js(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>Js(a)).join(",")),`Target(${s})`}(Kn(i))}; limitType=${i.limitType})`}function Lu(i,e){return e.isFoundDocument()&&function(s,a){const u=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ve.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,a){for(const u of ma(s))if(!u.field.isKeyField()&&a.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const u of s.filters)if(!u.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(f,d,g){const _=zm(f,d,g);return f.inclusive?_<=0:_<0}(s.startAt,ma(s),a)||s.endAt&&!function(f,d,g){const _=zm(f,d,g);return f.inclusive?_>=0:_>0}(s.endAt,ma(s),a))}(i,e)}function RT(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function uy(i){return(e,n)=>{let s=!1;for(const a of ma(i)){const u=AT(a,e,n);if(u!==0)return u;s=s||a.field.isKeyField()}return 0}}function AT(i,e,n){const s=i.field.isKeyField()?ve.comparator(e.key,n.key):function(u,f,d){const g=f.data.field(u),_=d.data.field(u);return g!==null&&_!==null?Ys(g,_):we()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,u]of s)if(this.equalsFn(a,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ci(this.inner,(n,s)=>{for(const[a,u]of s)e(a,u)})}isEmpty(){return Zg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=new nt(ve.comparator);function Sr(){return kT}const cy=new nt(ve.comparator);function ca(...i){let e=cy;for(const n of i)e=e.insert(n.key,n);return e}function fy(i){let e=cy;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function zi(){return ga()}function hy(){return ga()}function ga(){return new Wi(i=>i.toString(),(i,e)=>i.isEqual(e))}const PT=new nt(ve.comparator),xT=new vt(ve.comparator);function Ae(...i){let e=xT;for(const n of i)e=e.add(n);return e}const NT=new vt(Pe);function DT(){return NT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yu(e)?"-0":e}}function dy(i){return{integerValue:""+i}}function VT(i,e){return oT(e)?dy(e):Ah(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(){this._=void 0}}function LT(i,e,n){return i instanceof Eu?function(a,u){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return u&&Th(u)&&(u=Nu(u)),u&&(f.fields.__previous_value__=u),{mapValue:f}}(n,e):i instanceof Sa?my(i,e):i instanceof Ca?gy(i,e):function(a,u){const f=py(a,u),d=qm(f)+qm(a.Pe);return Xf(f)&&Xf(a.Pe)?dy(d):Ah(a.serializer,d)}(i,e)}function OT(i,e,n){return i instanceof Sa?my(i,e):i instanceof Ca?gy(i,e):n}function py(i,e){return i instanceof wu?function(s){return Xf(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Eu extends Ou{}class Sa extends Ou{constructor(e){super(),this.elements=e}}function my(i,e){const n=yy(e);for(const s of i.elements)n.some(a=>Yn(a,s))||n.push(s);return{arrayValue:{values:n}}}class Ca extends Ou{constructor(e){super(),this.elements=e}}function gy(i,e){let n=yy(e);for(const s of i.elements)n=n.filter(a=>!Yn(a,s));return{arrayValue:{values:n}}}class wu extends Ou{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function qm(i){return ot(i.integerValue||i.doubleValue)}function yy(i){return Ih(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function MT(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof Sa&&a instanceof Sa||s instanceof Ca&&a instanceof Ca?Xs(s.elements,a.elements,Yn):s instanceof wu&&a instanceof wu?Yn(s.Pe,a.Pe):s instanceof Eu&&a instanceof Eu}(i.transform,e.transform)}class bT{constructor(e,n){this.version=e,this.transformResults=n}}class wr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wr}static exists(e){return new wr(void 0,e)}static updateTime(e){return new wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cu(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Mu{}function _y(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Ey(i.key,wr.none()):new bu(i.key,i.data,wr.none());{const n=i.data,s=ln.empty();let a=new vt(Nt.comparator);for(let u of e.fields)if(!a.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),a=a.add(u)}return new Qi(i.key,s,new On(a.toArray()),wr.none())}}function FT(i,e,n){i instanceof bu?function(a,u,f){const d=a.value.clone(),g=Wm(a.fieldTransforms,u,f.transformResults);d.setAll(g),u.convertToFoundDocument(f.version,d).setHasCommittedMutations()}(i,e,n):i instanceof Qi?function(a,u,f){if(!cu(a.precondition,u))return void u.convertToUnknownDocument(f.version);const d=Wm(a.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(vy(a)),g.setAll(d),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(i,e,n):function(a,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function ya(i,e,n,s){return i instanceof bu?function(u,f,d,g){if(!cu(u.precondition,f))return d;const _=u.value.clone(),E=Qm(u.fieldTransforms,g,f);return _.setAll(E),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(i,e,n,s):i instanceof Qi?function(u,f,d,g){if(!cu(u.precondition,f))return d;const _=Qm(u.fieldTransforms,g,f),E=f.data;return E.setAll(vy(u)),E.setAll(_),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(i,e,n,s):function(u,f,d){return cu(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):d}(i,e,n)}function UT(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),u=py(s.transform,a||null);u!=null&&(n===null&&(n=ln.empty()),n.set(s.field,u))}return n||null}function Hm(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Xs(s,a,(u,f)=>MT(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class bu extends Mu{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Qi extends Mu{constructor(e,n,s,a,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function vy(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function Wm(i,e,n){const s=new Map;ze(i.length===n.length);for(let a=0;a<n.length;a++){const u=i[a],f=u.transform,d=e.data.field(u.field);s.set(u.field,OT(f,d,n[a]))}return s}function Qm(i,e,n){const s=new Map;for(const a of i){const u=a.transform,f=n.data.field(a.field);s.set(a.field,LT(u,f,e))}return s}class Ey extends Mu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zT extends Mu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&FT(u,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ya(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ya(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=hy();return this.mutations.forEach(a=>{const u=e.get(a.key),f=u.overlayedDocument;let d=this.applyToLocalView(f,u.mutatedFields);d=n.has(a.key)?null:d;const g=_y(f,d);g!==null&&s.set(a.key,g),f.isValidDocument()||f.convertToNoDocument(Te.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ae())}isEqual(e){return this.batchId===e.batchId&&Xs(this.mutations,e.mutations,(n,s)=>Hm(n,s))&&Xs(this.baseMutations,e.baseMutations,(n,s)=>Hm(n,s))}}class kh{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){ze(e.mutations.length===s.length);let a=function(){return PT}();const u=e.mutations;for(let f=0;f<u.length;f++)a=a.insert(u[f].key,s[f].version);return new kh(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,De;function qT(i){switch(i){default:return we();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function wy(i){if(i===void 0)return Ir("GRPC error has no .code"),J.UNKNOWN;switch(i){case ut.OK:return J.OK;case ut.CANCELLED:return J.CANCELLED;case ut.UNKNOWN:return J.UNKNOWN;case ut.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case ut.INTERNAL:return J.INTERNAL;case ut.UNAVAILABLE:return J.UNAVAILABLE;case ut.UNAUTHENTICATED:return J.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case ut.NOT_FOUND:return J.NOT_FOUND;case ut.ALREADY_EXISTS:return J.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return J.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case ut.ABORTED:return J.ABORTED;case ut.OUT_OF_RANGE:return J.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return J.UNIMPLEMENTED;case ut.DATA_LOSS:return J.DATA_LOSS;default:return we()}}(De=ut||(ut={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=new ti([4294967295,4294967295],0);function Km(i){const e=HT().encode(i),n=new Hg;return n.update(e),new Uint8Array(n.digest())}function Gm(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ti([n,s],0),new ti([a,u],0)]}class Ph{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new fa(`Invalid padding: ${n}`);if(s<0)throw new fa(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new fa(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new fa(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=ti.fromNumber(this.Te)}de(e,n,s){let a=e.add(n.multiply(ti.fromNumber(s)));return a.compare(WT)===1&&(a=new ti([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Km(e),[s,a]=Gm(n);for(let u=0;u<this.hashCount;u++){const f=this.de(s,a,u);if(!this.Ee(f))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Ph(u,a,n);return s.forEach(d=>f.insert(d)),f}insert(e){if(this.Te===0)return;const n=Km(e),[s,a]=Gm(n);for(let u=0;u<this.hashCount;u++){const f=this.de(s,a,u);this.Ae(f)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class fa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n,s,a,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,xa.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Fu(Te.min(),a,new nt(Pe),Sr(),Ae())}}class xa{constructor(e,n,s,a,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new xa(s,n,Ae(),Ae(),Ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n,s,a){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=a}}class Ty{constructor(e,n){this.targetId=e,this.me=n}}class Iy{constructor(e,n,s=Dt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Xm{constructor(){this.fe=0,this.ge=Ym(),this.pe=Dt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ae(),n=Ae(),s=Ae();return this.ge.forEach((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:we()}}),new xa(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=Ym()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class QT{constructor(e){this.Be=e,this.Le=new Map,this.ke=Sr(),this.qe=tu(),this.Qe=tu(),this.Ke=new nt(Pe)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(e.resumeToken));break;default:we()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Le.forEach((s,a)=>{this.je(a)&&n(a)})}Je(e){const n=e.targetId,s=e.me.count,a=this.Ye(n);if(a){const u=a.target;if(Jf(u))if(s===0){const f=new ve(u.path);this.We(n,f,Ut.newNoDocument(f,Te.min()))}else ze(s===1);else{const f=this.Ze(n);if(f!==s){const d=this.Xe(e),g=d?this.et(d,e,f):1;if(g!==0){this.He(n);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,_)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:u=0}=n;let f,d;try{f=ai(s).toUint8Array()}catch(g){if(g instanceof ey)return Gs("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new Ph(f,a,u)}catch(g){return Gs(g instanceof fa?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return d.Te===0?null:d}et(e,n,s){return n.me.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Be.getRemoteKeysForTarget(n);let a=0;return s.forEach(u=>{const f=this.Be.nt(),d=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.We(n,u,null),a++)}),a}it(e){const n=new Map;this.Le.forEach((u,f)=>{const d=this.Ye(f);if(d){if(u.current&&Jf(d.target)){const g=new ve(d.target.path);this.st(g).has(f)||this.ot(f,g)||this.We(f,g,Ut.newNoDocument(g,e))}u.be&&(n.set(f,u.ve()),u.Ce())}});let s=Ae();this.Qe.forEach((u,f)=>{let d=!0;f.forEachWhile(g=>{const _=this.Ye(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(u))}),this.ke.forEach((u,f)=>f.setReadTime(e));const a=new Fu(e,n,this.Ke,this.ke,s);return this.ke=Sr(),this.qe=tu(),this.Qe=tu(),this.Ke=new nt(Pe),a}Ue(e,n){if(!this.je(e))return;const s=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const a=this.ze(e);this.ot(e,n)?a.Fe(n,1):a.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Le.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Le.get(e);return n||(n=new Xm,this.Le.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new vt(Pe),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new vt(Pe),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Le.get(e);return n&&n.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new Xm),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function tu(){return new nt(ve.comparator)}function Ym(){return new nt(ve.comparator)}const KT={asc:"ASCENDING",desc:"DESCENDING"},GT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XT={and:"AND",or:"OR"};class YT{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function eh(i,e){return i.useProto3Json||xu(e)?e:{value:e}}function Tu(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Sy(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function JT(i,e){return Tu(i,e.toTimestamp())}function Gn(i){return ze(!!i),Te.fromTimestamp(function(n){const s=oi(n);return new _t(s.seconds,s.nanos)}(i))}function xh(i,e){return th(i,e).canonicalString()}function th(i,e){const n=function(a){return new Ye(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function Cy(i){const e=Ye.fromString(i);return ze(xy(e)),e}function nh(i,e){return xh(i.databaseId,e.path)}function Mf(i,e){const n=Cy(e);if(n.get(1)!==i.databaseId.projectId)throw new pe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new pe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ve(Ay(n))}function Ry(i,e){return xh(i.databaseId,e)}function ZT(i){const e=Cy(i);return e.length===4?Ye.emptyPath():Ay(e)}function rh(i){return new Ye(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Ay(i){return ze(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function Jm(i,e,n){return{name:nh(i,e),fields:n.value.mapValue.fields}}function e1(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],u=function(_,E){return _.useProto3Json?(ze(E===void 0||typeof E=="string"),Dt.fromBase64String(E||"")):(ze(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Dt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,d=f&&function(_){const E=_.code===void 0?J.UNKNOWN:wy(_.code);return new pe(E,_.message||"")}(f);n=new Iy(s,a,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Mf(i,s.document.name),u=Gn(s.document.updateTime),f=s.document.createTime?Gn(s.document.createTime):Te.min(),d=new ln({mapValue:{fields:s.document.fields}}),g=Ut.newFoundDocument(a,u,f,d),_=s.targetIds||[],E=s.removedTargetIds||[];n=new fu(_,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Mf(i,s.document),u=s.readTime?Gn(s.readTime):Te.min(),f=Ut.newNoDocument(a,u),d=s.removedTargetIds||[];n=new fu([],d,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Mf(i,s.document),u=s.removedTargetIds||[];n=new fu([],u,a,null)}else{if(!("filter"in e))return we();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:u}=s,f=new $T(a,u),d=s.targetId;n=new Ty(d,f)}}return n}function t1(i,e){let n;if(e instanceof bu)n={update:Jm(i,e.key,e.value)};else if(e instanceof Ey)n={delete:nh(i,e.key)};else if(e instanceof Qi)n={update:Jm(i,e.key,e.data),updateMask:c1(e.fieldMask)};else{if(!(e instanceof zT))return we();n={verify:nh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const d=f.transform;if(d instanceof Eu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Sa)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ca)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof wu)return{fieldPath:f.field.canonicalString(),increment:d.Pe};throw we()}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,u){return u.updateTime!==void 0?{updateTime:JT(a,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we()}(i,e.precondition)),n}function n1(i,e){return i&&i.length>0?(ze(e!==void 0),i.map(n=>function(a,u){let f=a.updateTime?Gn(a.updateTime):Gn(u);return f.isEqual(Te.min())&&(f=Gn(u)),new bT(f,a.transformResults||[])}(n,e))):[]}function r1(i,e){return{documents:[Ry(i,e.path)]}}function i1(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Ry(i,a);const u=function(_){if(_.length!==0)return Py(Jn.create(_,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(_){if(_.length!==0)return _.map(E=>function(I){return{field:Hs(I.field),direction:a1(I.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const d=eh(i,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ct:n,parent:a}}function s1(i){let e=ZT(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){ze(s===1);const E=n.from[0];E.allDescendants?a=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(S){const I=ky(S);return I instanceof Jn&&iy(I)?I.getFilters():[I]}(n.where));let f=[];n.orderBy&&(f=function(S){return S.map(I=>function(M){return new vu(Ws(M.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(I))}(n.orderBy));let d=null;n.limit&&(d=function(S){let I;return I=typeof S=="object"?S.value:S,xu(I)?null:I}(n.limit));let g=null;n.startAt&&(g=function(S){const I=!!S.before,N=S.values||[];return new _u(N,I)}(n.startAt));let _=null;return n.endAt&&(_=function(S){const I=!S.before,N=S.values||[];return new _u(N,I)}(n.endAt)),IT(e,a,f,u,d,"F",g,_)}function o1(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ky(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ws(n.unaryFilter.field);return yt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ws(n.unaryFilter.field);return yt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ws(n.unaryFilter.field);return yt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ws(n.unaryFilter.field);return yt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(i):i.fieldFilter!==void 0?function(n){return yt.create(Ws(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Jn.create(n.compositeFilter.filters.map(s=>ky(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return we()}}(n.compositeFilter.op))}(i):we()}function a1(i){return KT[i]}function l1(i){return GT[i]}function u1(i){return XT[i]}function Hs(i){return{fieldPath:i.canonicalString()}}function Ws(i){return Nt.fromServerFormat(i.fieldPath)}function Py(i){return i instanceof yt?function(n){if(n.op==="=="){if(Um(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NAN"}};if(Fm(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Um(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NOT_NAN"}};if(Fm(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hs(n.field),op:l1(n.op),value:n.value}}}(i):i instanceof Jn?function(n){const s=n.getFilters().map(a=>Py(a));return s.length===1?s[0]:{compositeFilter:{op:u1(n.op),filters:s}}}(i):we()}function c1(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function xy(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n,s,a,u=Te.min(),f=Te.min(),d=Dt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(e){return new Jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e){this.ht=e}}function h1(i){const e=s1({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Zf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.ln=new p1}addToCollectionParentIndex(e,n){return this.ln.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(si.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(si.min())}updateCollectionGroup(e,n,s){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class p1{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new vt(Ye.comparator),u=!a.has(s);return this.index[n]=a.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new vt(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Zt{static withCacheSize(e){return new Zt(e,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zt.DEFAULT_COLLECTION_PERCENTILE=10,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zt.DEFAULT=new Zt(41943040,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zt.DISABLED=new Zt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Zs(0)}static Qn(){return new Zs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg([i,e],[n,s]){const a=Pe(i,n);return a===0?Pe(e,s):a}class m1{constructor(e){this.Gn=e,this.buffer=new vt(eg),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();eg(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class g1{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ae("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ao(n)?ae("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await oo(n)}await this.Yn(3e5)})}}class y1{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return K.resolve(Pu.oe);const s=new m1(n);return this.Zn.forEachTarget(e,a=>s.Hn(a.sequenceNumber)).next(()=>this.Zn.er(e,a=>s.Hn(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Zm)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zm):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,a,u,f,d,g,_;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),a=this.params.maximumSequenceNumbersToCollect):a=S,f=Date.now(),this.nthSequenceNumber(e,a))).next(S=>(s=S,d=Date.now(),this.removeTargets(e,s,n))).next(S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(_=Date.now(),$s()<=Ve.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${a} in `+(d-f)+`ms
	Removed ${u} targets in `+(g-d)+`ms
	Removed ${S} documents in `+(_-g)+`ms
Total Duration: ${_-E}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:S})))}}function _1(i,e){return new y1(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(){this.changes=new Wi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?K.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&ya(s.mutation,a,On.empty(),_t.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ae()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ae()){const a=zi();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(u=>{let f=ca();return u.forEach((d,g)=>{f=f.insert(d,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=zi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ae()))}populateOverlays(e,n,s){const a=[];return s.forEach(u=>{n.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(e,a).next(u=>{u.forEach((f,d)=>{n.set(f,d)})})}computeViews(e,n,s,a){let u=Sr();const f=ga(),d=function(){return ga()}();return n.forEach((g,_)=>{const E=s.get(_.key);a.has(_.key)&&(E===void 0||E.mutation instanceof Qi)?u=u.insert(_.key,_):E!==void 0?(f.set(_.key,E.mutation.getFieldMask()),ya(E.mutation,_,E.mutation.getFieldMask(),_t.now())):f.set(_.key,On.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((_,E)=>f.set(_,E)),n.forEach((_,E)=>{var S;return d.set(_,new E1(E,(S=f.get(_))!==null&&S!==void 0?S:null))}),d))}recalculateAndSaveOverlays(e,n){const s=ga();let a=new nt((f,d)=>f-d),u=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const d of f)d.keys().forEach(g=>{const _=n.get(g);if(_===null)return;let E=s.get(g)||On.empty();E=d.applyToLocalView(_,E),s.set(g,E);const S=(a.get(d.batchId)||Ae()).add(g);a=a.insert(d.batchId,S)})}).next(()=>{const f=[],d=a.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),_=g.key,E=g.value,S=hy();E.forEach(I=>{if(!u.has(I)){const N=_y(n.get(I),s.get(I));N!==null&&S.set(I,N),u=u.add(I)}}),f.push(this.documentOverlayCache.saveOverlays(e,_,S))}return K.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(f){return ve.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ST(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(u=>{const f=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-u.size):K.resolve(zi());let d=-1,g=u;return f.next(_=>K.forEach(_,(E,S)=>(d<S.largestBatchId&&(d=S.largestBatchId),u.get(E)?K.resolve():this.remoteDocumentCache.getEntry(e,E).next(I=>{g=g.insert(E,I)}))).next(()=>this.populateOverlays(e,_,u)).next(()=>this.computeViews(e,g,_,Ae())).next(E=>({batchId:d,changes:fy(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(s=>{let a=ca();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const u=n.collectionGroup;let f=ca();return this.indexManager.getCollectionParents(e,u).next(d=>K.forEach(d,g=>{const _=function(S,I){return new Du(I,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,s,a).next(E=>{E.forEach((S,I)=>{f=f.insert(S,I)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,a){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,a))).next(f=>{u.forEach((g,_)=>{const E=_.getKey();f.get(E)===null&&(f=f.insert(E,Ut.newInvalidDocument(E)))});let d=ca();return f.forEach((g,_)=>{const E=u.get(g);E!==void 0&&ya(E.mutation,_,On.empty(),_t.now()),Lu(n,_)&&(d=d.insert(g,_))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return K.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Gn(a.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(a){return{name:a.name,query:h1(a.bundledQuery),readTime:Gn(a.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(){this.overlays=new nt(ve.comparator),this.dr=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const s=zi();return K.forEach(n,a=>this.getOverlay(e,a).next(u=>{u!==null&&s.set(a,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,u)=>{this.Tt(e,n,u)}),K.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.dr.get(s);return a!==void 0&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.dr.delete(s)),K.resolve()}getOverlaysForCollection(e,n,s){const a=zi(),u=n.length+1,f=new ve(n.child("")),d=this.overlays.getIteratorFrom(f);for(;d.hasNext();){const g=d.getNext().value,_=g.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&g.largestBatchId>s&&a.set(g.getKey(),g)}return K.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let u=new nt((_,E)=>_-E);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let E=u.get(_.largestBatchId);E===null&&(E=zi(),u=u.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const d=zi(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((_,E)=>d.set(_,E)),!(d.size()>=a)););return K.resolve(d)}Tt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const f=this.dr.get(a.largestBatchId).delete(s.key);this.dr.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new jT(n,s));let u=this.dr.get(n);u===void 0&&(u=Ae(),this.dr.set(n,u)),this.dr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(){this.sessionToken=Dt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(){this.Er=new vt(Ct.Ar),this.Rr=new vt(Ct.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,n){const s=new Ct(e,n);this.Er=this.Er.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.gr(new Ct(e,n))}pr(e,n){e.forEach(s=>this.removeReference(s,n))}yr(e){const n=new ve(new Ye([])),s=new Ct(n,e),a=new Ct(n,e+1),u=[];return this.Rr.forEachInRange([s,a],f=>{this.gr(f),u.push(f.key)}),u}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new ve(new Ye([])),s=new Ct(n,e),a=new Ct(n,e+1);let u=Ae();return this.Rr.forEachInRange([s,a],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Ct(e,0),s=this.Er.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ct{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return ve.comparator(e.key,n.key)||Pe(e.br,n.br)}static Vr(e,n){return Pe(e.br,n.br)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new vt(Ct.Ar)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const u=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new BT(u,n,s,a);this.mutationQueue.push(f);for(const d of a)this.vr=this.vr.add(new Ct(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return K.resolve(f)}lookupMutationBatch(e,n){return K.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Fr(s),u=a<0?0:a;return K.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ct(n,0),a=new Ct(n,Number.POSITIVE_INFINITY),u=[];return this.vr.forEachInRange([s,a],f=>{const d=this.Cr(f.br);u.push(d)}),K.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new vt(Pe);return n.forEach(a=>{const u=new Ct(a,0),f=new Ct(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([u,f],d=>{s=s.add(d.br)})}),K.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let u=s;ve.isDocumentKey(u)||(u=u.child(""));const f=new Ct(new ve(u),0);let d=new vt(Pe);return this.vr.forEachWhile(g=>{const _=g.key.path;return!!s.isPrefixOf(_)&&(_.length===a&&(d=d.add(g.br)),!0)},f),K.resolve(this.Mr(d))}Mr(e){const n=[];return e.forEach(s=>{const a=this.Cr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){ze(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return K.forEach(n.mutations,a=>{const u=new Ct(a.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.vr=s})}Bn(e){}containsKey(e,n){const s=new Ct(n,0),a=this.vr.firstAfterOrEqual(s);return K.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){this.Nr=e,this.docs=function(){return new nt(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),u=a?a.size:0,f=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return K.resolve(s?s.document.mutableCopy():Ut.newInvalidDocument(n))}getEntries(e,n){let s=Sr();return n.forEach(a=>{const u=this.docs.get(a);s=s.insert(a,u?u.document.mutableCopy():Ut.newInvalidDocument(a))}),K.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let u=Sr();const f=n.path,d=new ve(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:_,value:{document:E}}=g.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||nT(tT(E),s)<=0||(a.has(E.key)||Lu(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return K.resolve(u)}getAllFromCollectionGroup(e,n,s,a){we()}Br(e,n){return K.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new A1(this)}getSize(e){return K.resolve(this.size)}}class A1 extends v1{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.hr.addEntry(e,a)):this.hr.removeEntry(s)}),K.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e){this.persistence=e,this.Lr=new Wi(n=>Sh(n),Ch),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.kr=0,this.qr=new Nh,this.targetCount=0,this.Qr=Zs.qn()}forEachTarget(e,n){return this.Lr.forEach((s,a)=>n(a)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),K.resolve()}Un(e){this.Lr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Zs(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.Un(n),K.resolve()}removeTargetData(e,n){return this.Lr.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,s){let a=0;const u=[];return this.Lr.forEach((f,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.Lr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),K.waitFor(u).next(()=>a)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const s=this.Lr.get(n)||null;return K.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),K.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const a=this.persistence.referenceDelegate,u=[];return a&&n.forEach(f=>{u.push(a.markPotentiallyOrphaned(e,f))}),K.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),K.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return K.resolve(s)}containsKey(e,n){return K.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Pu(0),this.Ur=!1,this.Ur=!0,this.Wr=new S1,this.referenceDelegate=e(this),this.Gr=new k1(this),this.indexManager=new d1,this.remoteDocumentCache=function(a){return new R1(a)}(s=>this.referenceDelegate.zr(s)),this.serializer=new f1(n),this.jr=new T1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new I1,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new C1(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){ae("MemoryPersistence","Starting transaction:",e);const a=new P1(this.$r.next());return this.referenceDelegate.Hr(),s(a).next(u=>this.referenceDelegate.Jr(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}Yr(e,n){return K.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,n)))}}class P1 extends iT{constructor(e){super(),this.currentSequenceNumber=e}}class Dh{constructor(e){this.persistence=e,this.Zr=new Nh,this.Xr=null}static ei(e){return new Dh(e)}get ti(){if(this.Xr)return this.Xr;throw we()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),K.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),K.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(a=>this.ti.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(u=>this.ti.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.ti,s=>{const a=ve.fromPath(s);return this.ni(e,a).next(u=>{u||n.removeEntry(a,Te.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return K.or([()=>K.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Iu{constructor(e,n){this.persistence=e,this.ri=new Wi(s=>aT(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=_1(this,n)}static ei(e,n){return new Iu(e,n)}Hr(){}Jr(e){return K.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}nr(e){let n=0;return this.er(e,s=>{n++}).next(()=>n)}er(e,n){return K.forEach(this.ri,(s,a)=>this.ir(e,s,a).next(u=>u?K.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),u=a.newChangeBuffer();return a.Br(e,f=>this.ir(e,f,n).next(d=>{d||(s++,u.removeEntry(f,Te.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),K.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),K.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),K.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=lu(e.data.value)),n}ir(e,n,s){return K.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.ri.get(n);return K.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=a}static zi(e,n){let s=Ae(),a=Ae();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new Vh(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return P0()?8:sT(A0())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,a){const u={result:null};return this.Xi(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.es(e,n,a,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new x1;return this.ts(e,n,f).next(d=>{if(u.result=d,this.Hi)return this.ns(e,n,f,d.size)})}).next(()=>u.result)}ns(e,n,s,a){return s.documentReadCount<this.Ji?($s()<=Ve.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",qs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),K.resolve()):($s()<=Ve.DEBUG&&ae("QueryEngine","Query:",qs(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Yi*a?($s()<=Ve.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",qs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kn(n))):K.resolve())}Xi(e,n){if($m(n))return K.resolve(null);let s=Kn(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Zf(n,null,"F"),s=Kn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ae(...u);return this.Zi.getDocuments(e,f).next(d=>this.indexManager.getMinOffset(e,s).next(g=>{const _=this.rs(n,d);return this.ss(n,_,f,g.readTime)?this.Xi(e,Zf(n,null,"F")):this.os(e,_,n,g)}))})))}es(e,n,s,a){return $m(n)||a.isEqual(Te.min())?K.resolve(null):this.Zi.getDocuments(e,s).next(u=>{const f=this.rs(n,u);return this.ss(n,f,s,a)?K.resolve(null):($s()<=Ve.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),qs(n)),this.os(e,f,n,eT(a,-1)).next(d=>d))})}rs(e,n){let s=new vt(uy(e));return n.forEach((a,u)=>{Lu(e,u)&&(s=s.add(u))}),s}ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}ts(e,n,s){return $s()<=Ve.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",qs(n)),this.Zi.getDocumentsMatchingQuery(e,n,si.min(),s)}os(e,n,s,a){return this.Zi.getDocumentsMatchingQuery(e,s,a).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,n,s,a){this.persistence=e,this._s=n,this.serializer=a,this.us=new nt(Pe),this.cs=new Wi(u=>Sh(u),Ch),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new w1(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function V1(i,e,n,s){return new D1(i,e,n,s)}async function Dy(i,e){const n=Ie(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(u=>(a=u,n.Ps(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],d=[];let g=Ae();for(const _ of a){f.push(_.batchId);for(const E of _.mutations)g=g.add(E.key)}for(const _ of u){d.push(_.batchId);for(const E of _.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next(_=>({Ts:_,removedBatchIds:f,addedBatchIds:d}))})})}function L1(i,e){const n=Ie(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),u=n.hs.newChangeBuffer({trackRemovals:!0});return function(d,g,_,E){const S=_.batch,I=S.keys();let N=K.resolve();return I.forEach(M=>{N=N.next(()=>E.getEntry(g,M)).next(z=>{const L=_.docVersions.get(M);ze(L!==null),z.version.compareTo(L)<0&&(S.applyToRemoteDocument(z,_),z.isValidDocument()&&(z.setReadTime(_.commitVersion),E.addEntry(z)))})}),N.next(()=>d.mutationQueue.removeMutationBatch(g,S))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let g=Ae();for(let _=0;_<d.mutationResults.length;++_)d.mutationResults[_].transformResults.length>0&&(g=g.add(d.batch.mutations[_].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function Vy(i){const e=Ie(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function O1(i,e){const n=Ie(i),s=e.snapshotVersion;let a=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.hs.newChangeBuffer({trackRemovals:!0});a=n.us;const d=[];e.targetChanges.forEach((E,S)=>{const I=a.get(S);if(!I)return;d.push(n.Gr.removeMatchingKeys(u,E.removedDocuments,S).next(()=>n.Gr.addMatchingKeys(u,E.addedDocuments,S)));let N=I.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?N=N.withResumeToken(Dt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):E.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(E.resumeToken,s)),a=a.insert(S,N),function(z,L,H){return z.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(I,N,E)&&d.push(n.Gr.updateTargetData(u,N))});let g=Sr(),_=Ae();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),d.push(M1(u,f,e.documentUpdates).next(E=>{g=E.Is,_=E.ds})),!s.isEqual(Te.min())){const E=n.Gr.getLastRemoteSnapshotVersion(u).next(S=>n.Gr.setTargetsMetadata(u,u.currentSequenceNumber,s));d.push(E)}return K.waitFor(d).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,_)).next(()=>g)}).then(u=>(n.us=a,u))}function M1(i,e,n){let s=Ae(),a=Ae();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=Sr();return n.forEach((d,g)=>{const _=u.get(d);g.isFoundDocument()!==_.isFoundDocument()&&(a=a.add(d)),g.isNoDocument()&&g.version.isEqual(Te.min())?(e.removeEntry(d,g.readTime),f=f.insert(d,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),f=f.insert(d,g)):ae("LocalStore","Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",g.version)}),{Is:f,ds:a}})}function b1(i,e){const n=Ie(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function F1(i,e){const n=Ie(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Gr.getTargetData(s,e).next(u=>u?(a=u,K.resolve(a)):n.Gr.allocateTargetId(s).next(f=>(a=new Jr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.us.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(e,s.targetId)),s})}async function ih(i,e,n){const s=Ie(i),a=s.us.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,a))}catch(f){if(!ao(f))throw f;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.us=s.us.remove(e),s.cs.delete(a.target)}function tg(i,e,n){const s=Ie(i);let a=Te.min(),u=Ae();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,_,E){const S=Ie(g),I=S.cs.get(E);return I!==void 0?K.resolve(S.us.get(I)):S.Gr.getTargetData(_,E)}(s,f,Kn(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(f,d.targetId).next(g=>{u=g})}).next(()=>s._s.getDocumentsMatchingQuery(f,e,n?a:Te.min(),n?u:Ae())).next(d=>(U1(s,RT(e),d),{documents:d,Es:u})))}function U1(i,e,n){let s=i.ls.get(e)||Te.min();n.forEach((a,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.ls.set(e,s)}class ng{constructor(){this.activeTargetIds=DT()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class z1{constructor(){this._o=new ng,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new ng,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nu=null;function bf(){return nu===null?nu=function(){return 268435456+Math.round(2147483648*Math.random())}():nu++,"0x"+nu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt="WebChannelConnection";class q1 extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${a}/databases/${u}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${u}`}Oo(n,s,a,u,f){const d=bf(),g=this.No(n,s.toUriEncodedString());ae("RestConnection",`Sending RPC '${n}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(_,u,f),this.Lo(n,g,_,a).then(E=>(ae("RestConnection",`Received RPC '${n}' ${d}: `,E),E),E=>{throw Gs("RestConnection",`RPC '${n}' ${d} failed with error: `,E,"url: ",g,"request:",a),E})}ko(n,s,a,u,f,d){return this.Oo(n,s,a,u,f)}Bo(n,s,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+so}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((u,f)=>n[f]=u),a&&a.headers.forEach((u,f)=>n[f]=u)}No(n,s){const a=j1[n];return`${this.Fo}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,n,s,a){const u=bf();return new Promise((f,d)=>{const g=new Wg;g.setWithCredentials(!0),g.listenOnce(Qg.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case au.NO_ERROR:const E=g.getResponseJson();ae(bt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case au.TIMEOUT:ae(bt,`RPC '${e}' ${u} timed out`),d(new pe(J.DEADLINE_EXCEEDED,"Request time out"));break;case au.HTTP_ERROR:const S=g.getStatus();if(ae(bt,`RPC '${e}' ${u} failed with status:`,S,"response text:",g.getResponseText()),S>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const N=I==null?void 0:I.error;if(N&&N.status&&N.message){const M=function(L){const H=L.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(H)>=0?H:J.UNKNOWN}(N.status);d(new pe(M,N.message))}else d(new pe(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new pe(J.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{ae(bt,`RPC '${e}' ${u} completed.`)}});const _=JSON.stringify(a);ae(bt,`RPC '${e}' ${u} sending request:`,a),g.send(n,"POST",_,s,15)})}qo(e,n,s){const a=bf(),u=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Xg(),d=Gg(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Bo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");ae(bt,`Creating RPC '${e}' stream ${a}: ${E}`,g);const S=f.createWebChannel(E,g);let I=!1,N=!1;const M=new $1({Eo:L=>{N?ae(bt,`Not sending because RPC '${e}' stream ${a} is closed:`,L):(I||(ae(bt,`Opening RPC '${e}' stream ${a} transport.`),S.open(),I=!0),ae(bt,`RPC '${e}' stream ${a} sending:`,L),S.send(L))},Ao:()=>S.close()}),z=(L,H,q)=>{L.listen(H,Q=>{try{q(Q)}catch(te){setTimeout(()=>{throw te},0)}})};return z(S,ua.EventType.OPEN,()=>{N||(ae(bt,`RPC '${e}' stream ${a} transport opened.`),M.So())}),z(S,ua.EventType.CLOSE,()=>{N||(N=!0,ae(bt,`RPC '${e}' stream ${a} transport closed`),M.Do())}),z(S,ua.EventType.ERROR,L=>{N||(N=!0,Gs(bt,`RPC '${e}' stream ${a} transport errored:`,L),M.Do(new pe(J.UNAVAILABLE,"The operation could not be completed")))}),z(S,ua.EventType.MESSAGE,L=>{var H;if(!N){const q=L.data[0];ze(!!q);const Q=q,te=(Q==null?void 0:Q.error)||((H=Q[0])===null||H===void 0?void 0:H.error);if(te){ae(bt,`RPC '${e}' stream ${a} received error:`,te);const he=te.status;let me=function(R){const P=ut[R];if(P!==void 0)return wy(P)}(he),k=te.message;me===void 0&&(me=J.INTERNAL,k="Unknown error status: "+he+" with message "+te.message),N=!0,M.Do(new pe(me,k)),S.close()}else ae(bt,`RPC '${e}' stream ${a} received:`,q),M.vo(q)}}),z(d,Kg.STAT_EVENT,L=>{L.stat===Kf.PROXY?ae(bt,`RPC '${e}' stream ${a} detected buffering proxy`):L.stat===Kf.NOPROXY&&ae(bt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{M.bo()},0),M}}function Ff(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(i){return new YT(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n,s=1e3,a=1.5,u=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=a,this.$o=u,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),a=Math.max(0,n-s);a>0&&ae("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,n,s,a,u,f,d,g){this.li=e,this.Yo=s,this.Zo=a,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Ly(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Ir(n.toString()),Ir("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Xo===n&&this.I_(s,a)},s=>{e(()=>{const a=new pe(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.d_(a)})})}I_(e,n){const s=this.T_(this.Xo);this.stream=this.E_(e,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{s(()=>this.d_(a))}),this.stream.onMessage(a=>{s(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class H1 extends Oy{constructor(e,n,s,a,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,f),this.serializer=u}E_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=e1(this.serializer,e),s=function(u){if(!("targetChange"in u))return Te.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Te.min():f.readTime?Gn(f.readTime):Te.min()}(e);return this.listener.R_(n,s)}V_(e){const n={};n.database=rh(this.serializer),n.addTarget=function(u,f){let d;const g=f.target;if(d=Jf(g)?{documents:r1(u,g)}:{query:i1(u,g).ct},d.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){d.resumeToken=Sy(u,f.resumeToken);const _=eh(u,f.expectedCount);_!==null&&(d.expectedCount=_)}else if(f.snapshotVersion.compareTo(Te.min())>0){d.readTime=Tu(u,f.snapshotVersion.toTimestamp());const _=eh(u,f.expectedCount);_!==null&&(d.expectedCount=_)}return d}(this.serializer,e);const s=o1(this.serializer,e);s&&(n.labels=s),this.c_(n)}m_(e){const n={};n.database=rh(this.serializer),n.removeTarget=e,this.c_(n)}}class W1 extends Oy{constructor(e,n,s,a,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,f),this.serializer=u}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,n){return this.connection.qo("Write",e,n)}A_(e){return ze(!!e.streamToken),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=n1(e.writeResults,e.commitTime),s=Gn(e.commitTime);return this.listener.y_(s,n)}w_(){const e={};e.database=rh(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>t1(this.serializer,s))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1 extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new pe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Oo(e,th(n,s),a,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(J.UNKNOWN,u.toString())})}ko(e,n,s,a,u){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,d])=>this.connection.ko(e,th(n,s),a,f,d,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new pe(J.UNKNOWN,f.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class K1{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Ir(n),this.C_=!1):ae("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,n,s,a,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=u,this.Q_.uo(f=>{s.enqueueAndForget(async()=>{Ki(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(g){const _=Ie(g);_.k_.add(4),await Na(_),_.K_.set("Unknown"),_.k_.delete(4),await zu(_)}(this))})}),this.K_=new K1(s,a)}}async function zu(i){if(Ki(i))for(const e of i.q_)await e(!0)}async function Na(i){for(const e of i.q_)await e(!1)}function My(i,e){const n=Ie(i);n.L_.has(e.targetId)||(n.L_.set(e.targetId,e),bh(n)?Mh(n):lo(n).s_()&&Oh(n,e))}function Lh(i,e){const n=Ie(i),s=lo(n);n.L_.delete(e),s.s_()&&by(n,e),n.L_.size===0&&(s.s_()?s.a_():Ki(n)&&n.K_.set("Unknown"))}function Oh(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lo(i).V_(e)}function by(i,e){i.U_.xe(e),lo(i).m_(e)}function Mh(i){i.U_=new QT({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.L_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),lo(i).start(),i.K_.F_()}function bh(i){return Ki(i)&&!lo(i).i_()&&i.L_.size>0}function Ki(i){return Ie(i).k_.size===0}function Fy(i){i.U_=void 0}async function X1(i){i.K_.set("Online")}async function Y1(i){i.L_.forEach((e,n)=>{Oh(i,e)})}async function J1(i,e){Fy(i),bh(i)?(i.K_.O_(e),Mh(i)):i.K_.set("Unknown")}async function Z1(i,e,n){if(i.K_.set("Online"),e instanceof Iy&&e.state===2&&e.cause)try{await async function(a,u){const f=u.cause;for(const d of u.targetIds)a.L_.has(d)&&(await a.remoteSyncer.rejectListen(d,f),a.L_.delete(d),a.U_.removeTarget(d))}(i,e)}catch(s){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Su(i,s)}else if(e instanceof fu?i.U_.$e(e):e instanceof Ty?i.U_.Je(e):i.U_.Ge(e),!n.isEqual(Te.min()))try{const s=await Vy(i.localStore);n.compareTo(s)>=0&&await function(u,f){const d=u.U_.it(f);return d.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.L_.get(_);E&&u.L_.set(_,E.withResumeToken(g.resumeToken,f))}}),d.targetMismatches.forEach((g,_)=>{const E=u.L_.get(g);if(!E)return;u.L_.set(g,E.withResumeToken(Dt.EMPTY_BYTE_STRING,E.snapshotVersion)),by(u,g);const S=new Jr(E.target,g,_,E.sequenceNumber);Oh(u,S)}),u.remoteSyncer.applyRemoteEvent(d)}(i,n)}catch(s){ae("RemoteStore","Failed to raise snapshot:",s),await Su(i,s)}}async function Su(i,e,n){if(!ao(e))throw e;i.k_.add(1),await Na(i),i.K_.set("Offline"),n||(n=()=>Vy(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await n(),i.k_.delete(1),await zu(i)})}function Uy(i,e){return e().catch(n=>Su(i,n,e))}async function Bu(i){const e=Ie(i),n=ui(e);let s=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;eI(e);)try{const a=await b1(e.localStore,s);if(a===null){e.B_.length===0&&n.a_();break}s=a.batchId,tI(e,a)}catch(a){await Su(e,a)}zy(e)&&By(e)}function eI(i){return Ki(i)&&i.B_.length<10}function tI(i,e){i.B_.push(e);const n=ui(i);n.s_()&&n.f_&&n.g_(e.mutations)}function zy(i){return Ki(i)&&!ui(i).i_()&&i.B_.length>0}function By(i){ui(i).start()}async function nI(i){ui(i).w_()}async function rI(i){const e=ui(i);for(const n of i.B_)e.g_(n.mutations)}async function iI(i,e,n){const s=i.B_.shift(),a=kh.from(s,e,n);await Uy(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await Bu(i)}async function sI(i,e){e&&ui(i).f_&&await async function(s,a){if(function(f){return qT(f)&&f!==J.ABORTED}(a.code)){const u=s.B_.shift();ui(s).__(),await Uy(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,a)),await Bu(s)}}(i,e),zy(i)&&By(i)}async function ig(i,e){const n=Ie(i);n.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const s=Ki(n);n.k_.add(3),await Na(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await zu(n)}async function oI(i,e){const n=Ie(i);e?(n.k_.delete(2),await zu(n)):e||(n.k_.add(2),await Na(n),n.K_.set("Unknown"))}function lo(i){return i.W_||(i.W_=function(n,s,a){const u=Ie(n);return u.b_(),new H1(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(i.datastore,i.asyncQueue,{Ro:X1.bind(null,i),mo:Y1.bind(null,i),po:J1.bind(null,i),R_:Z1.bind(null,i)}),i.q_.push(async e=>{e?(i.W_.__(),bh(i)?Mh(i):i.K_.set("Unknown")):(await i.W_.stop(),Fy(i))})),i.W_}function ui(i){return i.G_||(i.G_=function(n,s,a){const u=Ie(n);return u.b_(),new W1(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(i.datastore,i.asyncQueue,{Ro:()=>Promise.resolve(),mo:nI.bind(null,i),po:sI.bind(null,i),p_:rI.bind(null,i),y_:iI.bind(null,i)}),i.q_.push(async e=>{e?(i.G_.__(),await Bu(i)):(await i.G_.stop(),i.B_.length>0&&(ae("RemoteStore",`Stopping write stream with ${i.B_.length} pending writes`),i.B_=[]))})),i.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n,s,a,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=u,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,u){const f=Date.now()+s,d=new Fh(e,n,f,a,u);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uh(i,e){if(Ir("AsyncQueue",`${e}: ${i}`),ao(i))return new pe(J.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{static emptySet(e){return new Ks(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=ca(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ks)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=s.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ks;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(){this.z_=new nt(ve.comparator)}track(e){const n=e.doc.key,s=this.z_.get(n);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(n,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(n):e.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):we():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class eo{constructor(e,n,s,a,u,f,d,g,_){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,n,s,a,u){const f=[];return n.forEach(d=>{f.push({type:0,doc:d})}),new eo(e,n,Ks.emptySet(n),f,s,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class lI{constructor(){this.queries=og(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const a=Ie(n),u=a.queries;a.queries=og(),u.forEach((f,d)=>{for(const g of d.J_)g.onError(s)})})(this,new pe(J.ABORTED,"Firestore shutting down"))}}function og(){return new Wi(i=>ly(i),Vu)}async function jy(i,e){const n=Ie(i);let s=3;const a=e.query;let u=n.queries.get(a);u?!u.Y_()&&e.Z_()&&(s=2):(u=new aI,s=e.Z_()?0:1);try{switch(s){case 0:u.H_=await n.onListen(a,!0);break;case 1:u.H_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(f){const d=Uh(f,`Initialization of query '${qs(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,u),u.J_.push(e),e.ea(n.onlineState),u.H_&&e.ta(u.H_)&&zh(n)}async function $y(i,e){const n=Ie(i),s=e.query;let a=3;const u=n.queries.get(s);if(u){const f=u.J_.indexOf(e);f>=0&&(u.J_.splice(f,1),u.J_.length===0?a=e.Z_()?0:1:!u.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function uI(i,e){const n=Ie(i);let s=!1;for(const a of e){const u=a.query,f=n.queries.get(u);if(f){for(const d of f.J_)d.ta(a)&&(s=!0);f.H_=a}}s&&zh(n)}function cI(i,e,n){const s=Ie(i),a=s.queries.get(e);if(a)for(const u of a.J_)u.onError(n);s.queries.delete(e)}function zh(i){i.X_.forEach(e=>{e.next()})}var sh,ag;(ag=sh||(sh={})).na="default",ag.Cache="cache";class qy{constructor(e,n,s){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new eo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==sh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e){this.key=e}}class Wy{constructor(e){this.key=e}}class fI{constructor(e,n){this.query=e,this.Ea=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ae(),this.mutatedKeys=Ae(),this.Va=uy(e),this.ma=new Ks(this.Va)}get fa(){return this.Ea}ga(e,n){const s=n?n.pa:new sg,a=n?n.ma:this.ma;let u=n?n.mutatedKeys:this.mutatedKeys,f=a,d=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,_=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((E,S)=>{const I=a.get(E),N=Lu(this.query,S)?S:null,M=!!I&&this.mutatedKeys.has(I.key),z=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let L=!1;I&&N?I.data.isEqual(N.data)?M!==z&&(s.track({type:3,doc:N}),L=!0):this.ya(I,N)||(s.track({type:2,doc:N}),L=!0,(g&&this.Va(N,g)>0||_&&this.Va(N,_)<0)&&(d=!0)):!I&&N?(s.track({type:0,doc:N}),L=!0):I&&!N&&(s.track({type:1,doc:I}),L=!0,(g||_)&&(d=!0)),L&&(N?(f=f.add(N),u=z?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{ma:f,pa:s,ss:d,mutatedKeys:u}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const u=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const f=e.pa.j_();f.sort((E,S)=>function(N,M){const z=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return z(N)-z(M)}(E.type,S.type)||this.Va(E.doc,S.doc)),this.wa(s),a=a!=null&&a;const d=n&&!a?this.Sa():[],g=this.Ra.size===0&&this.current&&!a?1:0,_=g!==this.Aa;return this.Aa=g,f.length!==0||_?{snapshot:new eo(this.query,e.ma,u,f,e.mutatedKeys,g===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new sg,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.Ea=this.Ea.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ea=this.Ea.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ae(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const n=[];return e.forEach(s=>{this.Ra.has(s)||n.push(new Wy(s))}),this.Ra.forEach(s=>{e.has(s)||n.push(new Hy(s))}),n}va(e){this.Ea=e.Es,this.Ra=Ae();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return eo.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class hI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class dI{constructor(e){this.key=e,this.Fa=!1}}class pI{constructor(e,n,s,a,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Ma={},this.xa=new Wi(d=>ly(d),Vu),this.Oa=new Map,this.Na=new Set,this.Ba=new nt(ve.comparator),this.La=new Map,this.ka=new Nh,this.qa={},this.Qa=new Map,this.Ka=Zs.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function mI(i,e,n=!0){const s=Jy(i);let a;const u=s.xa.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.Ca()):a=await Qy(s,e,n,!0),a}async function gI(i,e){const n=Jy(i);await Qy(n,e,!0,!1)}async function Qy(i,e,n,s){const a=await F1(i.localStore,Kn(e)),u=a.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let d;return s&&(d=await yI(i,e,u,f==="current",a.resumeToken)),i.isPrimaryClient&&n&&My(i.remoteStore,a),d}async function yI(i,e,n,s,a){i.Ua=(S,I,N)=>async function(z,L,H,q){let Q=L.view.ga(H);Q.ss&&(Q=await tg(z.localStore,L.query,!1).then(({documents:k})=>L.view.ga(k,Q)));const te=q&&q.targetChanges.get(L.targetId),he=q&&q.targetMismatches.get(L.targetId)!=null,me=L.view.applyChanges(Q,z.isPrimaryClient,te,he);return ug(z,L.targetId,me.ba),me.snapshot}(i,S,I,N);const u=await tg(i.localStore,e,!0),f=new fI(e,u.Es),d=f.ga(u.documents),g=xa.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),_=f.applyChanges(d,i.isPrimaryClient,g);ug(i,n,_.ba);const E=new hI(e,n,f);return i.xa.set(e,E),i.Oa.has(n)?i.Oa.get(n).push(e):i.Oa.set(n,[e]),_.snapshot}async function _I(i,e,n){const s=Ie(i),a=s.xa.get(e),u=s.Oa.get(a.targetId);if(u.length>1)return s.Oa.set(a.targetId,u.filter(f=>!Vu(f,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await ih(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Lh(s.remoteStore,a.targetId),oh(s,a.targetId)}).catch(oo)):(oh(s,a.targetId),await ih(s.localStore,a.targetId,!0))}async function vI(i,e){const n=Ie(i),s=n.xa.get(e),a=n.Oa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Lh(n.remoteStore,s.targetId))}async function EI(i,e,n){const s=AI(i);try{const a=await function(f,d){const g=Ie(f),_=_t.now(),E=d.reduce((N,M)=>N.add(M.key),Ae());let S,I;return g.persistence.runTransaction("Locally write mutations","readwrite",N=>{let M=Sr(),z=Ae();return g.hs.getEntries(N,E).next(L=>{M=L,M.forEach((H,q)=>{q.isValidDocument()||(z=z.add(H))})}).next(()=>g.localDocuments.getOverlayedDocuments(N,M)).next(L=>{S=L;const H=[];for(const q of d){const Q=UT(q,S.get(q.key).overlayedDocument);Q!=null&&H.push(new Qi(q.key,Q,ty(Q.value.mapValue),wr.exists(!0)))}return g.mutationQueue.addMutationBatch(N,_,H,d)}).next(L=>{I=L;const H=L.applyToLocalDocumentSet(S,z);return g.documentOverlayCache.saveOverlays(N,L.batchId,H)})}).then(()=>({batchId:I.batchId,changes:fy(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(f,d,g){let _=f.qa[f.currentUser.toKey()];_||(_=new nt(Pe)),_=_.insert(d,g),f.qa[f.currentUser.toKey()]=_}(s,a.batchId,n),await Da(s,a.changes),await Bu(s.remoteStore)}catch(a){const u=Uh(a,"Failed to persist write");n.reject(u)}}async function Ky(i,e){const n=Ie(i);try{const s=await O1(n.localStore,e);e.targetChanges.forEach((a,u)=>{const f=n.La.get(u);f&&(ze(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.Fa=!0:a.modifiedDocuments.size>0?ze(f.Fa):a.removedDocuments.size>0&&(ze(f.Fa),f.Fa=!1))}),await Da(n,s,e)}catch(s){await oo(s)}}function lg(i,e,n){const s=Ie(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.xa.forEach((u,f)=>{const d=f.view.ea(e);d.snapshot&&a.push(d.snapshot)}),function(f,d){const g=Ie(f);g.onlineState=d;let _=!1;g.queries.forEach((E,S)=>{for(const I of S.J_)I.ea(d)&&(_=!0)}),_&&zh(g)}(s.eventManager,e),a.length&&s.Ma.R_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function wI(i,e,n){const s=Ie(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.La.get(e),u=a&&a.key;if(u){let f=new nt(ve.comparator);f=f.insert(u,Ut.newNoDocument(u,Te.min()));const d=Ae().add(u),g=new Fu(Te.min(),new Map,new nt(Pe),f,d);await Ky(s,g),s.Ba=s.Ba.remove(u),s.La.delete(e),Bh(s)}else await ih(s.localStore,e,!1).then(()=>oh(s,e,n)).catch(oo)}async function TI(i,e){const n=Ie(i),s=e.batch.batchId;try{const a=await L1(n.localStore,e);Xy(n,s,null),Gy(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Da(n,a)}catch(a){await oo(a)}}async function II(i,e,n){const s=Ie(i);try{const a=await function(f,d){const g=Ie(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let E;return g.mutationQueue.lookupMutationBatch(_,d).next(S=>(ze(S!==null),E=S.keys(),g.mutationQueue.removeMutationBatch(_,S))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,E,d)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E)).next(()=>g.localDocuments.getDocuments(_,E))})}(s.localStore,e);Xy(s,e,n),Gy(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Da(s,a)}catch(a){await oo(a)}}function Gy(i,e){(i.Qa.get(e)||[]).forEach(n=>{n.resolve()}),i.Qa.delete(e)}function Xy(i,e,n){const s=Ie(i);let a=s.qa[s.currentUser.toKey()];if(a){const u=a.get(e);u&&(n?u.reject(n):u.resolve(),a=a.remove(e)),s.qa[s.currentUser.toKey()]=a}}function oh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Oa.get(e))i.xa.delete(s),n&&i.Ma.Wa(s,n);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach(s=>{i.ka.containsKey(s)||Yy(i,s)})}function Yy(i,e){i.Na.delete(e.path.canonicalString());const n=i.Ba.get(e);n!==null&&(Lh(i.remoteStore,n),i.Ba=i.Ba.remove(e),i.La.delete(n),Bh(i))}function ug(i,e,n){for(const s of n)s instanceof Hy?(i.ka.addReference(s.key,e),SI(i,s)):s instanceof Wy?(ae("SyncEngine","Document no longer in limbo: "+s.key),i.ka.removeReference(s.key,e),i.ka.containsKey(s.key)||Yy(i,s.key)):we()}function SI(i,e){const n=e.key,s=n.path.canonicalString();i.Ba.get(n)||i.Na.has(s)||(ae("SyncEngine","New document in limbo: "+n),i.Na.add(s),Bh(i))}function Bh(i){for(;i.Na.size>0&&i.Ba.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const n=new ve(Ye.fromString(e)),s=i.Ka.next();i.La.set(s,new dI(n)),i.Ba=i.Ba.insert(n,s),My(i.remoteStore,new Jr(Kn(Rh(n.path)),s,"TargetPurposeLimboResolution",Pu.oe))}}async function Da(i,e,n){const s=Ie(i),a=[],u=[],f=[];s.xa.isEmpty()||(s.xa.forEach((d,g)=>{f.push(s.Ua(g,e,n).then(_=>{var E;if((_||n)&&s.isPrimaryClient){const S=_?!_.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(_){a.push(_);const S=Vh.zi(g.targetId,_);u.push(S)}}))}),await Promise.all(f),s.Ma.R_(a),await async function(g,_){const E=Ie(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>K.forEach(_,I=>K.forEach(I.Wi,N=>E.persistence.referenceDelegate.addReference(S,I.targetId,N)).next(()=>K.forEach(I.Gi,N=>E.persistence.referenceDelegate.removeReference(S,I.targetId,N)))))}catch(S){if(!ao(S))throw S;ae("LocalStore","Failed to update sequence numbers: "+S)}for(const S of _){const I=S.targetId;if(!S.fromCache){const N=E.us.get(I),M=N.snapshotVersion,z=N.withLastLimboFreeSnapshotVersion(M);E.us=E.us.insert(I,z)}}}(s.localStore,u))}async function CI(i,e){const n=Ie(i);if(!n.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const s=await Dy(n.localStore,e);n.currentUser=e,function(u,f){u.Qa.forEach(d=>{d.forEach(g=>{g.reject(new pe(J.CANCELLED,f))})}),u.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Da(n,s.Ts)}}function RI(i,e){const n=Ie(i),s=n.La.get(e);if(s&&s.Fa)return Ae().add(s.key);{let a=Ae();const u=n.Oa.get(e);if(!u)return a;for(const f of u){const d=n.xa.get(f);a=a.unionWith(d.view.fa)}return a}}function Jy(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ky.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wI.bind(null,e),e.Ma.R_=uI.bind(null,e.eventManager),e.Ma.Wa=cI.bind(null,e.eventManager),e}function AI(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=II.bind(null,e),e}class Cu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uu(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return V1(this.persistence,new N1,e.initialUser,this.serializer)}ja(e){return new Ny(Dh.ei,this.serializer)}za(e){return new z1}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cu.provider={build:()=>new Cu};class kI extends Cu{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){ze(this.persistence.referenceDelegate instanceof Iu);const s=this.persistence.referenceDelegate.garbageCollector;return new g1(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Zt.withCacheSize(this.cacheSizeBytes):Zt.DEFAULT;return new Ny(s=>Iu.ei(s,n),this.serializer)}}class ah{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>lg(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=CI.bind(null,this.syncEngine),await oI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lI}()}createDatastore(e){const n=Uu(e.databaseInfo.databaseId),s=function(u){return new q1(u)}(e.databaseInfo);return function(u,f,d,g){return new Q1(u,f,d,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,u,f,d){return new G1(s,a,u,f,d)}(this.localStore,this.datastore,e.asyncQueue,n=>lg(this.syncEngine,n,0),function(){return rg.p()?new rg:new B1}())}createSyncEngine(e,n){return function(a,u,f,d,g,_,E){const S=new pI(a,u,f,d,g,_);return E&&(S.$a=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const u=Ie(a);ae("RemoteStore","RemoteStore shutting down."),u.k_.add(5),await Na(u),u.Q_.shutdown(),u.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ah.provider={build:()=>new ah};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Ir("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,n,s,a,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Ft.UNAUTHENTICATED,this.clientId=Jg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ae("FirestoreClient","Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ae("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Uh(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Uf(i,e){i.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await Dy(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function cg(i,e){i.asyncQueue.verifyOperationInProgress();const n=await xI(i);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>ig(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>ig(e.remoteStore,a)),i._onlineComponents=e}async function xI(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await Uf(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===J.FAILED_PRECONDITION||a.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Gs("Error using user provided cache. Falling back to memory cache: "+n),await Uf(i,new Cu)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await Uf(i,new kI(void 0));return i._offlineComponents}async function e_(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await cg(i,i._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await cg(i,new ah))),i._onlineComponents}function NI(i){return e_(i).then(e=>e.syncEngine)}async function t_(i){const e=await e_(i),n=e.eventManager;return n.onListen=mI.bind(null,e.syncEngine),n.onUnlisten=_I.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vI.bind(null,e.syncEngine),n}function DI(i,e,n={}){const s=new Er;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,d,g,_){const E=new Zy({next:I=>{E.eu(),f.enqueueAndForget(()=>$y(u,S));const N=I.docs.has(d);!N&&I.fromCache?_.reject(new pe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&I.fromCache&&g&&g.source==="server"?_.reject(new pe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(I)},error:I=>_.reject(I)}),S=new qy(Rh(d.path),E,{includeMetadataChanges:!0,ua:!0});return jy(u,S)}(await t_(i),i.asyncQueue,e,n,s)),s.promise}function VI(i,e,n={}){const s=new Er;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,d,g,_){const E=new Zy({next:I=>{E.eu(),f.enqueueAndForget(()=>$y(u,S)),I.fromCache&&g.source==="server"?_.reject(new pe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(I)},error:I=>_.reject(I)}),S=new qy(d,E,{includeMetadataChanges:!0,ua:!0});return jy(u,S)}(await t_(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(i,e,n){if(!n)throw new pe(J.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function LI(i,e,n,s){if(e===!0&&s===!0)throw new pe(J.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function hg(i){if(!ve.isDocumentKey(i))throw new pe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function dg(i){if(ve.isDocumentKey(i))throw new pe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function jh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":we()}function $i(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new pe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jh(i);throw new pe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new pe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=n_((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ju{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pg(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Hw;switch(s.type){case"firstParty":return new Gw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=fg.get(n);s&&(ae("ComponentProvider","Removing Datastore"),fg.delete(n),s.terminate())}(this),Promise.resolve()}}function OI(i,e,n,s={}){var a;const u=(i=$i(i,ju))._getSettings(),f=`${e}:${n}`;if(u.host!=="firestore.googleapis.com"&&u.host!==f&&Gs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:f,ssl:!1})),s.mockUserToken){let d,g;if(typeof s.mockUserToken=="string")d=s.mockUserToken,g=Ft.MOCK_USER;else{d=R0(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new pe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ft(_)}i._authCredentials=new Ww(new Yg(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new $u(this.firestore,e,this._query)}}class un{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new un(this.firestore,e,this._key)}}class ni extends $u{constructor(e,n,s){super(e,n,Rh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new un(this.firestore,null,new ve(e))}withConverter(e){return new ni(this.firestore,e,this._path)}}function i_(i,e,...n){if(i=ii(i),r_("collection","path",e),i instanceof ju){const s=Ye.fromString(e,...n);return dg(s),new ni(i,null,s)}{if(!(i instanceof un||i instanceof ni))throw new pe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ye.fromString(e,...n));return dg(s),new ni(i.firestore,null,s)}}function qu(i,e,...n){if(i=ii(i),arguments.length===1&&(e=Jg.newId()),r_("doc","path",e),i instanceof ju){const s=Ye.fromString(e,...n);return hg(s),new un(i,null,new ve(s))}{if(!(i instanceof un||i instanceof ni))throw new pe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ye.fromString(e,...n));return hg(s),new un(i.firestore,i instanceof ni?i.converter:null,new ve(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Ly(this,"async_queue_retry"),this.fu=()=>{const s=Ff();s&&ae("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=Ff();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const n=Ff();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const n=new Er;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!ao(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const a=function(f){let d=f.message||"";return f.stack&&(d=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),d}(s);throw Ir("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const a=Fh.createAndSchedule(this,e,n,s,u=>this.Su(u));return this.Eu.push(a),a}pu(){this.Au&&we()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.Eu)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.Eu.indexOf(e);this.Eu.splice(n,1)}}class Hu extends ju{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new mg,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mg(e),this._firestoreClient=void 0,await e}}}function $h(i,e){const n=typeof i=="object"?i:Ow(),s=typeof i=="string"?i:"(default)",a=Nw(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const u=S0("firestore");u&&OI(a,...u)}return a}function qh(i){if(i._terminated)throw new pe(J.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||MI(i),i._firestoreClient}function MI(i){var e,n,s;const a=i._freezeSettings(),u=function(d,g,_,E){return new cT(d,g,_,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,n_(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new PI(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(d){const g=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this._byteString=e}static fromBase64String(e){try{return new to(Dt.fromBase64String(e))}catch(n){throw new pe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new to(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==a[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=/^__.*__$/;class s_{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Qi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function o_(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class Kh{constructor(e,n,s,a,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,u===void 0&&this.Fu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Kh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Bu(e),a}Lu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Fu(),a}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Ru(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(o_(this.Mu)&&bI.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class FI{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Uu(e)}$u(e,n,s,a=!1){return new Kh({Mu:e,methodName:n,Ku:s,path:Nt.emptyPath(),Nu:!1,Qu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function UI(i){const e=i._freezeSettings(),n=Uu(i._databaseId);return new FI(i._databaseId,!!e.ignoreUndefinedProperties,n)}class Qu extends Hh{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qu}}function zI(i,e,n,s){const a=i.$u(1,e,n);l_("Data must be an object, but it was:",a,s);const u=[],f=ln.empty();ci(s,(g,_)=>{const E=Gh(e,g,n);_=ii(_);const S=a.Lu(E);if(_ instanceof Qu)u.push(E);else{const I=Ku(_,S);I!=null&&(u.push(E),f.set(E,I))}});const d=new On(u);return new s_(f,d,a.fieldTransforms)}function BI(i,e,n,s,a,u){const f=i.$u(1,e,n),d=[gg(e,s,n)],g=[a];if(u.length%2!=0)throw new pe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<u.length;I+=2)d.push(gg(e,u[I])),g.push(u[I+1]);const _=[],E=ln.empty();for(let I=d.length-1;I>=0;--I)if(!qI(_,d[I])){const N=d[I];let M=g[I];M=ii(M);const z=f.Lu(N);if(M instanceof Qu)_.push(N);else{const L=Ku(M,z);L!=null&&(_.push(N),E.set(N,L))}}const S=new On(_);return new s_(E,S,f.fieldTransforms)}function Ku(i,e){if(a_(i=ii(i)))return l_("Unsupported field value:",e,i),jI(i,e);if(i instanceof Hh)return function(s,a){if(!o_(a.Mu))throw a.qu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.qu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(a);u&&a.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,a){const u=[];let f=0;for(const d of s){let g=Ku(d,a.ku(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,a){if((s=ii(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return VT(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=_t.fromDate(s);return{timestampValue:Tu(a.serializer,u)}}if(s instanceof _t){const u=new _t(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Tu(a.serializer,u)}}if(s instanceof Wh)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof to)return{bytesValue:Sy(a.serializer,s._byteString)};if(s instanceof un){const u=a.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw a.qu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:xh(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Qh)return function(f,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw d.qu("VectorValues must only contain numeric values.");return Ah(d.serializer,g)})}}}}}}(s,a);throw a.qu(`Unsupported field value: ${jh(s)}`)}(i,e)}function jI(i,e){const n={};return Zg(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ci(i,(s,a)=>{const u=Ku(a,e.Ou(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function a_(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof _t||i instanceof Wh||i instanceof to||i instanceof un||i instanceof Hh||i instanceof Qh)}function l_(i,e,n){if(!a_(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=jh(n);throw s==="an object"?e.qu(i+" a custom object"):e.qu(i+" "+s)}}function gg(i,e,n){if((e=ii(e))instanceof Wu)return e._internalPath;if(typeof e=="string")return Gh(i,e);throw Ru("Field path arguments must be of type string or ",i,!1,void 0,n)}const $I=new RegExp("[~\\*/\\[\\]]");function Gh(i,e,n){if(e.search($I)>=0)throw Ru(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Wu(...e.split("."))._internalPath}catch{throw Ru(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Ru(i,e,n,s,a){const u=s&&!s.isEmpty(),f=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${a}`),g+=")"),new pe(J.INVALID_ARGUMENT,d+i+g)}function qI(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,n,s,a,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(c_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HI extends u_{data(){return super.data()}}function c_(i,e){return typeof e=="string"?Gh(i,e):e instanceof Wu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new pe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class QI{convertValue(e,n="none"){switch(li(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ai(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ci(e,(a,u)=>{s[a]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,a;const u=(a=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(f=>ot(f.doubleValue));return new Qh(u)}convertGeoPoint(e){return new Wh(ot(e.latitude),ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Nu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(wa(e));default:return null}}convertTimestamp(e){const n=oi(e);return new _t(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ye.fromString(e);ze(xy(s));const a=new Ta(s.get(1),s.get(3)),u=new ve(s.popFirst(5));return a.isEqual(n)||Ir(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class f_ extends u_{constructor(e,n,s,a,u,f){super(e,n,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(c_("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class hu extends f_{data(e={}){return super.data(e)}}class KI{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new ha(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new hu(this._firestore,this._userDataWriter,s.key,s,new ha(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,u){if(a._snapshot.oldDocs.isEmpty()){let f=0;return a._snapshot.docChanges.map(d=>{const g=new hu(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ha(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const g=new hu(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ha(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let _=-1,E=-1;return d.type!==0&&(_=f.indexOf(d.doc.key),f=f.delete(d.doc.key)),d.type!==1&&(f=f.add(d.doc),E=f.indexOf(d.doc.key)),{type:GI(d.type),doc:g,oldIndex:_,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function GI(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(i){i=$i(i,un);const e=$i(i.firestore,Hu);return DI(qh(e),i._key).then(n=>YI(e,i,n))}class d_ extends QI{constructor(e){super(),this.firestore=e}convertBytes(e){return new to(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,n)}}function p_(i){i=$i(i,$u);const e=$i(i.firestore,Hu),n=qh(e),s=new d_(e);return WI(i._query),VI(n,i._query).then(a=>new KI(e,s,i,a))}function Xh(i,e,n,...s){i=$i(i,un);const a=$i(i.firestore,Hu),u=UI(a);let f;return f=typeof(e=ii(e))=="string"||e instanceof Wu?BI(u,"updateDoc",i._key,e,n,s):zI(u,"updateDoc",i._key,e),XI(a,[f.toMutation(i._key,wr.exists(!0))])}function XI(i,e){return function(s,a){const u=new Er;return s.asyncQueue.enqueueAndForget(async()=>EI(await NI(s),a,u)),u.promise}(qh(i),e)}function YI(i,e,n){const s=n.docs.get(e._key),a=new d_(i);return new f_(i,a,e._key,s,new ha(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){so=a})(Lw),gu(new va("firestore",(s,{instanceIdentifier:a,options:u})=>{const f=s.getProvider("app").getImmediate(),d=new Hu(new Qw(s.getProvider("auth-internal")),new Yw(s.getProvider("app-check-internal")),function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new pe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ta(_.options.projectId,E)}(f,a),f);return u=Object.assign({useFetchStreams:n},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),Qs(Dm,"4.7.6",e),Qs(Dm,"4.7.6","esm2017")})();var JI="firebase",ZI="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qs(JI,ZI,"app");const eS=void 0,tS={apiKey:eS,authDomain:"bruges-firebase.firebaseapp.com",projectId:"bruges-firebase",storageBucket:"bruges-firebase.firebasestorage.app",messagingSenderId:"182334328443",appId:"1:182334328443:web:2bebd6ef689b3ca50e1cde"},nS=jg(tS),Yh=$h(nS),m_=async()=>{const i=i_(Yh,"toys");return(await p_(i)).docs.map(n=>({id:n.id,...n.data()}))},rS=async i=>{const e=qu(Yh,"toys",i),n=await h_(e);if(!n.exists())throw new Error("Toy not found");const s={id:n.id,...n.data()},a=i_(e,"variants"),f=(await p_(a)).docs.map(d=>({id:d.id,...d.data()}));return{...s,variants:f}},iS="_carousel_z5b1b_1",sS="_inner_z5b1b_11",oS="_image_z5b1b_20",aS="_details_z5b1b_26",lS="_arrow_z5b1b_43",uS="_left_z5b1b_56",cS="_right_z5b1b_59",Yr={carousel:iS,inner:sS,image:oS,details:aS,arrow:lS,left:uS,right:cS},g_=i=>i>5?{text:`In Stock: ${i}`,color:"lightgreen",className:"inStock"}:i>0&&i<=5?{text:`Low Stock: ${i}`,color:"orange",className:"lowStock"}:{text:"No Stock",color:"red",className:"noStock"},fS=({images:i})=>{const[e,n]=$.useState(0),s=()=>{n(d=>d===0?i.length-1:d-1)},a=()=>{n(d=>d===i.length-1?0:d+1)},{text:u,color:f}=g_(i[e].quantity);return ee.jsxs("div",{className:Yr.carousel,children:[ee.jsxs("div",{className:Yr.inner,children:[ee.jsx("img",{src:i[e].imageUrl,alt:i[e].name,className:Yr.image}),ee.jsxs("div",{className:Yr.details,children:[ee.jsx("h2",{children:i[e].name}),ee.jsxs("p",{children:["Price: $",i[e].price]}),ee.jsx("p",{style:{color:f},children:u})]})]}),ee.jsx("button",{className:`${Yr.arrow} ${Yr.left}`,onClick:s,children:""}),ee.jsx("button",{className:`${Yr.arrow} ${Yr.right}`,onClick:a,children:""})]})},hS="_card_mm0y4_1",dS="_image_mm0y4_18",pS="_info_mm0y4_25",mS="_inStock_mm0y4_31",gS="_lowStock_mm0y4_35",yS="_noStock_mm0y4_39",_S="_newLabel_mm0y4_43",Bs={card:hS,image:dS,info:pS,inStock:mS,lowStock:gS,noStock:yS,newLabel:_S},vS="_btn_1fqle_1",ES={btn:vS},y_=({children:i,...e})=>ee.jsx("button",{...e,className:ES.btn,children:i}),__=$.createContext(),wS=({children:i})=>{const[e,n]=$.useState(()=>{const u=localStorage.getItem("cart");return u?JSON.parse(u):[]});$.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);const s=u=>{const f=e.find(d=>d.id===u.id);n(f?d=>d.map(g=>g.id===u.id?{...g,quantity:g.quantity+1}:g):[...e,{...u,quantity:1}])},a=async u=>{n(g=>g.filter(_=>_.id!==u.id));const f=qu(Yh,"toys",u.id),d=await h_(f);if(d.exists()){const g=d.data().quantity+u.quantity;await Xh(f,{quantity:g})}};return ee.jsx(__.Provider,{value:{cart:e,addToCart:s,removeFromCart:a},children:i})},Jh=()=>$.useContext(__);function v_(i){var e,n,s="";if(typeof i=="string"||typeof i=="number")s+=i;else if(typeof i=="object")if(Array.isArray(i)){var a=i.length;for(e=0;e<a;e++)i[e]&&(n=v_(i[e]))&&(s&&(s+=" "),s+=n)}else for(n in i)i[n]&&(s&&(s+=" "),s+=n);return s}function Bi(){for(var i,e,n=0,s="",a=arguments.length;n<a;n++)(i=arguments[n])&&(e=v_(i))&&(s&&(s+=" "),s+=e);return s}function TS(i){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=i:n.appendChild(document.createTextNode(i))}TS(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Va=i=>typeof i=="number"&&!isNaN(i),qi=i=>typeof i=="string",Cr=i=>typeof i=="function",IS=i=>qi(i)||Va(i),lh=i=>qi(i)||Cr(i)?i:null,SS=(i,e)=>i===!1||Va(i)&&i>0?i:e,uh=i=>$.isValidElement(i)||qi(i)||Cr(i)||Va(i);function CS(i,e,n=300){let{scrollHeight:s,style:a}=i;requestAnimationFrame(()=>{a.minHeight="initial",a.height=s+"px",a.transition=`all ${n}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(e,n)})})}function RS({enter:i,exit:e,appendPosition:n=!1,collapse:s=!0,collapseDuration:a=300}){return function({children:u,position:f,preventExitTransition:d,done:g,nodeRef:_,isIn:E,playToast:S}){let I=n?`${i}--${f}`:i,N=n?`${e}--${f}`:e,M=$.useRef(0);return $.useLayoutEffect(()=>{let z=_.current,L=I.split(" "),H=q=>{q.target===_.current&&(S(),z.removeEventListener("animationend",H),z.removeEventListener("animationcancel",H),M.current===0&&q.type!=="animationcancel"&&z.classList.remove(...L))};z.classList.add(...L),z.addEventListener("animationend",H),z.addEventListener("animationcancel",H)},[]),$.useEffect(()=>{let z=_.current,L=()=>{z.removeEventListener("animationend",L),s?CS(z,g,a):g()};E||(d?L():(M.current=1,z.className+=` ${N}`,z.addEventListener("animationend",L)))},[E]),Ke.createElement(Ke.Fragment,null,u)}}function yg(i,e){return{content:E_(i.content,i.props),containerId:i.props.containerId,id:i.props.toastId,theme:i.props.theme,type:i.props.type,data:i.props.data||{},isLoading:i.props.isLoading,icon:i.props.icon,reason:i.removalReason,status:e}}function E_(i,e,n=!1){return $.isValidElement(i)&&!qi(i.type)?$.cloneElement(i,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):Cr(i)?i({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):i}function AS({closeToast:i,theme:e,ariaLabel:n="close"}){return Ke.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:s=>{s.stopPropagation(),i(!0)},"aria-label":n},Ke.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ke.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function kS({delay:i,isRunning:e,closeToast:n,type:s="default",hide:a,className:u,controlledProgress:f,progress:d,rtl:g,isIn:_,theme:E}){let S=a||f&&d===0,I={animationDuration:`${i}ms`,animationPlayState:e?"running":"paused"};f&&(I.transform=`scaleX(${d})`);let N=Bi("Toastify__progress-bar",f?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${E}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":g}),M=Cr(u)?u({rtl:g,type:s,defaultClassName:N}):Bi(N,u),z={[f&&d>=1?"onTransitionEnd":"onAnimationEnd"]:f&&d<1?null:()=>{_&&n()}};return Ke.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":S},Ke.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${E} Toastify__progress-bar--${s}`}),Ke.createElement("div",{role:"progressbar","aria-hidden":S?"true":"false","aria-label":"notification timer",className:M,style:I,...z}))}var PS=1,w_=()=>`${PS++}`;function xS(i,e,n){let s=1,a=0,u=[],f=[],d=e,g=new Map,_=new Set,E=q=>(_.add(q),()=>_.delete(q)),S=()=>{f=Array.from(g.values()),_.forEach(q=>q())},I=({containerId:q,toastId:Q,updateId:te})=>{let he=q?q!==i:i!==1,me=g.has(Q)&&te==null;return he||me},N=(q,Q)=>{g.forEach(te=>{var he;(Q==null||Q===te.props.toastId)&&((he=te.toggle)==null||he.call(te,q))})},M=q=>{var Q,te;(te=(Q=q.props)==null?void 0:Q.onClose)==null||te.call(Q,q.removalReason),q.isActive=!1},z=q=>{if(q==null)g.forEach(M);else{let Q=g.get(q);Q&&M(Q)}S()},L=()=>{a-=u.length,u=[]},H=q=>{var Q,te;let{toastId:he,updateId:me}=q.props,k=me==null;q.staleId&&g.delete(q.staleId),q.isActive=!0,g.set(he,q),S(),n(yg(q,k?"added":"updated")),k&&((te=(Q=q.props).onOpen)==null||te.call(Q))};return{id:i,props:d,observe:E,toggle:N,removeToast:z,toasts:g,clearQueue:L,buildToast:(q,Q)=>{if(I(Q))return;let{toastId:te,updateId:he,data:me,staleId:k,delay:T}=Q,R=he==null;R&&a++;let P={...d,style:d.toastStyle,key:s++,...Object.fromEntries(Object.entries(Q).filter(([O,A])=>A!=null)),toastId:te,updateId:he,data:me,isIn:!1,className:lh(Q.className||d.toastClassName),progressClassName:lh(Q.progressClassName||d.progressClassName),autoClose:Q.isLoading?!1:SS(Q.autoClose,d.autoClose),closeToast(O){g.get(te).removalReason=O,z(te)},deleteToast(){let O=g.get(te);if(O!=null){if(n(yg(O,"removed")),g.delete(te),a--,a<0&&(a=0),u.length>0){H(u.shift());return}S()}}};P.closeButton=d.closeButton,Q.closeButton===!1||uh(Q.closeButton)?P.closeButton=Q.closeButton:Q.closeButton===!0&&(P.closeButton=uh(d.closeButton)?d.closeButton:!0);let D={content:q,props:P,staleId:k};d.limit&&d.limit>0&&a>d.limit&&R?u.push(D):Va(T)?setTimeout(()=>{H(D)},T):H(D)},setProps(q){d=q},setToggle:(q,Q)=>{let te=g.get(q);te&&(te.toggle=Q)},isToastActive:q=>{var Q;return(Q=g.get(q))==null?void 0:Q.isActive},getSnapshot:()=>f}}var qt=new Map,Ra=[],ch=new Set,NS=i=>ch.forEach(e=>e(i)),T_=()=>qt.size>0;function DS(){Ra.forEach(i=>S_(i.content,i.options)),Ra=[]}var VS=(i,{containerId:e})=>{var n;return(n=qt.get(e||1))==null?void 0:n.toasts.get(i)};function I_(i,e){var n;if(e)return!!((n=qt.get(e))!=null&&n.isToastActive(i));let s=!1;return qt.forEach(a=>{a.isToastActive(i)&&(s=!0)}),s}function LS(i){if(!T_()){Ra=Ra.filter(e=>i!=null&&e.options.toastId!==i);return}if(i==null||IS(i))qt.forEach(e=>{e.removeToast(i)});else if(i&&("containerId"in i||"id"in i)){let e=qt.get(i.containerId);e?e.removeToast(i.id):qt.forEach(n=>{n.removeToast(i.id)})}}var OS=(i={})=>{qt.forEach(e=>{e.props.limit&&(!i.containerId||e.id===i.containerId)&&e.clearQueue()})};function S_(i,e){uh(i)&&(T_()||Ra.push({content:i,options:e}),qt.forEach(n=>{n.buildToast(i,e)}))}function MS(i){var e;(e=qt.get(i.containerId||1))==null||e.setToggle(i.id,i.fn)}function C_(i,e){qt.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(i,e==null?void 0:e.id)})}function bS(i){let e=i.containerId||1;return{subscribe(n){let s=xS(e,i,NS);qt.set(e,s);let a=s.observe(n);return DS(),()=>{a(),qt.delete(e)}},setProps(n){var s;(s=qt.get(e))==null||s.setProps(n)},getSnapshot(){var n;return(n=qt.get(e))==null?void 0:n.getSnapshot()}}}function FS(i){return ch.add(i),()=>{ch.delete(i)}}function US(i){return i&&(qi(i.toastId)||Va(i.toastId))?i.toastId:w_()}function La(i,e){return S_(i,e),e.toastId}function Gu(i,e){return{...e,type:e&&e.type||i,toastId:US(e)}}function Xu(i){return(e,n)=>La(e,Gu(i,n))}function Ue(i,e){return La(i,Gu("default",e))}Ue.loading=(i,e)=>La(i,Gu("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function zS(i,{pending:e,error:n,success:s},a){let u;e&&(u=qi(e)?Ue.loading(e,a):Ue.loading(e.render,{...a,...e}));let f={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(_,E,S)=>{if(E==null){Ue.dismiss(u);return}let I={type:_,...f,...a,data:S},N=qi(E)?{render:E}:E;return u?Ue.update(u,{...I,...N}):Ue(N.render,{...I,...N}),S},g=Cr(i)?i():i;return g.then(_=>d("success",s,_)).catch(_=>d("error",n,_)),g}Ue.promise=zS;Ue.success=Xu("success");Ue.info=Xu("info");Ue.error=Xu("error");Ue.warning=Xu("warning");Ue.warn=Ue.warning;Ue.dark=(i,e)=>La(i,Gu("default",{theme:"dark",...e}));function BS(i){LS(i)}Ue.dismiss=BS;Ue.clearWaitingQueue=OS;Ue.isActive=I_;Ue.update=(i,e={})=>{let n=VS(i,e);if(n){let{props:s,content:a}=n,u={delay:100,...s,...e,toastId:e.toastId||i,updateId:w_()};u.toastId!==i&&(u.staleId=i);let f=u.render||a;delete u.render,La(f,u)}};Ue.done=i=>{Ue.update(i,{progress:1})};Ue.onChange=FS;Ue.play=i=>C_(!0,i);Ue.pause=i=>C_(!1,i);function jS(i){var e;let{subscribe:n,getSnapshot:s,setProps:a}=$.useRef(bS(i)).current;a(i);let u=(e=$.useSyncExternalStore(n,s,s))==null?void 0:e.slice();function f(d){if(!u)return[];let g=new Map;return i.newestOnTop&&u.reverse(),u.forEach(_=>{let{position:E}=_.props;g.has(E)||g.set(E,[]),g.get(E).push(_)}),Array.from(g,_=>d(_[0],_[1]))}return{getToastToRender:f,isToastActive:I_,count:u==null?void 0:u.length}}function $S(i){let[e,n]=$.useState(!1),[s,a]=$.useState(!1),u=$.useRef(null),f=$.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:g,closeToast:_,onClick:E,closeOnClick:S}=i;MS({id:i.toastId,containerId:i.containerId,fn:n}),$.useEffect(()=>{if(i.pauseOnFocusLoss)return I(),()=>{N()}},[i.pauseOnFocusLoss]);function I(){document.hasFocus()||H(),window.addEventListener("focus",L),window.addEventListener("blur",H)}function N(){window.removeEventListener("focus",L),window.removeEventListener("blur",H)}function M(k){if(i.draggable===!0||i.draggable===k.pointerType){q();let T=u.current;f.canCloseOnClick=!0,f.canDrag=!0,T.style.transition="none",i.draggableDirection==="x"?(f.start=k.clientX,f.removalDistance=T.offsetWidth*(i.draggablePercent/100)):(f.start=k.clientY,f.removalDistance=T.offsetHeight*(i.draggablePercent===80?i.draggablePercent*1.5:i.draggablePercent)/100)}}function z(k){let{top:T,bottom:R,left:P,right:D}=u.current.getBoundingClientRect();k.nativeEvent.type!=="touchend"&&i.pauseOnHover&&k.clientX>=P&&k.clientX<=D&&k.clientY>=T&&k.clientY<=R?H():L()}function L(){n(!0)}function H(){n(!1)}function q(){f.didMove=!1,document.addEventListener("pointermove",te),document.addEventListener("pointerup",he)}function Q(){document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",he)}function te(k){let T=u.current;if(f.canDrag&&T){f.didMove=!0,e&&H(),i.draggableDirection==="x"?f.delta=k.clientX-f.start:f.delta=k.clientY-f.start,f.start!==k.clientX&&(f.canCloseOnClick=!1);let R=i.draggableDirection==="x"?`${f.delta}px, var(--y)`:`0, calc(${f.delta}px + var(--y))`;T.style.transform=`translate3d(${R},0)`,T.style.opacity=`${1-Math.abs(f.delta/f.removalDistance)}`}}function he(){Q();let k=u.current;if(f.canDrag&&f.didMove&&k){if(f.canDrag=!1,Math.abs(f.delta)>f.removalDistance){a(!0),i.closeToast(!0),i.collapseAll();return}k.style.transition="transform 0.2s, opacity 0.2s",k.style.removeProperty("transform"),k.style.removeProperty("opacity")}}let me={onPointerDown:M,onPointerUp:z};return d&&g&&(me.onMouseEnter=H,i.stacked||(me.onMouseLeave=L)),S&&(me.onClick=k=>{E&&E(k),f.canCloseOnClick&&_(!0)}),{playToast:L,pauseToast:H,isRunning:e,preventExitTransition:s,toastRef:u,eventHandlers:me}}var qS=typeof window<"u"?$.useLayoutEffect:$.useEffect,Yu=({theme:i,type:e,isLoading:n,...s})=>Ke.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:i==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...s});function HS(i){return Ke.createElement(Yu,{...i},Ke.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function WS(i){return Ke.createElement(Yu,{...i},Ke.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function QS(i){return Ke.createElement(Yu,{...i},Ke.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function KS(i){return Ke.createElement(Yu,{...i},Ke.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function GS(){return Ke.createElement("div",{className:"Toastify__spinner"})}var fh={info:WS,warning:HS,success:QS,error:KS,spinner:GS},XS=i=>i in fh;function YS({theme:i,type:e,isLoading:n,icon:s}){let a=null,u={theme:i,type:e};return s===!1||(Cr(s)?a=s({...u,isLoading:n}):$.isValidElement(s)?a=$.cloneElement(s,u):n?a=fh.spinner():XS(e)&&(a=fh[e](u))),a}var JS=i=>{let{isRunning:e,preventExitTransition:n,toastRef:s,eventHandlers:a,playToast:u}=$S(i),{closeButton:f,children:d,autoClose:g,onClick:_,type:E,hideProgressBar:S,closeToast:I,transition:N,position:M,className:z,style:L,progressClassName:H,updateId:q,role:Q,progress:te,rtl:he,toastId:me,deleteToast:k,isIn:T,isLoading:R,closeOnClick:P,theme:D,ariaLabel:O}=i,A=Bi("Toastify__toast",`Toastify__toast-theme--${D}`,`Toastify__toast--${E}`,{"Toastify__toast--rtl":he},{"Toastify__toast--close-on-click":P}),Je=Cr(z)?z({rtl:he,position:M,type:E,defaultClassName:A}):Bi(A,z),ct=YS(i),ft=!!te||!g,Oe={closeToast:I,type:E,theme:D},re=null;return f===!1||(Cr(f)?re=f(Oe):$.isValidElement(f)?re=$.cloneElement(f,Oe):re=AS(Oe)),Ke.createElement(N,{isIn:T,done:k,position:M,preventExitTransition:n,nodeRef:s,playToast:u},Ke.createElement("div",{id:me,tabIndex:0,onClick:_,"data-in":T,className:Je,...a,style:L,ref:s,...T&&{role:Q,"aria-label":O}},ct!=null&&Ke.createElement("div",{className:Bi("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},ct),E_(d,i,!e),re,!i.customProgressBar&&Ke.createElement(kS,{...q&&!ft?{key:`p-${q}`}:{},rtl:he,theme:D,delay:g,isRunning:e,isIn:T,closeToast:I,hide:S,type:E,className:H,controlledProgress:ft,progress:te||0})))},ZS=(i,e=!1)=>({enter:`Toastify--animate Toastify__${i}-enter`,exit:`Toastify--animate Toastify__${i}-exit`,appendPosition:e}),eC=RS(ZS("bounce",!0)),tC={position:"top-right",transition:eC,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:i=>i.altKey&&i.code==="KeyT"};function nC(i){let e={...tC,...i},n=i.stacked,[s,a]=$.useState(!0),u=$.useRef(null),{getToastToRender:f,isToastActive:d,count:g}=jS(e),{className:_,style:E,rtl:S,containerId:I,hotKeys:N}=e;function M(L){let H=Bi("Toastify__toast-container",`Toastify__toast-container--${L}`,{"Toastify__toast-container--rtl":S});return Cr(_)?_({position:L,rtl:S,defaultClassName:H}):Bi(H,lh(_))}function z(){n&&(a(!0),Ue.play())}return qS(()=>{var L;if(n){let H=u.current.querySelectorAll('[data-in="true"]'),q=12,Q=(L=e.position)==null?void 0:L.includes("top"),te=0,he=0;Array.from(H).reverse().forEach((me,k)=>{let T=me;T.classList.add("Toastify__toast--stacked"),k>0&&(T.dataset.collapsed=`${s}`),T.dataset.pos||(T.dataset.pos=Q?"top":"bot");let R=te*(s?.2:1)+(s?0:q*k);T.style.setProperty("--y",`${Q?R:R*-1}px`),T.style.setProperty("--g",`${q}`),T.style.setProperty("--s",`${1-(s?he:0)}`),te+=T.offsetHeight,he+=.025})}},[s,g,n]),$.useEffect(()=>{function L(H){var q;let Q=u.current;N(H)&&((q=Q.querySelector('[tabIndex="0"]'))==null||q.focus(),a(!1),Ue.pause()),H.key==="Escape"&&(document.activeElement===Q||Q!=null&&Q.contains(document.activeElement))&&(a(!0),Ue.play())}return document.addEventListener("keydown",L),()=>{document.removeEventListener("keydown",L)}},[N]),Ke.createElement("section",{ref:u,className:"Toastify",id:I,onMouseEnter:()=>{n&&(a(!1),Ue.pause())},onMouseLeave:z,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},f((L,H)=>{let q=H.length?{...E}:{...E,pointerEvents:"none"};return Ke.createElement("div",{tabIndex:-1,className:M(L),"data-stacked":n,style:q,key:`c-${L}`},H.map(({content:Q,props:te})=>Ke.createElement(JS,{...te,stacked:n,collapseAll:z,isIn:d(te.toastId,te.containerId),key:`t-${te.key}`},Q)))}))}const R_=({toy:i})=>{const{addToCart:e}=Jh(),n=$h(),[s,a]=$.useState(i),{text:u,className:f}=g_(s.quantity),d=async()=>{if(s.quantity>0){e(s),Ue.success(`${i.name} added to cart!`,{position:"top-left",autoClose:2e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0});const g={...s,quantity:s.quantity-1};a(g);const _=qu(n,"toys",s.id);await Xh(_,{quantity:g.quantity})}};return ee.jsxs("div",{className:Bs.card,children:[s.isNew&&ee.jsx("div",{className:Bs.newLabel,children:"New"}),ee.jsxs(_h,{to:`/toy/${i.id}`,className:Bs.cardLink,children:[ee.jsx("img",{src:s.imageUrl,alt:s.name,className:Bs.image}),ee.jsxs("div",{className:Bs.info,children:[ee.jsx("h3",{children:s.name}),ee.jsxs("p",{children:["Price: $",s.price]}),ee.jsx("p",{className:Bs[f],children:u})]})]}),ee.jsx(y_,{onClick:d,disabled:s.quantity===0,children:s.quantity===0?"Out of Stock":"Add To Cart"})]})},rC="_home_rgwp2_1",iC="_grid_rgwp2_4",sC="_title_rgwp2_12",oC="_btnWrapper_rgwp2_18",aC="_productBtn_rgwp2_21",la={home:rC,grid:iC,title:sC,btnWrapper:oC,productBtn:aC},lC="_container_1h3sn_1",uC="_loader_1h3sn_6",cC="_spin_1h3sn_1",_g={container:lC,loader:uC,spin:cC},Zh=()=>ee.jsx("div",{className:_g.container,children:ee.jsx("div",{className:_g.loader})}),vg=()=>{const[i,e]=$.useState([]);return $.useEffect(()=>{(async()=>{try{const s=await m_();e(s)}catch(s){console.error("Error fetching toys:",s)}})()},[]),ee.jsxs("div",{className:la.home,children:[i.length>0?ee.jsx(fS,{images:i.slice(4,7)}):ee.jsx(Zh,{}),ee.jsx("h2",{className:la.title,children:"Featured Products"}),ee.jsx("div",{className:la.grid,children:i.slice(9,13).map(n=>ee.jsx(R_,{toy:n},n.id))}),ee.jsx("div",{className:la.btnWrapper,children:ee.jsx(da,{className:la.productBtn,to:"/products",children:"See More Products"})})]})},fC="_grid_7j61y_1",hC={grid:fC},dC=()=>{const[i,e]=$.useState([]);return $.useEffect(()=>{(async()=>{try{const s=await m_();e(s)}catch(s){Ue.error(`Error fetching toys: ${s}`,{position:"top-left",autoClose:2e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}})()},[]),ee.jsx("div",{className:hC.grid,children:i.length>0?i.map(n=>ee.jsx(R_,{toy:n},n.id)):ee.jsx(Zh,{})})},pC=()=>ee.jsx(ee.Fragment,{children:ee.jsx(dC,{})}),mC="_cartPage_19tjv_1",gC="_cartItem_19tjv_6",yC="_image_19tjv_18",ru={cartPage:mC,cartItem:gC,image:yC},_C=()=>{const{cart:i,removeFromCart:e}=Jh(),n=i.reduce((s,a)=>s+a.price*a.quantity,0);return ee.jsxs("div",{className:ru.cartPage,children:[ee.jsx("h1",{children:"Cart"}),i.length===0?ee.jsx("h2",{children:"Please add a toy to the cart."}):i.map(s=>ee.jsxs("div",{className:ru.cartItem,children:[ee.jsx("img",{src:s.imageUrl,alt:s.name,className:ru.image}),ee.jsxs("div",{children:[ee.jsx("h3",{children:s.name}),ee.jsxs("p",{children:[ee.jsx("strong",{children:"Price:"})," $",s.price]}),ee.jsxs("p",{children:[ee.jsx("strong",{children:"Amount:"})," ",s.quantity]}),ee.jsx("button",{onClick:()=>e(s),children:"Remove"})]})]},s.id)),ee.jsx("div",{className:ru.totalPrice,children:ee.jsxs("h2",{children:["Total Price: $",n.toFixed(2)]})})]})},vC="_detailsPage_ppbe5_1",EC="_image_ppbe5_21",wC="_colourSelector_ppbe5_30",TC="_colourButton_ppbe5_40",iu={detailsPage:vC,image:EC,colourSelector:wC,colourButton:TC},IC=()=>{var S;const{toyId:i}=mE(),{addToCart:e}=Jh(),[n,s]=$.useState(null),[a,u]=$.useState(null),[f,d]=$.useState(!0),g=$h();$.useEffect(()=>{(async()=>{try{const N=await rS(i);s(N),u(N.imageUrl)}catch(N){console.error("Error fetching toy data:",N)}finally{d(!1)}})()},[i]);const _=I=>{u(I)},E=async()=>{if(n&&n.quantity>0){e(n),Ue.success(`${n.name} added to cart!`,{position:"top-left",autoClose:2e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0});const I={...n,quantity:n.quantity-1};s(I);const N=qu(g,"toys",n.id);await Xh(N,{quantity:I.quantity})}};return f?ee.jsx(Zh,{}):n?ee.jsxs("div",{className:iu.detailsPage,children:[ee.jsx("h1",{children:n.name}),ee.jsx("img",{src:a,alt:n.name,className:iu.image}),ee.jsxs("div",{className:iu.colourSelector,children:[ee.jsx("h2",{children:"Colours: "}),(S=n.variants)==null?void 0:S.map(I=>ee.jsx("button",{style:{backgroundColor:I.colour},className:iu.colourButton,onClick:()=>_(I.imageUrl)},I.id))]}),ee.jsxs("p",{children:[ee.jsx("strong",{children:"Price:"})," $",n.price]}),ee.jsxs("p",{children:[ee.jsx("strong",{children:"Description:"})," ",n.description]}),ee.jsxs("p",{children:[ee.jsx("strong",{children:"Stock Status:"})," ",n.quantity>0?`In Stock: ${n.quantity}`:"Out of Stock"]}),ee.jsx(y_,{onClick:E,disabled:n.quantity===0,children:n.quantity===0?"Out of Stock":"Add To Cart"})]}):ee.jsx("p",{children:"No toy found!"})},SC="_footer_1pdac_1",CC={footer:SC},RC=()=>ee.jsxs("h3",{className:CC.footer,children:["Copyright ",new Date().getFullYear()," | James Nemeth"]});function AC(){return ee.jsx(ee.Fragment,{children:ee.jsxs(wS,{children:[ee.jsx(nC,{}),ee.jsxs(e0,{basename:"E-Toy-Shop",children:[ee.jsx(p0,{}),ee.jsxs(xE,{children:[ee.jsx(js,{path:"/",element:ee.jsx(vg,{})}),ee.jsx(js,{path:"/products",element:ee.jsx(pC,{})}),ee.jsx(js,{path:"/cart",element:ee.jsx(_C,{})}),ee.jsx(js,{path:"/toy/:toyId",element:ee.jsx(IC,{})}),ee.jsx(js,{path:"*",element:ee.jsx(vg,{})})]}),ee.jsx(RC,{})]})]})})}Fv.createRoot(document.getElementById("root")).render(ee.jsx(AC,{}));
